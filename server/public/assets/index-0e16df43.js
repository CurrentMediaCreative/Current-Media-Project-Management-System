var e=Object.getOwnPropertyNames;import{c as t,j as r,a as n,u as i,B as a,A as s,T as o,I as l,b as c,D as u,L as d,d as h,e as f,f as p,C as m,h as y,g as v,i as g,k as b,l as x,P as j,G as w,S,m as C,n as E,o as T,p as O,q as _,r as k,M as P,s as A,t as D,v as F,w as R,x as M,y as U,z as N,E as q,F as I,H as L,J as $,K as B,N as z,O as V,Q as W,R as H,U as K,_ as Q,V as Y,W as G,X as J,Y as X,Z,$ as ee}from"./ui-7c7eac59.js";import{d as te,r as re,b as ne,u as ie,g as ae,a as se,B as oe,e as le,f as ce,N as ue}from"./vendor-b6592267.js";var de,he,fe=(de={"assets/index-0e16df43.js"(e,de){!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var he={},fe=te;he.createRoot=fe.createRoot,he.hydrateRoot=fe.hydrateRoot;var pe=re;
/**
     * @license React
     * use-sync-external-store-with-selector.production.js
     *
     * Copyright (c) Meta Platforms, Inc. and affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */"function"==typeof Object.is&&Object.is,pe.useSyncExternalStore,pe.useRef,pe.useEffect,pe.useMemo,pe.useDebugValue;var me={notify(){},get:()=>[]},ye=(()=>!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement))(),ve=(()=>"undefined"!=typeof navigator&&"ReactNative"===navigator.product)(),ge=(()=>ye||ve?re.useLayoutEffect:re.useEffect)(),be=Symbol.for("react-redux-context"),xe="undefined"!=typeof globalThis?globalThis:{};function je(){if(!re.createContext)return{};const e=xe[be]??(xe[be]=new Map);let t=e.get(re.createContext);return t||(t=re.createContext(null),e.set(re.createContext,t)),t}var we=je(),Se=function(e){const{children:t,context:r,serverState:n,store:i}=e,a=re.useMemo(()=>{const e=function(e,t){let r,n=me,i=0,a=!1;function s(){c.onStateChange&&c.onStateChange()}function o(){i++,r||(r=t?t.addNestedSub(s):e.subscribe(s),n=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){(()=>{let t=e;for(;t;)t.callback(),t=t.next})()},get(){const t=[];let r=e;for(;r;)t.push(r),r=r.next;return t},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){n&&null!==e&&(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function l(){i--,r&&0===i&&(r(),r=void 0,n.clear(),n=me)}const c={addNestedSub:function(e){o();const t=n.subscribe(e);let r=!1;return()=>{r||(r=!0,t(),l())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:s,isSubscribed:function(){return a},trySubscribe:function(){a||(a=!0,o())},tryUnsubscribe:function(){a&&(a=!1,l())},getListeners:()=>n};return c}(i);return{store:i,subscription:e,getServerState:n?()=>n:void 0}},[i,n]),s=re.useMemo(()=>i.getState(),[i]);ge(()=>{const{subscription:e}=a;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==i.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[a,s]);const o=r||we;return re.createElement(o.Provider,{value:a},t)};class Ce{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const t={listener:e};return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const Ee="undefined"==typeof window||"Deno"in window;function Te(){}function Oe(e,t,r){return Ie(e)?"function"==typeof t?{...r,queryKey:e,queryFn:t}:{...t,queryKey:e}:e}function _e(e,t,r){return Ie(e)?[{...t,queryKey:e},r]:[e||{},t]}function ke(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:s,stale:o}=e;if(Ie(s))if(n){if(t.queryHash!==Ae(s,t.options))return!1}else if(!Fe(t.queryKey,s))return!1;if("all"!==r){const e=t.isActive();if("active"===r&&!e)return!1;if("inactive"===r&&e)return!1}return!("boolean"==typeof o&&t.isStale()!==o||void 0!==i&&i!==t.state.fetchStatus||a&&!a(t))}function Pe(e,t){const{exact:r,fetching:n,predicate:i,mutationKey:a}=e;if(Ie(a)){if(!t.options.mutationKey)return!1;if(r){if(De(t.options.mutationKey)!==De(a))return!1}else if(!Fe(t.options.mutationKey,a))return!1}return!("boolean"==typeof n&&"loading"===t.state.status!==n||i&&!i(t))}function Ae(e,t){return((null==t?void 0:t.queryKeyHashFn)||De)(e)}function De(e){return JSON.stringify(e,(e,t)=>Ne(t)?Object.keys(t).sort().reduce((e,r)=>(e[r]=t[r],e),{}):t)}function Fe(e,t){return Re(e,t)}function Re(e,t){return e===t||typeof e==typeof t&&!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&!Object.keys(t).some(r=>!Re(e[r],t[r]))}function Me(e,t){if(e===t)return e;const r=Ue(e)&&Ue(t);if(r||Ne(e)&&Ne(t)){const n=r?e.length:Object.keys(e).length,i=r?t:Object.keys(t),a=i.length,s=r?[]:{};let o=0;for(let l=0;l<a;l++){const n=r?l:i[l];s[n]=Me(e[n],t[n]),s[n]===e[n]&&o++}return n===a&&o===n?e:s}return t}function Ue(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ne(e){if(!qe(e))return!1;const t=e.constructor;if(void 0===t)return!0;const r=t.prototype;return!!qe(r)&&!!r.hasOwnProperty("isPrototypeOf")}function qe(e){return"[object Object]"===Object.prototype.toString.call(e)}function Ie(e){return Array.isArray(e)}function Le(e){return new Promise(t=>{setTimeout(t,e)})}function $e(e){Le(0).then(e)}function Be(e,t,r){return null!=r.isDataEqual&&r.isDataEqual(e,t)?e:"function"==typeof r.structuralSharing?r.structuralSharing(e,t):!1!==r.structuralSharing?Me(e,t):t}const ze=new class extends Ce{constructor(){super(),this.setup=e=>{if(!Ee&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),window.addEventListener("focus",t,!1),()=>{window.removeEventListener("visibilitychange",t),window.removeEventListener("focus",t)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)}setEventListener(e){var t;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return"boolean"==typeof this.focused?this.focused:"undefined"==typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)}},Ve=["online","offline"],We=new class extends Ce{constructor(){super(),this.setup=e=>{if(!Ee&&window.addEventListener){const t=()=>e();return Ve.forEach(e=>{window.addEventListener(e,t,!1)}),()=>{Ve.forEach(e=>{window.removeEventListener(e,t)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)}setEventListener(e){var t;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e(e=>{"boolean"==typeof e?this.setOnline(e):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return"boolean"==typeof this.online?this.online:"undefined"==typeof navigator||void 0===navigator.onLine||navigator.onLine}};function He(e){return Math.min(1e3*2**e,3e4)}function Ke(e){return"online"!==(null!=e?e:"online")||We.isOnline()}class Qe{constructor(e){this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent}}function Ye(e){return e instanceof Qe}function Ge(e){let t,r,n,i=!1,a=0,s=!1;const o=new Promise((e,t)=>{r=e,n=t}),l=()=>!ze.isFocused()||"always"!==e.networkMode&&!We.isOnline(),c=n=>{s||(s=!0,null==e.onSuccess||e.onSuccess(n),null==t||t(),r(n))},u=r=>{s||(s=!0,null==e.onError||e.onError(r),null==t||t(),n(r))},d=()=>new Promise(r=>{t=e=>{const t=s||!l();return t&&r(e),t},null==e.onPause||e.onPause()}).then(()=>{t=void 0,s||null==e.onContinue||e.onContinue()}),h=()=>{if(s)return;let t;try{t=e.fn()}catch(r){t=Promise.reject(r)}Promise.resolve(t).then(c).catch(t=>{var r,n;if(s)return;const o=null!=(r=e.retry)?r:3,c=null!=(n=e.retryDelay)?n:He,f="function"==typeof c?c(a,t):c,p=!0===o||"number"==typeof o&&a<o||"function"==typeof o&&o(a,t);!i&&p?(a++,null==e.onFail||e.onFail(a,t),Le(f).then(()=>{if(l())return d()}).then(()=>{i?u(t):h()})):u(t)})};return Ke(e.networkMode)?h():d().then(h),{promise:o,cancel:t=>{s||(u(new Qe(t)),null==e.abort||e.abort())},continue:()=>(null==t?void 0:t())?o:Promise.resolve(),cancelRetry:()=>{i=!0},continueRetry:()=>{i=!1}}}const Je=console,Xe=function(){let e=[],t=0,r=e=>{e()},n=e=>{e()};const i=n=>{t?e.push(n):$e(()=>{r(n)})},a=()=>{const t=e;e=[],t.length&&$e(()=>{n(()=>{t.forEach(e=>{r(e)})})})};return{batch:e=>{let r;t++;try{r=e()}finally{t--,t||a()}return r},batchCalls:e=>(...t)=>{i(()=>{e(...t)})},schedule:i,setNotifyFunction:e=>{r=e},setBatchNotifyFunction:e=>{n=e}}}();class Ze{destroy(){this.clearGcTimeout()}scheduleGc(){var e;this.clearGcTimeout(),"number"==typeof(e=this.cacheTime)&&e>=0&&e!==1/0&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,null!=e?e:Ee?1/0:3e5)}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class et extends Ze{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||Je,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||function(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,r=void 0!==t,n=r?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?null!=n?n:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"loading",fetchStatus:"idle"}}(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.cache.remove(this)}setData(e,t){const r=Be(this.state.data,e,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),r}setState(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})}cancel(e){var t;const r=this.promise;return null==(t=this.retryer)||t.cancel(e),r?r.then(Te).catch(Te):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>!1!==e.options.enabled)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!function(e,t){return Math.max(e+(t||0)-Date.now(),0)}(this.state.dataUpdatedAt,e)}onFocus(){var e;const t=this.observers.find(e=>e.shouldFetchOnWindowFocus());t&&t.refetch({cancelRefetch:!1}),null==(e=this.retryer)||e.continue()}onOnline(){var e;const t=this.observers.find(e=>e.shouldFetchOnReconnect());t&&t.refetch({cancelRefetch:!1}),null==(e=this.retryer)||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,t){var r,n;if("idle"!==this.state.fetchStatus)if(this.state.dataUpdatedAt&&null!=t&&t.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var i;return null==(i=this.retryer)||i.continueRetry(),this.promise}if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}const a=function(){if("function"==typeof AbortController)return new AbortController}(),s={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},o=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>{if(a)return this.abortSignalConsumed=!0,a.signal}})};o(s);const l={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(s)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'")};var c;o(l),null==(r=this.options.behavior)||r.onFetch(l),this.revertState=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==(null==(n=l.fetchOptions)?void 0:n.meta))&&this.dispatch({type:"fetch",meta:null==(c=l.fetchOptions)?void 0:c.meta});const u=e=>{var t,r,n,i;Ye(e)&&e.silent||this.dispatch({type:"error",error:e}),Ye(e)||(null==(t=(r=this.cache.config).onError)||t.call(r,e,this),null==(n=(i=this.cache.config).onSettled)||n.call(i,this.state.data,e,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=Ge({fn:l.fetchFn,abort:null==a?void 0:a.abort.bind(a),onSuccess:e=>{var t,r,n,i;void 0!==e?(this.setData(e),null==(t=(r=this.cache.config).onSuccess)||t.call(r,e,this),null==(n=(i=this.cache.config).onSettled)||n.call(i,e,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1):u(new Error(this.queryHash+" data is undefined"))},onError:u,onFail:(e,t)=>{this.dispatch({type:"failed",failureCount:e,error:t})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){this.state=(t=>{var r,n;switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null!=(r=e.meta)?r:null,fetchStatus:Ke(this.options.networkMode)?"fetching":"paused",...!t.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:null!=(n=e.dataUpdatedAt)?n:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return Ye(i)&&i.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...t,error:i,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),Xe.batch(()=>{this.observers.forEach(t=>{t.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}class tt extends Ce{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,t,r){var n;const i=t.queryKey,a=null!=(n=t.queryHash)?n:Ae(i,t);let s=this.get(a);return s||(s=new et({cache:this,logger:e.getLogger(),queryKey:i,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter(t=>t!==e),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){Xe.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,t){const[r]=_e(e,t);return void 0===r.exact&&(r.exact=!0),this.queries.find(e=>ke(r,e))}findAll(e,t){const[r]=_e(e,t);return Object.keys(r).length>0?this.queries.filter(e=>ke(r,e)):this.queries}notify(e){Xe.batch(()=>{this.listeners.forEach(({listener:t})=>{t(e)})})}onFocus(){Xe.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){Xe.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}class rt extends Ze{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||Je,this.observers=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(t=>t!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||("loading"===this.state.status?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,t;return null!=(e=null==(t=this.retryer)?void 0:t.continue())?e:this.execute()}async execute(){const e=()=>{var e;return this.retryer=Ge({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(e,t)=>{this.dispatch({type:"failed",failureCount:e,error:t})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:null!=(e=this.options.retry)?e:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},t="loading"===this.state.status;try{var r,n,i,a,s,o,l,c;if(!t){var u,d,h,f;this.dispatch({type:"loading",variables:this.options.variables}),await(null==(u=(d=this.mutationCache.config).onMutate)?void 0:u.call(d,this.state.variables,this));const e=await(null==(h=(f=this.options).onMutate)?void 0:h.call(f,this.state.variables));e!==this.state.context&&this.dispatch({type:"loading",context:e,variables:this.state.variables})}const p=await e();return await(null==(r=(n=this.mutationCache.config).onSuccess)?void 0:r.call(n,p,this.state.variables,this.state.context,this)),await(null==(i=(a=this.options).onSuccess)?void 0:i.call(a,p,this.state.variables,this.state.context)),await(null==(s=(o=this.mutationCache.config).onSettled)?void 0:s.call(o,p,null,this.state.variables,this.state.context,this)),await(null==(l=(c=this.options).onSettled)?void 0:l.call(c,p,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:p}),p}catch(w){try{var p,m,y,v,g,b,x,j;throw await(null==(p=(m=this.mutationCache.config).onError)?void 0:p.call(m,w,this.state.variables,this.state.context,this)),await(null==(y=(v=this.options).onError)?void 0:y.call(v,w,this.state.variables,this.state.context)),await(null==(g=(b=this.mutationCache.config).onSettled)?void 0:g.call(b,void 0,w,this.state.variables,this.state.context,this)),await(null==(x=(j=this.options).onSettled)?void 0:x.call(j,void 0,w,this.state.variables,this.state.context)),w}finally{this.dispatch({type:"error",error:w})}}}dispatch(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"loading":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!Ke(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...t,...e.state}}})(this.state),Xe.batch(()=>{this.observers.forEach(t=>{t.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}class nt extends Ce{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,t,r){const n=new rt({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:r,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0});return this.add(n),n}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(t=>t!==e),this.notify({type:"removed",mutation:e})}clear(){Xe.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return void 0===e.exact&&(e.exact=!0),this.mutations.find(t=>Pe(e,t))}findAll(e){return this.mutations.filter(t=>Pe(e,t))}notify(e){Xe.batch(()=>{this.listeners.forEach(({listener:t})=>{t(e)})})}resumePausedMutations(){var e;return this.resuming=(null!=(e=this.resuming)?e:Promise.resolve()).then(()=>{const e=this.mutations.filter(e=>e.state.isPaused);return Xe.batch(()=>e.reduce((e,t)=>e.then(()=>t.continue().catch(Te)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function it(){return{onFetch:e=>{e.fetchFn=()=>{var t,r,n,i,a,s;const o=null==(t=e.fetchOptions)||null==(r=t.meta)?void 0:r.refetchPage,l=null==(n=e.fetchOptions)||null==(i=n.meta)?void 0:i.fetchMore,c=null==l?void 0:l.pageParam,u="forward"===(null==l?void 0:l.direction),d="backward"===(null==l?void 0:l.direction),h=(null==(a=e.state.data)?void 0:a.pages)||[],f=(null==(s=e.state.data)?void 0:s.pageParams)||[];let p=f,m=!1;const y=e.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+e.options.queryHash+"'")),v=(e,t,r,n)=>(p=n?[t,...p]:[...p,t],n?[r,...e]:[...e,r]),g=(t,r,n,i)=>{if(m)return Promise.reject("Cancelled");if(void 0===n&&!r&&t.length)return Promise.resolve(t);const a={queryKey:e.queryKey,pageParam:n,meta:e.options.meta};var s;s=a,Object.defineProperty(s,"signal",{enumerable:!0,get:()=>{var t,r;return null!=(t=e.signal)&&t.aborted?m=!0:null==(r=e.signal)||r.addEventListener("abort",()=>{m=!0}),e.signal}});const o=y(a);return Promise.resolve(o).then(e=>v(t,n,e,i))};let b;if(h.length)if(u){const t=void 0!==c,r=t?c:at(e.options,h);b=g(h,t,r)}else if(d){const t=void 0!==c,r=t?c:(x=e.options,j=h,null==x.getPreviousPageParam?void 0:x.getPreviousPageParam(j[0],j));b=g(h,t,r,!0)}else{p=[];const t=void 0===e.options.getNextPageParam;b=o&&h[0]&&!o(h[0],0,h)?Promise.resolve(v([],f[0],h[0])):g([],t,f[0]);for(let r=1;r<h.length;r++)b=b.then(n=>{if(!o||!h[r]||o(h[r],r,h)){const i=t?f[r]:at(e.options,n);return g(n,t,i)}return Promise.resolve(v(n,f[r],h[r]))})}else b=g([]);var x,j;const w=b.then(e=>({pages:e,pageParams:p}));return w}}}}function at(e,t){return null==e.getNextPageParam?void 0:e.getNextPageParam(t[t.length-1],t)}const st=re.createContext(void 0),ot=re.createContext(!1),lt=({client:e,children:t,context:r,contextSharing:n=!1})=>{re.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]);const i=function(e,t){return e||(t&&"undefined"!=typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=st),window.ReactQueryClientContext):st)}(r,n);return re.createElement(ot.Provider,{value:!r&&n},re.createElement(i.Provider,{value:e},t))};function ct(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var ut=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),dt=()=>Math.random().toString(36).substring(7).split("").join("."),ht={INIT:`@@redux/INIT${dt()}`,REPLACE:`@@redux/REPLACE${dt()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${dt()}`};function ft(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function pt(e,t,r){if("function"!=typeof e)throw new Error(ct(2));if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error(ct(0));if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error(ct(1));return r(pt)(e,t)}let n=e,i=t,a=new Map,s=a,o=0,l=!1;function c(){s===a&&(s=new Map,a.forEach((e,t)=>{s.set(t,e)}))}function u(){if(l)throw new Error(ct(3));return i}function d(e){if("function"!=typeof e)throw new Error(ct(4));if(l)throw new Error(ct(5));let t=!0;c();const r=o++;return s.set(r,e),function(){if(t){if(l)throw new Error(ct(6));t=!1,c(),s.delete(r),a=null}}}function h(e){if(!ft(e))throw new Error(ct(7));if(void 0===e.type)throw new Error(ct(8));if("string"!=typeof e.type)throw new Error(ct(17));if(l)throw new Error(ct(9));try{l=!0,i=n(i,e)}finally{l=!1}return(a=s).forEach(e=>{e()}),e}return h({type:ht.INIT}),{dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw new Error(ct(10));n=e,h({type:ht.REPLACE})},[ut]:function(){const e=d;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(ct(11));function r(){const e=t;e.next&&e.next(u())}return r(),{unsubscribe:e(r)}},[ut](){return this}}}}}function mt(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const n=t[s];"function"==typeof e[n]&&(r[n]=e[n])}const n=Object.keys(r);let i;try{!function(e){Object.keys(e).forEach(t=>{const r=e[t];if(void 0===r(void 0,{type:ht.INIT}))throw new Error(ct(12));if(void 0===r(void 0,{type:ht.PROBE_UNKNOWN_ACTION()}))throw new Error(ct(13))})}(r)}catch(a){i=a}return function(e={},t){if(i)throw i;let a=!1;const s={};for(let i=0;i<n.length;i++){const o=n[i],l=r[o],c=e[o],u=l(c,t);if(void 0===u)throw t&&t.type,new Error(ct(14));s[o]=u,a=a||u!==c}return a=a||n.length!==Object.keys(e).length,a?s:e}}function yt(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,t)=>(...r)=>e(t(...r)))}var vt=Symbol.for("immer-nothing"),gt=Symbol.for("immer-draftable"),bt=Symbol.for("immer-state");function xt(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var jt=Object.getPrototypeOf;function wt(e){return!!e&&!!e[bt]}function St(e){var t;return!!e&&(Et(e)||Array.isArray(e)||!!e[gt]||!!(null==(t=e.constructor)?void 0:t[gt])||Pt(e)||At(e))}var Ct=Object.prototype.constructor.toString();function Et(e){if(!e||"object"!=typeof e)return!1;const t=jt(e);if(null===t)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===Ct}function Tt(e,t){0===Ot(e)?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Ot(e){const t=e[bt];return t?t.type_:Array.isArray(e)?1:Pt(e)?2:At(e)?3:0}function _t(e,t){return 2===Ot(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function kt(e,t,r){const n=Ot(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function Pt(e){return e instanceof Map}function At(e){return e instanceof Set}function Dt(e){return e.copy_||e.base_}function Ft(e,t){if(Pt(e))return new Map(e);if(At(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=Et(e);if(!0===t||"class_only"===t&&!r){const t=Object.getOwnPropertyDescriptors(e);delete t[bt];let r=Reflect.ownKeys(t);for(let n=0;n<r.length;n++){const i=r[n],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(jt(e),t)}{const t=jt(e);if(null!==t&&r)return{...e};const n=Object.create(t);return Object.assign(n,e)}}function Rt(e,t=!1){return Ut(e)||wt(e)||!St(e)||(Ot(e)>1&&(e.set=e.add=e.clear=e.delete=Mt),Object.freeze(e),t&&Object.entries(e).forEach(([e,t])=>Rt(t,!0))),e}function Mt(){xt(2)}function Ut(e){return Object.isFrozen(e)}var Nt,qt={};function It(e){const t=qt[e];return t||xt(0),t}function Lt(){return Nt}function $t(e,t){t&&(It("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Bt(e){zt(e),e.drafts_.forEach(Wt),e.drafts_=null}function zt(e){e===Nt&&(Nt=e.parent_)}function Vt(e){return Nt={drafts_:[],parent_:Nt,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Wt(e){const t=e[bt];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Ht(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return void 0!==e&&e!==r?(r[bt].modified_&&(Bt(t),xt(4)),St(e)&&(e=Kt(t,e),t.parent_||Yt(t,e)),t.patches_&&It("Patches").generateReplacementPatches_(r[bt].base_,e,t.patches_,t.inversePatches_)):e=Kt(t,r,[]),Bt(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==vt?e:void 0}function Kt(e,t,r){if(Ut(t))return t;const n=t[bt];if(!n)return Tt(t,(i,a)=>Qt(e,n,t,i,a,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Yt(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const t=n.copy_;let i=t,a=!1;3===n.type_&&(i=new Set(t),t.clear(),a=!0),Tt(i,(i,s)=>Qt(e,n,t,i,s,r,a)),Yt(e,t,!1),r&&e.patches_&&It("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function Qt(e,t,r,n,i,a,s){if(wt(i)){const s=Kt(e,i,a&&t&&3!==t.type_&&!_t(t.assigned_,n)?a.concat(n):void 0);if(kt(r,n,s),!wt(s))return;e.canAutoFreeze_=!1}else s&&r.add(i);if(St(i)&&!Ut(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Kt(e,i),t&&t.scope_.parent_||"symbol"==typeof n||!Object.prototype.propertyIsEnumerable.call(r,n)||Yt(e,i)}}function Yt(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Rt(t,r)}var Gt={get(e,t){if(t===bt)return e;const r=Dt(e);if(!_t(r,t))return function(e,t,r){var n;const i=Zt(t,r);return i?"value"in i?i.value:null==(n=i.get)?void 0:n.call(e.draft_):void 0}(e,r,t);const n=r[t];return e.finalized_||!St(n)?n:n===Xt(e.base_,t)?(tr(e),e.copy_[t]=rr(n,e)):n},has:(e,t)=>t in Dt(e),ownKeys:e=>Reflect.ownKeys(Dt(e)),set(e,t,r){const n=Zt(Dt(e),t);if(null==n?void 0:n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const n=Xt(Dt(e),t),s=null==n?void 0:n[bt];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(((i=r)===(a=n)?0!==i||1/i==1/a:i!=i&&a!=a)&&(void 0!==r||_t(e.base_,t)))return!0;tr(e),er(e)}var i,a;return e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Xt(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,tr(e),er(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const r=Dt(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty(){xt(11)},getPrototypeOf:e=>jt(e.base_),setPrototypeOf(){xt(12)}},Jt={};function Xt(e,t){const r=e[bt];return(r?Dt(r):e)[t]}function Zt(e,t){if(!(t in e))return;let r=jt(e);for(;r;){const e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=jt(r)}}function er(e){e.modified_||(e.modified_=!0,e.parent_&&er(e.parent_))}function tr(e){e.copy_||(e.copy_=Ft(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function rr(e,t){const r=Pt(e)?It("MapSet").proxyMap_(e,t):At(e)?It("MapSet").proxySet_(e,t):function(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Lt(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=Gt;r&&(i=[n],a=Jt);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,o}(e,t);return(t?t.scope_:Lt()).drafts_.push(r),r}function nr(e){if(!St(e)||Ut(e))return e;const t=e[bt];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Ft(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Ft(e,!0);return Tt(r,(e,t)=>{kt(r,e,nr(t))}),t&&(t.finalized_=!1),r}Tt(Gt,(e,t)=>{Jt[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Jt.deleteProperty=function(e,t){return Jt.set.call(this,e,t,void 0)},Jt.set=function(e,t,r){return Gt.set.call(this,e[0],t,r,e[0])};var ir=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if("function"==typeof e&&"function"!=typeof t){const r=t;t=e;const n=this;return function(e=r,...i){return n.produce(e,e=>t.call(this,e,...i))}}let n;if("function"!=typeof t&&xt(6),void 0!==r&&"function"!=typeof r&&xt(7),St(e)){const i=Vt(this),a=rr(e,void 0);let s=!0;try{n=t(a),s=!1}finally{s?Bt(i):zt(i)}return $t(i,r),Ht(n,i)}if(!e||"object"!=typeof e){if(n=t(e),void 0===n&&(n=e),n===vt&&(n=void 0),this.autoFreeze_&&Rt(n,!0),r){const t=[],i=[];It("Patches").generateReplacementPatches_(e,n,t,i),r(t,i)}return n}xt(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...r)=>this.produceWithPatches(t,t=>e(t,...r));let r,n;return[this.produce(e,t,(e,t)=>{r=e,n=t}),r,n]},"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof(null==e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){var t;St(e)||xt(8),wt(e)&&(wt(t=e)||xt(10),e=nr(t));const r=Vt(this),n=rr(e,void 0);return n[bt].isManual_=!0,zt(r),n}finishDraft(e,t){const r=e&&e[bt];r&&r.isManual_||xt(9);const{scope_:n}=r;return $t(n,t),Ht(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));const n=It("Patches").applyPatches_;return wt(e)?n(e,t):this.produce(e,e=>n(e,t))}},ar=ir.produce;function sr(e){return({dispatch:t,getState:r})=>n=>i=>"function"==typeof i?i(t,r,e):n(i)}ir.produceWithPatches.bind(ir),ir.setAutoFreeze.bind(ir),ir.setUseStrictShallowCopy.bind(ir),ir.applyPatches.bind(ir),ir.createDraft.bind(ir),ir.finishDraft.bind(ir);var or=sr(),lr=sr,cr="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?yt:yt.apply(null,arguments)};function ur(e,t){function r(...r){if(t){let n=t(...r);if(!n)throw new Error(Sr(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:r[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=t=>function(e){return ft(e)&&"type"in e&&"string"==typeof e.type}(t)&&t.type===e,r}var dr=class e extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...e){return super.concat.apply(this,e)}prepend(...t){return 1===t.length&&Array.isArray(t[0])?new e(...t[0].concat(this)):new e(...t.concat(this))}};function hr(e){return St(e)?ar(e,()=>{}):e}function fr(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}var pr=e=>t=>{setTimeout(t,e)},mr=e=>function(t){const{autoBatch:r=!0}=t??{};let n=new dr(e);return r&&n.push(((e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,s=!1;const o=new Set,l="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:pr(10):"callback"===e.type?e.queueNotification:pr(e.timeout),c=()=>{s=!1,a&&(a=!1,o.forEach(e=>e()))};return Object.assign({},n,{subscribe(e){const t=n.subscribe(()=>i&&e());return o.add(e),()=>{t(),o.delete(e)}},dispatch(e){var t;try{return i=!(null==(t=null==e?void 0:e.meta)?void 0:t.RTK_autoBatch),a=!i,a&&(s||(s=!0,l(c))),n.dispatch(e)}finally{i=!0}}})})("object"==typeof r?r:void 0)),n};function yr(e){const t={},r=[];let n;const i={addCase(e,r){const n="string"==typeof e?e:e.type;if(!n)throw new Error(Sr(28));if(n in t)throw new Error(Sr(29));return t[n]=r,i},addMatcher:(e,t)=>(r.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(n=e,i)};return e(i),[t,r,n]}var vr=Symbol.for("rtk-slice-createasyncthunk");function gr(e,t){return`${e}/${t}`}function br({creators:e}={}){var t;const r=null==(t=null==e?void 0:e.asyncThunk)?void 0:t[vr];return function(e){const{name:t,reducerPath:n=t}=e;if(!t)throw new Error(Sr(11));const i=("function"==typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name]:(...t)=>e(...t)}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},a=Object.keys(i),s={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},o={addCase(e,t){const r="string"==typeof e?e:e.type;if(!r)throw new Error(Sr(12));if(r in s.sliceCaseReducersByType)throw new Error(Sr(13));return s.sliceCaseReducersByType[r]=t,o},addMatcher:(e,t)=>(s.sliceMatchers.push({matcher:e,reducer:t}),o),exposeAction:(e,t)=>(s.actionCreators[e]=t,o),exposeCaseReducer:(e,t)=>(s.sliceCaseReducersByName[e]=t,o)};function l(){const[t={},r=[],n]="function"==typeof e.extraReducers?yr(e.extraReducers):[e.extraReducers],i={...t,...s.sliceCaseReducersByType};return function(e,t){let r,[n,i,a]=yr(t);if("function"==typeof e)r=()=>hr(e());else{const t=hr(e);r=()=>t}function s(e=r(),t){let s=[n[t.type],...i.filter(({matcher:e})=>e(t)).map(({reducer:e})=>e)];return 0===s.filter(e=>!!e).length&&(s=[a]),s.reduce((e,r)=>{if(r){if(wt(e)){const n=r(e,t);return void 0===n?e:n}if(St(e))return ar(e,e=>r(e,t));{const n=r(e,t);if(void 0===n){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return n}}return e},e)}return s.getInitialState=r,s}(e.initialState,e=>{for(let t in i)e.addCase(t,i[t]);for(let t of s.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of r)e.addMatcher(t.matcher,t.reducer);n&&e.addDefaultCase(n)})}a.forEach(n=>{const a=i[n],s={reducerName:n,type:gr(t,n),createNotation:"function"==typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(a)?function({type:e,reducerName:t,createNotation:r},n,i){let a,s;if("reducer"in n){if(r&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(n))throw new Error(Sr(17));a=n.reducer,s=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?ur(e,s):ur(e))}(s,a,o):function({type:e,reducerName:t},r,n,i){if(!i)throw new Error(Sr(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:c,options:u}=r,d=i(e,a,u);n.exposeAction(t,d),s&&n.addCase(d.fulfilled,s),o&&n.addCase(d.pending,o),l&&n.addCase(d.rejected,l),c&&n.addMatcher(d.settled,c),n.exposeCaseReducer(t,{fulfilled:s||wr,pending:o||wr,rejected:l||wr,settled:c||wr})}(s,a,o,r)});const c=e=>e,u=new Map,d=new WeakMap;let h;function f(e,t){return h||(h=l()),h(e,t)}function p(){return h||(h=l()),h.getInitialState()}function m(t,r=!1){function n(e){let i=e[t];return void 0===i&&r&&(i=fr(d,n,p)),i}function i(t=c){const n=fr(u,r,()=>new WeakMap);return fr(n,t,()=>{const n={};for(const[i,a]of Object.entries(e.selectors??{}))n[i]=xr(a,t,()=>fr(d,t,p),r);return n})}return{reducerPath:t,getSelectors:i,get selectors(){return i(n)},selectSlice:n}}const y={name:t,reducer:f,actions:s.actionCreators,caseReducers:s.sliceCaseReducersByName,getInitialState:p,...m(n),injectInto(e,{reducerPath:t,...r}={}){const i=t??n;return e.inject({reducerPath:i,reducer:f},r),{...y,...m(i,!0)}}};return y}}function xr(e,t,r,n){function i(i,...a){let s=t(i);return void 0===s&&n&&(s=r()),e(s,...a)}return i.unwrapped=e,i}var jr=br();function wr(){}function Sr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const Cr=jr({name:"auth",initialState:{user:null,token:localStorage.getItem("token"),isAuthenticated:!1,loading:!1,error:null},reducers:{loginStart:e=>{e.loading=!0,e.error=null},loginSuccess:(e,t)=>{e.loading=!1,e.isAuthenticated=!0,e.user=t.payload.user,e.token=t.payload.token,localStorage.setItem("token",t.payload.token)},loginFailure:(e,t)=>{e.loading=!1,e.error=t.payload,e.isAuthenticated=!1,e.user=null,e.token=null,localStorage.removeItem("token")},logout:e=>{e.user=null,e.token=null,e.isAuthenticated=!1,e.loading=!1,e.error=null,localStorage.removeItem("token")},clearError:e=>{e.error=null}}});Cr.actions;const Er=Cr.reducer,Tr={projects:[],currentProject:null,loading:!1,error:null,filters:{status:[],dateRange:{start:null,end:null}}},Or=jr({name:"projects",initialState:Tr,reducers:{fetchProjectsStart:e=>{e.loading=!0,e.error=null},fetchProjectsSuccess:(e,t)=>{e.loading=!1,e.projects=t.payload},fetchProjectsFailure:(e,t)=>{e.loading=!1,e.error=t.payload},setCurrentProject:(e,t)=>{e.currentProject=t.payload},clearCurrentProject:e=>{e.currentProject=null},updateProjectStatus:(e,t)=>{var r;const n=e.projects.find(e=>{var r;return"status"in e?e.id===t.payload.projectId:(null==(r=e.local)?void 0:r.id)===t.payload.projectId});n&&("status"in n?n.status=t.payload.status:n.local&&(n.local.status=t.payload.status)),e.currentProject&&("status"in e.currentProject?e.currentProject.id===t.payload.projectId&&(e.currentProject.status=t.payload.status):(null==(r=e.currentProject.local)?void 0:r.id)===t.payload.projectId&&(e.currentProject.local.status=t.payload.status))},updateProjectContractors:(e,t)=>{var r;const n=e.projects.find(e=>{var r;return"contractors"in e?e.id===t.payload.projectId:(null==(r=e.local)?void 0:r.id)===t.payload.projectId});n&&("contractors"in n?n.contractors=t.payload.contractors:n.local&&(n.local.contractors=t.payload.contractors)),e.currentProject&&("contractors"in e.currentProject?e.currentProject.id===t.payload.projectId&&(e.currentProject.contractors=t.payload.contractors):(null==(r=e.currentProject.local)?void 0:r.id)===t.payload.projectId&&(e.currentProject.local.contractors=t.payload.contractors))},setFilters:(e,t)=>{void 0!==t.payload.status&&(e.filters.status=t.payload.status),void 0!==t.payload.dateRange&&(e.filters.dateRange=t.payload.dateRange)},clearFilters:e=>{e.filters=Tr.filters},clearError:e=>{e.error=null}}});Or.actions;const _r=Or.reducer,kr=jr({name:"financial",initialState:{invoices:[],contractorRates:[],currentInvoice:null,loading:!1,error:null,analytics:{totalRevenue:0,outstandingPayments:0,profitMargin:0,monthlyRevenue:[]}},reducers:{fetchInvoicesStart:e=>{e.loading=!0,e.error=null},fetchInvoicesSuccess:(e,t)=>{e.loading=!1,e.invoices=t.payload},fetchInvoicesFailure:(e,t)=>{e.loading=!1,e.error=t.payload},setCurrentInvoice:(e,t)=>{e.currentInvoice=t.payload},clearCurrentInvoice:e=>{e.currentInvoice=null},updateInvoiceStatus:(e,t)=>{var r;const n=e.invoices.find(e=>e.id===t.payload.invoiceId);n&&(n.status=t.payload.status),(null==(r=e.currentInvoice)?void 0:r.id)===t.payload.invoiceId&&(e.currentInvoice.status=t.payload.status)},fetchContractorRatesStart:e=>{e.loading=!0,e.error=null},fetchContractorRatesSuccess:(e,t)=>{e.loading=!1,e.contractorRates=t.payload},fetchContractorRatesFailure:(e,t)=>{e.loading=!1,e.error=t.payload},updateAnalytics:(e,t)=>{e.analytics=t.payload},clearError:e=>{e.error=null}}});kr.actions;const Pr=function(e){const t=function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:n=!0,actionCreatorCheck:i=!0}=e??{};let a=new dr;return t&&("boolean"==typeof t?a.push(or):a.push(lr(t.extraArgument))),a},{reducer:r,middleware:n,devTools:i=!0,duplicateMiddlewareCheck:a=!0,preloadedState:s,enhancers:o}=e||{};let l,c;if("function"==typeof r)l=r;else{if(!ft(r))throw new Error(Sr(1));l=mt(r)}c="function"==typeof n?n(t):t();let u=yt;i&&(u=cr({trace:!1,..."object"==typeof i&&i}));const d=function(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(ct(15))};const s={getState:i.getState,dispatch:(e,...t)=>a(e,...t)},o=e.map(e=>e(s));return a=yt(...o)(i.dispatch),{...i,dispatch:a}}}(...c),h=mr(d);return pt(l,s,u(..."function"==typeof o?o(h):h()))}({reducer:{auth:Er,projects:_r,financial:kr.reducer}}),Ar=t({palette:{primary:{main:"#1976d2",light:"#42a5f5",dark:"#1565c0"},secondary:{main:"#9c27b0",light:"#ba68c8",dark:"#7b1fa2"},error:{main:"#d32f2f",light:"#ef5350",dark:"#c62828"},warning:{main:"#ed6c02",light:"#ff9800",dark:"#e65100"},info:{main:"#0288d1",light:"#03a9f4",dark:"#01579b"},success:{main:"#2e7d32",light:"#4caf50",dark:"#1b5e20"},background:{default:"#f5f5f5",paper:"#ffffff"}},typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif"].join(","),h1:{fontSize:"2.5rem",fontWeight:500},h2:{fontSize:"2rem",fontWeight:500},h3:{fontSize:"1.75rem",fontWeight:500},h4:{fontSize:"1.5rem",fontWeight:500},h5:{fontSize:"1.25rem",fontWeight:500},h6:{fontSize:"1rem",fontWeight:500}},components:{MuiButton:{styleOverrides:{root:{textTransform:"none",borderRadius:8}}},MuiPaper:{styleOverrides:{root:{borderRadius:8}}},MuiCard:{styleOverrides:{root:{borderRadius:8}}}}}),Dr=re.createContext(void 0),Fr=()=>{const e=re.useContext(Dr);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e},Rr=({children:e})=>{const[t,n]=re.useState(null),[i,a]=re.useState(!0);return re.useEffect(()=>{(async()=>{try{localStorage.getItem("auth_token")&&n({id:"1",email:"user@example.com",name:"Test User",role:"admin"})}catch(e){}finally{a(!1)}})()},[]),r.jsx(Dr.Provider,{value:{user:t,loading:i,login:async e=>{try{a(!0);const t={id:"1",email:e,name:"Test User",role:"admin"};return localStorage.setItem("auth_token","mock_token"),n(t),t}catch(t){throw t}finally{a(!1)}},logout:async()=>{try{a(!0),localStorage.removeItem("auth_token"),n(null)}catch(e){throw e}finally{a(!1)}}},children:e})},Mr=n(r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle"),Ur=n(r.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),Nr=n(r.jsx("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m2 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Assignment"),qr=n(r.jsx("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4"}),"AttachMoney"),Ir=n(r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),Lr=n(r.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),$r=n(r.jsx("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"}),"Dashboard"),Br=n(r.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),zr=n(r.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download"),Vr=n(r.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),Wr=n(r.jsx("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout"),Hr=n(r.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),Kr=n(r.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert"),Qr=n(r.jsx("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"OpenInNew"),Yr=n(r.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),Gr=n([r.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),r.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"Schedule"),Jr=n(r.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send"),Xr=n(r.jsx("path",{d:"M21 10.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1-2.73 2.71-2.73 7.08 0 9.79s7.15 2.71 9.88 0C18.32 15.65 19 14.08 19 12.1h2c0 1.98-.88 4.55-2.64 6.29-3.51 3.48-9.21 3.48-12.72 0-3.5-3.47-3.53-9.11-.02-12.58s9.14-3.47 12.65 0L21 3zM12.5 8v4.25l3.5 2.08-.72 1.21L11 13V8z"}),"Update"),Zr=n(r.jsx("path",{d:"M5 20h14v-2H5zm0-10h4v6h6v-6h4l-7-7z"}),"Upload"),en=n(r.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),tn=({children:e})=>{const[t,n]=ne.useState(!1),y=i(),v=ie(),{logout:g}=Fr(),b=[{text:"Dashboard",icon:r.jsx($r,{}),path:"/dashboard"},{text:"Projects",icon:r.jsx(Nr,{}),path:"/projects"}],x=()=>{n(!t)};return r.jsxs(a,{sx:{display:"flex"},children:[r.jsx(s,{position:"fixed",children:r.jsxs(o,{children:[r.jsx(l,{color:"inherit",edge:"start",onClick:x,sx:{mr:2},children:r.jsx(Hr,{})}),r.jsx(c,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1},children:"Project Management System"}),r.jsx(l,{color:"inherit",onClick:()=>v("/profile"),children:r.jsx(Mr,{})})]})}),r.jsxs(u,{variant:"temporary",anchor:"left",open:t,onClose:x,sx:{width:240,flexShrink:0,"& .MuiDrawer-paper":{width:240,boxSizing:"border-box"}},children:[r.jsx(o,{}),r.jsx(a,{sx:{overflow:"auto"},children:r.jsxs(d,{children:[b.map(e=>r.jsxs(h,{button:!0,onClick:()=>{return t=e.path,v(t),void n(!1);var t},children:[r.jsx(f,{children:e.icon}),r.jsx(p,{primary:e.text})]},e.text)),r.jsxs(h,{button:!0,onClick:async()=>{try{await g(),v("/login")}catch(e){}},children:[r.jsx(f,{children:r.jsx(Wr,{})}),r.jsx(p,{primary:"Logout"})]})]})})]}),r.jsx(a,{component:"main",sx:{flexGrow:1,p:3,width:"100%",minHeight:"100vh",backgroundColor:y.palette.background.default,marginTop:"64px"},children:r.jsx(m,{maxWidth:"xl",children:e})})]})};var rn=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===nn}(e)}(e)},nn="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function an(e,t){return!1!==t.clone&&t.isMergeableObject(e)?on((r=e,Array.isArray(r)?[]:{}),e,t):e;var r}function sn(e,t,r){return e.concat(t).map(function(e){return an(e,r)})}function on(e,t,r){(r=r||{}).arrayMerge=r.arrayMerge||sn,r.isMergeableObject=r.isMergeableObject||rn;var n=Array.isArray(t);return n===Array.isArray(e)?n?r.arrayMerge(e,t,r):function(e,t,r){var n={};return r.isMergeableObject(e)&&Object.keys(e).forEach(function(t){n[t]=an(e[t],r)}),Object.keys(t).forEach(function(i){r.isMergeableObject(t[i])&&e[i]?n[i]=on(e[i],t[i],r):n[i]=an(t[i],r)}),n}(e,t,r):an(t,r)}on.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,r){return on(e,r,t)},{})};var ln=on;const cn="object"==typeof global&&global&&global.Object===Object&&global;var un="object"==typeof self&&self&&self.Object===Object&&self;const dn=cn||un||Function("return this")(),hn=dn.Symbol;var fn=Object.prototype,pn=fn.hasOwnProperty,mn=fn.toString,yn=hn?hn.toStringTag:void 0,vn=Object.prototype.toString,gn=hn?hn.toStringTag:void 0;function bn(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":gn&&gn in Object(e)?function(e){var t=pn.call(e,yn),r=e[yn];try{e[yn]=void 0;var n=!0}catch(a){}var i=mn.call(e);return n&&(t?e[yn]=r:delete e[yn]),i}(e):function(e){return vn.call(e)}(e)}function xn(e,t){return function(r){return e(t(r))}}const jn=xn(Object.getPrototypeOf,Object);function wn(e){return null!=e&&"object"==typeof e}var Sn=Function.prototype,Cn=Object.prototype,En=Sn.toString,Tn=Cn.hasOwnProperty,On=En.call(Object);function _n(e){if(!wn(e)||"[object Object]"!=bn(e))return!1;var t=jn(e);if(null===t)return!0;var r=Tn.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&En.call(r)==On}function kn(e,t){return e===t||e!=e&&t!=t}function Pn(e,t){for(var r=e.length;r--;)if(kn(e[r][0],t))return r;return-1}var An=Array.prototype.splice;function Dn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Fn(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Rn(e){if(!Fn(e))return!1;var t=bn(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}Dn.prototype.clear=function(){this.__data__=[],this.size=0},Dn.prototype.delete=function(e){var t=this.__data__,r=Pn(t,e);return!(r<0||(r==t.length-1?t.pop():An.call(t,r,1),--this.size,0))},Dn.prototype.get=function(e){var t=this.__data__,r=Pn(t,e);return r<0?void 0:t[r][1]},Dn.prototype.has=function(e){return Pn(this.__data__,e)>-1},Dn.prototype.set=function(e,t){var r=this.__data__,n=Pn(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};const Mn=dn["__core-js_shared__"];var Un,Nn=(Un=/[^.]+$/.exec(Mn&&Mn.keys&&Mn.keys.IE_PROTO||""))?"Symbol(src)_1."+Un:"",qn=Function.prototype.toString;function In(e){if(null!=e){try{return qn.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var Ln=/^\[object .+?Constructor\]$/,$n=Function.prototype,Bn=Object.prototype,zn=$n.toString,Vn=Bn.hasOwnProperty,Wn=RegExp("^"+zn.call(Vn).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Hn(e){return!(!Fn(e)||(t=e,Nn&&Nn in t))&&(Rn(e)?Wn:Ln).test(In(e));var t}function Kn(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return Hn(r)?r:void 0}const Qn=Kn(dn,"Map"),Yn=Kn(Object,"create");var Gn=Object.prototype.hasOwnProperty,Jn=Object.prototype.hasOwnProperty;function Xn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Zn(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function ei(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ti(e){var t=this.__data__=new Dn(e);this.size=t.size}Xn.prototype.clear=function(){this.__data__=Yn?Yn(null):{},this.size=0},Xn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Xn.prototype.get=function(e){var t=this.__data__;if(Yn){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return Gn.call(t,e)?t[e]:void 0},Xn.prototype.has=function(e){var t=this.__data__;return Yn?void 0!==t[e]:Jn.call(t,e)},Xn.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Yn&&void 0===t?"__lodash_hash_undefined__":t,this},ei.prototype.clear=function(){this.size=0,this.__data__={hash:new Xn,map:new(Qn||Dn),string:new Xn}},ei.prototype.delete=function(e){var t=Zn(this,e).delete(e);return this.size-=t?1:0,t},ei.prototype.get=function(e){return Zn(this,e).get(e)},ei.prototype.has=function(e){return Zn(this,e).has(e)},ei.prototype.set=function(e,t){var r=Zn(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},ti.prototype.clear=function(){this.__data__=new Dn,this.size=0},ti.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},ti.prototype.get=function(e){return this.__data__.get(e)},ti.prototype.has=function(e){return this.__data__.has(e)},ti.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Dn){var n=r.__data__;if(!Qn||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new ei(n)}return r.set(e,t),this.size=r.size,this};var ri=function(){try{var e=Kn(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();const ni=ri;function ii(e,t,r){"__proto__"==t&&ni?ni(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var ai=Object.prototype.hasOwnProperty;function si(e,t,r){var n=e[t];ai.call(e,t)&&kn(n,r)&&(void 0!==r||t in e)||ii(e,t,r)}function oi(e,t,r,n){var i=!r;r||(r={});for(var a=-1,s=t.length;++a<s;){var o=t[a],l=n?n(r[o],e[o],o,r,e):void 0;void 0===l&&(l=e[o]),i?ii(r,o,l):si(r,o,l)}return r}function li(e){return wn(e)&&"[object Arguments]"==bn(e)}var ci=Object.prototype,ui=ci.hasOwnProperty,di=ci.propertyIsEnumerable,hi=li(function(){return arguments}())?li:function(e){return wn(e)&&ui.call(e,"callee")&&!di.call(e,"callee")};const fi=hi,pi=Array.isArray;var mi="object"==typeof e&&e&&!e.nodeType&&e,yi=mi&&"object"==typeof de&&de&&!de.nodeType&&de,vi=yi&&yi.exports===mi?dn.Buffer:void 0;const gi=(vi?vi.isBuffer:void 0)||function(){return!1};var bi=/^(?:0|[1-9]\d*)$/;function xi(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&bi.test(e))&&e>-1&&e%1==0&&e<t}function ji(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}var wi={};function Si(e){return function(t){return e(t)}}wi["[object Float32Array]"]=wi["[object Float64Array]"]=wi["[object Int8Array]"]=wi["[object Int16Array]"]=wi["[object Int32Array]"]=wi["[object Uint8Array]"]=wi["[object Uint8ClampedArray]"]=wi["[object Uint16Array]"]=wi["[object Uint32Array]"]=!0,wi["[object Arguments]"]=wi["[object Array]"]=wi["[object ArrayBuffer]"]=wi["[object Boolean]"]=wi["[object DataView]"]=wi["[object Date]"]=wi["[object Error]"]=wi["[object Function]"]=wi["[object Map]"]=wi["[object Number]"]=wi["[object Object]"]=wi["[object RegExp]"]=wi["[object Set]"]=wi["[object String]"]=wi["[object WeakMap]"]=!1;var Ci="object"==typeof e&&e&&!e.nodeType&&e,Ei=Ci&&"object"==typeof de&&de&&!de.nodeType&&de,Ti=Ei&&Ei.exports===Ci&&cn.process;const Oi=function(){try{var e=Ei&&Ei.require&&Ei.require("util").types;return e||Ti&&Ti.binding&&Ti.binding("util")}catch(t){}}();var _i=Oi&&Oi.isTypedArray;const ki=_i?Si(_i):function(e){return wn(e)&&ji(e.length)&&!!wi[bn(e)]};var Pi=Object.prototype.hasOwnProperty;function Ai(e,t){var r=pi(e),n=!r&&fi(e),i=!r&&!n&&gi(e),a=!r&&!n&&!i&&ki(e),s=r||n||i||a,o=s?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],l=o.length;for(var c in e)!t&&!Pi.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||xi(c,l))||o.push(c);return o}var Di=Object.prototype;function Fi(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Di)}const Ri=xn(Object.keys,Object);var Mi=Object.prototype.hasOwnProperty;function Ui(e){return null!=e&&ji(e.length)&&!Rn(e)}function Ni(e){return Ui(e)?Ai(e):function(e){if(!Fi(e))return Ri(e);var t=[];for(var r in Object(e))Mi.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}var qi=Object.prototype.hasOwnProperty;function Ii(e){if(!Fn(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=Fi(e),r=[];for(var n in e)("constructor"!=n||!t&&qi.call(e,n))&&r.push(n);return r}function Li(e){return Ui(e)?Ai(e,!0):Ii(e)}var $i="object"==typeof e&&e&&!e.nodeType&&e,Bi=$i&&"object"==typeof de&&de&&!de.nodeType&&de,zi=Bi&&Bi.exports===$i?dn.Buffer:void 0,Vi=zi?zi.allocUnsafe:void 0;function Wi(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}function Hi(){return[]}var Ki=Object.prototype.propertyIsEnumerable,Qi=Object.getOwnPropertySymbols,Yi=Qi?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,a=[];++r<n;){var s=e[r];t(s,r,e)&&(a[i++]=s)}return a}(Qi(e),function(t){return Ki.call(e,t)}))}:Hi;const Gi=Yi;function Ji(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var Xi=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Ji(t,Gi(e)),e=jn(e);return t}:Hi;const Zi=Xi;function ea(e,t,r){var n=t(e);return pi(e)?n:Ji(n,r(e))}function ta(e){return ea(e,Ni,Gi)}function ra(e){return ea(e,Li,Zi)}const na=Kn(dn,"DataView"),ia=Kn(dn,"Promise"),aa=Kn(dn,"Set"),sa=Kn(dn,"WeakMap");var oa="[object Map]",la="[object Promise]",ca="[object Set]",ua="[object WeakMap]",da="[object DataView]",ha=In(na),fa=In(Qn),pa=In(ia),ma=In(aa),ya=In(sa),va=bn;(na&&va(new na(new ArrayBuffer(1)))!=da||Qn&&va(new Qn)!=oa||ia&&va(ia.resolve())!=la||aa&&va(new aa)!=ca||sa&&va(new sa)!=ua)&&(va=function(e){var t=bn(e),r="[object Object]"==t?e.constructor:void 0,n=r?In(r):"";if(n)switch(n){case ha:return da;case fa:return oa;case pa:return la;case ma:return ca;case ya:return ua}return t});const ga=va;var ba=Object.prototype.hasOwnProperty;const xa=dn.Uint8Array;function ja(e){var t=new e.constructor(e.byteLength);return new xa(t).set(new xa(e)),t}var wa=/\w*$/,Sa=hn?hn.prototype:void 0,Ca=Sa?Sa.valueOf:void 0;function Ea(e,t,r){var n,i,a,s=e.constructor;switch(t){case"[object ArrayBuffer]":return ja(e);case"[object Boolean]":case"[object Date]":return new s(+e);case"[object DataView]":return function(e,t){var r=t?ja(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var r=t?ja(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(e,r);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(e);case"[object RegExp]":return(a=new(i=e).constructor(i.source,wa.exec(i))).lastIndex=i.lastIndex,a;case"[object Symbol]":return n=e,Ca?Object(Ca.call(n)):{}}}var Ta=Object.create,Oa=function(){function e(){}return function(t){if(!Fn(t))return{};if(Ta)return Ta(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();const _a=Oa;var ka=Oi&&Oi.isMap;const Pa=ka?Si(ka):function(e){return wn(e)&&"[object Map]"==ga(e)};var Aa=Oi&&Oi.isSet;const Da=Aa?Si(Aa):function(e){return wn(e)&&"[object Set]"==ga(e)};var Fa="[object Arguments]",Ra="[object Function]",Ma="[object Object]",Ua={};function Na(e,t,r,n,i,a){var s,o=1&t,l=2&t,c=4&t;if(r&&(s=i?r(e,n,i,a):r(e)),void 0!==s)return s;if(!Fn(e))return e;var u=pi(e);if(u){if(s=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&ba.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!o)return Wi(e,s)}else{var d=ga(e),h=d==Ra||"[object GeneratorFunction]"==d;if(gi(e))return function(e,t){if(t)return e.slice();var r=e.length,n=Vi?Vi(r):new e.constructor(r);return e.copy(n),n}(e,o);if(d==Ma||d==Fa||h&&!i){if(s=l||h?{}:function(e){return"function"!=typeof e.constructor||Fi(e)?{}:_a(jn(e))}(e),!o)return l?function(e,t){return oi(e,Zi(e),t)}(e,function(e,t){return e&&oi(t,Li(t),e)}(s,e)):function(e,t){return oi(e,Gi(e),t)}(e,function(e,t){return e&&oi(t,Ni(t),e)}(s,e))}else{if(!Ua[d])return i?e:{};s=Ea(e,d,o)}}a||(a=new ti);var f=a.get(e);if(f)return f;a.set(e,s),Da(e)?e.forEach(function(n){s.add(Na(n,t,r,n,e,a))}):Pa(e)&&e.forEach(function(n,i){s.set(i,Na(n,t,r,i,e,a))});var p=u?void 0:(c?l?ra:ta:l?Li:Ni)(e);return function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););}(p||e,function(n,i){p&&(n=e[i=n]),si(s,i,Na(n,t,r,i,e,a))}),s}function qa(e){return Na(e,5)}Ua[Fa]=Ua["[object Array]"]=Ua["[object ArrayBuffer]"]=Ua["[object DataView]"]=Ua["[object Boolean]"]=Ua["[object Date]"]=Ua["[object Float32Array]"]=Ua["[object Float64Array]"]=Ua["[object Int8Array]"]=Ua["[object Int16Array]"]=Ua["[object Int32Array]"]=Ua["[object Map]"]=Ua["[object Number]"]=Ua[Ma]=Ua["[object RegExp]"]=Ua["[object Set]"]=Ua["[object String]"]=Ua["[object Symbol]"]=Ua["[object Uint8Array]"]=Ua["[object Uint8ClampedArray]"]=Ua["[object Uint16Array]"]=Ua["[object Uint32Array]"]=!0,Ua["[object Error]"]=Ua[Ra]=Ua["[object WeakMap]"]=!1;var Ia=Array.isArray,La=Object.keys,$a=Object.prototype.hasOwnProperty,Ba="undefined"!=typeof Element;function za(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var r,n,i,a=Ia(e),s=Ia(t);if(a&&s){if((n=e.length)!=t.length)return!1;for(r=n;0!==r--;)if(!za(e[r],t[r]))return!1;return!0}if(a!=s)return!1;var o=e instanceof Date,l=t instanceof Date;if(o!=l)return!1;if(o&&l)return e.getTime()==t.getTime();var c=e instanceof RegExp,u=t instanceof RegExp;if(c!=u)return!1;if(c&&u)return e.toString()==t.toString();var d=La(e);if((n=d.length)!==La(t).length)return!1;for(r=n;0!==r--;)if(!$a.call(t,d[r]))return!1;if(Ba&&e instanceof Element&&t instanceof Element)return e===t;for(r=n;0!==r--;)if(!("_owner"===(i=d[r])&&e.$$typeof||za(e[i],t[i])))return!1;return!0}return e!=e&&t!=t}const Va=ae(function(e,t){try{return za(e,t)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||-2146828260===r.number)return!1;throw r}});function Wa(e){return Na(e,4)}function Ha(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function Ka(e){return"symbol"==typeof e||wn(e)&&"[object Symbol]"==bn(e)}function Qa(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=e.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(Qa.Cache||ei),r}Qa.Cache=ei;var Ya,Ga,Ja,Xa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Za=/\\(\\)?/g,es=(Ya=function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Xa,function(e,r,n,i){t.push(n?i.replace(Za,"$1"):r||e)}),t},Ga=Qa(Ya,function(e){return 500===Ja.size&&Ja.clear(),e}),Ja=Ga.cache,Ga);const ts=es;function rs(e){if("string"==typeof e||Ka(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}var ns=hn?hn.prototype:void 0,is=ns?ns.toString:void 0;function as(e){if("string"==typeof e)return e;if(pi(e))return Ha(e,as)+"";if(Ka(e))return is?is.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ss(e){return pi(e)?Ha(e,rs):Ka(e)?[e]:Wi(ts(function(e){return null==e?"":as(e)}(e)))}function os(){return os=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},os.apply(this,arguments)}function ls(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function cs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var us=re.createContext(void 0);us.displayName="FormikContext";var ds=us.Provider,hs=us.Consumer,fs=function(e){return Array.isArray(e)&&0===e.length},ps=function(e){return"function"==typeof e},ms=function(e){return null!==e&&"object"==typeof e},ys=function(e){return String(Math.floor(Number(e)))===e},vs=function(e){return"[object String]"===Object.prototype.toString.call(e)},gs=function(e){return ms(e)&&ps(e.then)};function bs(e,t,r,n){void 0===n&&(n=0);for(var i=ss(t);e&&n<i.length;)e=e[i[n++]];return n===i.length||e?void 0===e?r:e:r}function xs(e,t,r){for(var n=Wa(e),i=n,a=0,s=ss(t);a<s.length-1;a++){var o=s[a],l=bs(e,s.slice(0,a+1));if(l&&(ms(l)||Array.isArray(l)))i=i[o]=Wa(l);else{var c=s[a+1];i=i[o]=ys(c)&&Number(c)>=0?[]:{}}}return(0===a?e:i)[s[a]]===r?e:(void 0===r?delete i[s[a]]:i[s[a]]=r,0===a&&void 0===r&&delete n[s[a]],n)}function js(e,t,r,n){void 0===r&&(r=new WeakMap),void 0===n&&(n={});for(var i=0,a=Object.keys(e);i<a.length;i++){var s=a[i],o=e[s];ms(o)?r.get(o)||(r.set(o,!0),n[s]=Array.isArray(o)?[]:{},js(o,t,r,n[s])):n[s]=t}return n}var ws={},Ss={};function Cs(e){var t=e.validateOnChange,r=void 0===t||t,n=e.validateOnBlur,i=void 0===n||n,a=e.validateOnMount,s=void 0!==a&&a,o=e.isInitialValid,l=e.enableReinitialize,c=void 0!==l&&l,u=e.onSubmit,d=ls(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),h=os({validateOnChange:r,validateOnBlur:i,validateOnMount:s,onSubmit:u},d),f=re.useRef(h.initialValues),p=re.useRef(h.initialErrors||ws),m=re.useRef(h.initialTouched||Ss),y=re.useRef(h.initialStatus),v=re.useRef(!1),g=re.useRef({});re.useEffect(function(){return v.current=!0,function(){v.current=!1}},[]);var b=re.useState(0)[1],x=re.useRef({values:qa(h.initialValues),errors:qa(h.initialErrors)||ws,touched:qa(h.initialTouched)||Ss,status:qa(h.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),j=x.current,w=re.useCallback(function(e){var t=x.current;x.current=function(e,t){switch(t.type){case"SET_VALUES":return os({},e,{values:t.payload});case"SET_TOUCHED":return os({},e,{touched:t.payload});case"SET_ERRORS":return Va(e.errors,t.payload)?e:os({},e,{errors:t.payload});case"SET_STATUS":return os({},e,{status:t.payload});case"SET_ISSUBMITTING":return os({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return os({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return os({},e,{values:xs(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return os({},e,{touched:xs(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return os({},e,{errors:xs(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return os({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return os({},e,{touched:js(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":case"SUBMIT_SUCCESS":return os({},e,{isSubmitting:!1});default:return e}}(t,e),t!==x.current&&b(function(e){return e+1})},[]),S=re.useCallback(function(e,t){return new Promise(function(r,n){var i=h.validate(e,t);null==i?r(ws):gs(i)?i.then(function(e){r(e||ws)},function(e){n(e)}):r(i)})},[h.validate]),C=re.useCallback(function(e,t){var r=h.validationSchema,n=ps(r)?r(t):r,i=t&&n.validateAt?n.validateAt(t,e):function(e,t,r,n){void 0===r&&(r=!1);var i=Es(e);return t[r?"validateSync":"validate"](i,{abortEarly:!1,context:n||i})}(e,n);return new Promise(function(e,t){i.then(function(){e(ws)},function(r){"ValidationError"===r.name?e(function(e){var t={};if(e.inner){if(0===e.inner.length)return xs(t,e.path,e.message);var r=e.inner,n=Array.isArray(r),i=0;for(r=n?r:r[Symbol.iterator]();;){var a;if(n){if(i>=r.length)break;a=r[i++]}else{if((i=r.next()).done)break;a=i.value}var s=a;bs(t,s.path)||(t=xs(t,s.path,s.message))}}return t}(r)):t(r)})})},[h.validationSchema]),E=re.useCallback(function(e,t){return new Promise(function(r){return r(g.current[e].validate(t))})},[]),T=re.useCallback(function(e){var t=Object.keys(g.current).filter(function(e){return ps(g.current[e].validate)}),r=t.length>0?t.map(function(t){return E(t,bs(e,t))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(r).then(function(e){return e.reduce(function(e,r,n){return"DO_NOT_DELETE_YOU_WILL_BE_FIRED"===r||r&&(e=xs(e,t[n],r)),e},{})})},[E]),O=re.useCallback(function(e){return Promise.all([T(e),h.validationSchema?C(e):{},h.validate?S(e):{}]).then(function(e){var t=e[0],r=e[1],n=e[2];return ln.all([t,r,n],{arrayMerge:Ts})})},[h.validate,h.validationSchema,T,S,C]),_=_s(function(e){return void 0===e&&(e=j.values),w({type:"SET_ISVALIDATING",payload:!0}),O(e).then(function(e){return v.current&&(w({type:"SET_ISVALIDATING",payload:!1}),w({type:"SET_ERRORS",payload:e})),e})});re.useEffect(function(){s&&!0===v.current&&Va(f.current,h.initialValues)&&_(f.current)},[s,_]);var k=re.useCallback(function(e){var t=e&&e.values?e.values:f.current,r=e&&e.errors?e.errors:p.current?p.current:h.initialErrors||{},n=e&&e.touched?e.touched:m.current?m.current:h.initialTouched||{},i=e&&e.status?e.status:y.current?y.current:h.initialStatus;f.current=t,p.current=r,m.current=n,y.current=i;var a=function(){w({type:"RESET_FORM",payload:{isSubmitting:!!e&&!!e.isSubmitting,errors:r,touched:n,status:i,values:t,isValidating:!!e&&!!e.isValidating,submitCount:e&&e.submitCount&&"number"==typeof e.submitCount?e.submitCount:0}})};if(h.onReset){var s=h.onReset(j.values,Q);gs(s)?s.then(a):a()}else a()},[h.initialErrors,h.initialStatus,h.initialTouched,h.onReset]);re.useEffect(function(){!0!==v.current||Va(f.current,h.initialValues)||c&&(f.current=h.initialValues,k(),s&&_(f.current))},[c,h.initialValues,k,s,_]),re.useEffect(function(){c&&!0===v.current&&!Va(p.current,h.initialErrors)&&(p.current=h.initialErrors||ws,w({type:"SET_ERRORS",payload:h.initialErrors||ws}))},[c,h.initialErrors]),re.useEffect(function(){c&&!0===v.current&&!Va(m.current,h.initialTouched)&&(m.current=h.initialTouched||Ss,w({type:"SET_TOUCHED",payload:h.initialTouched||Ss}))},[c,h.initialTouched]),re.useEffect(function(){c&&!0===v.current&&!Va(y.current,h.initialStatus)&&(y.current=h.initialStatus,w({type:"SET_STATUS",payload:h.initialStatus}))},[c,h.initialStatus,h.initialTouched]);var P=_s(function(e){if(g.current[e]&&ps(g.current[e].validate)){var t=bs(j.values,e),r=g.current[e].validate(t);return gs(r)?(w({type:"SET_ISVALIDATING",payload:!0}),r.then(function(e){return e}).then(function(t){w({type:"SET_FIELD_ERROR",payload:{field:e,value:t}}),w({type:"SET_ISVALIDATING",payload:!1})})):(w({type:"SET_FIELD_ERROR",payload:{field:e,value:r}}),Promise.resolve(r))}return h.validationSchema?(w({type:"SET_ISVALIDATING",payload:!0}),C(j.values,e).then(function(e){return e}).then(function(t){w({type:"SET_FIELD_ERROR",payload:{field:e,value:bs(t,e)}}),w({type:"SET_ISVALIDATING",payload:!1})})):Promise.resolve()}),A=re.useCallback(function(e,t){var r=t.validate;g.current[e]={validate:r}},[]),D=re.useCallback(function(e){delete g.current[e]},[]),F=_s(function(e,t){return w({type:"SET_TOUCHED",payload:e}),(void 0===t?i:t)?_(j.values):Promise.resolve()}),R=re.useCallback(function(e){w({type:"SET_ERRORS",payload:e})},[]),M=_s(function(e,t){var n=ps(e)?e(j.values):e;return w({type:"SET_VALUES",payload:n}),(void 0===t?r:t)?_(n):Promise.resolve()}),U=re.useCallback(function(e,t){w({type:"SET_FIELD_ERROR",payload:{field:e,value:t}})},[]),N=_s(function(e,t,n){return w({type:"SET_FIELD_VALUE",payload:{field:e,value:t}}),(void 0===n?r:n)?_(xs(j.values,e,t)):Promise.resolve()}),q=re.useCallback(function(e,t){var r,n=t,i=e;if(!vs(e)){e.persist&&e.persist();var a=e.target?e.target:e.currentTarget,s=a.type,o=a.name,l=a.id,c=a.value,u=a.checked,d=(a.outerHTML,a.options),h=a.multiple;n=t||o||l,i=/number|range/.test(s)?(r=parseFloat(c),isNaN(r)?"":r):/checkbox/.test(s)?function(e,t,r){if("boolean"==typeof e)return Boolean(t);var n=[],i=!1,a=-1;if(Array.isArray(e))n=e,i=(a=e.indexOf(r))>=0;else if(!r||"true"==r||"false"==r)return Boolean(t);return t&&r&&!i?n.concat(r):i?n.slice(0,a).concat(n.slice(a+1)):n}(bs(j.values,n),u,c):d&&h?function(e){return Array.from(e).filter(function(e){return e.selected}).map(function(e){return e.value})}(d):c}n&&N(n,i)},[N,j.values]),I=_s(function(e){if(vs(e))return function(t){return q(t,e)};q(e)}),L=_s(function(e,t,r){return void 0===t&&(t=!0),w({type:"SET_FIELD_TOUCHED",payload:{field:e,value:t}}),(void 0===r?i:r)?_(j.values):Promise.resolve()}),$=re.useCallback(function(e,t){e.persist&&e.persist();var r=e.target,n=r.name,i=r.id,a=(r.outerHTML,t||n||i);L(a,!0)},[L]),B=_s(function(e){if(vs(e))return function(t){return $(t,e)};$(e)}),z=re.useCallback(function(e){ps(e)?w({type:"SET_FORMIK_STATE",payload:e}):w({type:"SET_FORMIK_STATE",payload:function(){return e}})},[]),V=re.useCallback(function(e){w({type:"SET_STATUS",payload:e})},[]),W=re.useCallback(function(e){w({type:"SET_ISSUBMITTING",payload:e})},[]),H=_s(function(){return w({type:"SUBMIT_ATTEMPT"}),_().then(function(e){var t=e instanceof Error;if(!t&&0===Object.keys(e).length){var r;try{if(void 0===(r=Y()))return}catch(n){throw n}return Promise.resolve(r).then(function(e){return v.current&&w({type:"SUBMIT_SUCCESS"}),e}).catch(function(e){if(v.current)throw w({type:"SUBMIT_FAILURE"}),e})}if(v.current&&(w({type:"SUBMIT_FAILURE"}),t))throw e})}),K=_s(function(e){e&&e.preventDefault&&ps(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&ps(e.stopPropagation)&&e.stopPropagation(),H().catch(function(e){})}),Q={resetForm:k,validateForm:_,validateField:P,setErrors:R,setFieldError:U,setFieldTouched:L,setFieldValue:N,setStatus:V,setSubmitting:W,setTouched:F,setValues:M,setFormikState:z,submitForm:H},Y=_s(function(){return u(j.values,Q)}),G=_s(function(e){e&&e.preventDefault&&ps(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&ps(e.stopPropagation)&&e.stopPropagation(),k()}),J=re.useCallback(function(e){return{value:bs(j.values,e),error:bs(j.errors,e),touched:!!bs(j.touched,e),initialValue:bs(f.current,e),initialTouched:!!bs(m.current,e),initialError:bs(p.current,e)}},[j.errors,j.touched,j.values]),X=re.useCallback(function(e){return{setValue:function(t,r){return N(e,t,r)},setTouched:function(t,r){return L(e,t,r)},setError:function(t){return U(e,t)}}},[N,L,U]),Z=re.useCallback(function(e){var t=ms(e),r=t?e.name:e,n=bs(j.values,r),i={name:r,value:n,onChange:I,onBlur:B};if(t){var a=e.type,s=e.value,o=e.as,l=e.multiple;"checkbox"===a?void 0===s?i.checked=!!n:(i.checked=!(!Array.isArray(n)||!~n.indexOf(s)),i.value=s):"radio"===a?(i.checked=n===s,i.value=s):"select"===o&&l&&(i.value=i.value||[],i.multiple=!0)}return i},[B,I,j.values]),ee=re.useMemo(function(){return!Va(f.current,j.values)},[f.current,j.values]),te=re.useMemo(function(){return void 0!==o?ee?j.errors&&0===Object.keys(j.errors).length:!1!==o&&ps(o)?o(h):o:j.errors&&0===Object.keys(j.errors).length},[o,ee,j.errors,h]);return os({},j,{initialValues:f.current,initialErrors:p.current,initialTouched:m.current,initialStatus:y.current,handleBlur:B,handleChange:I,handleReset:G,handleSubmit:K,resetForm:k,setErrors:R,setFormikState:z,setFieldTouched:L,setFieldValue:N,setFieldError:U,setStatus:V,setSubmitting:W,setTouched:F,setValues:M,submitForm:H,validateForm:_,validateField:P,isValid:te,dirty:ee,unregisterField:D,registerField:A,getFieldProps:Z,getFieldMeta:J,getFieldHelpers:X,validateOnBlur:i,validateOnChange:r,validateOnMount:s})}function Es(e){var t=Array.isArray(e)?[]:{};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=String(r);!0===Array.isArray(e[n])?t[n]=e[n].map(function(e){return!0===Array.isArray(e)||_n(e)?Es(e):""!==e?e:void 0}):_n(e[n])?t[n]=Es(e[n]):t[n]=""!==e[n]?e[n]:void 0}return t}function Ts(e,t,r){var n=e.slice();return t.forEach(function(t,i){if(void 0===n[i]){var a=!1!==r.clone&&r.isMergeableObject(t);n[i]=a?ln(Array.isArray(t)?[]:{},t,r):t}else r.isMergeableObject(t)?n[i]=ln(e[i],t,r):-1===e.indexOf(t)&&n.push(t)}),n}var Os="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?re.useLayoutEffect:re.useEffect;function _s(e){var t=re.useRef(e);return Os(function(){t.current=e}),re.useCallback(function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.current.apply(void 0,r)},[])}function ks(e){var t=function(t){return re.createElement(hs,null,function(r){return re.createElement(e,os({},t,{formik:r}))})},r=e.displayName||e.name||e.constructor&&e.constructor.name||"Component";return t.WrappedComponent=e,t.displayName="FormikConnect("+r+")",y(t,e)}re.forwardRef(function(e,t){var r=e.action,n=ls(e,["action"]),i=null!=r?r:"#",a=re.useContext(us),s=a.handleReset,o=a.handleSubmit;return re.createElement("form",os({onSubmit:o,ref:t,onReset:s,action:i},n))}).displayName="Form";var Ps=function(e,t,r){var n=As(e);return n.splice(t,0,r),n},As=function(e){if(e){if(Array.isArray(e))return[].concat(e);var t=Object.keys(e).map(function(e){return parseInt(e)}).reduce(function(e,t){return t>e?t:e},0);return Array.from(os({},e,{length:t+1}))}return[]},Ds=function(e,t){var r="function"==typeof e?e:t;return function(e){if(Array.isArray(e)||ms(e)){var t=As(e);return r(t)}return e}},Fs=function(e){var t,r;function n(t){var r;return(r=e.call(this,t)||this).updateArrayField=function(e,t,n){var i=r.props,a=i.name;(0,i.formik.setFormikState)(function(r){var i=Ds(n,e),s=Ds(t,e),o=xs(r.values,a,e(bs(r.values,a))),l=n?i(bs(r.errors,a)):void 0,c=t?s(bs(r.touched,a)):void 0;return fs(l)&&(l=void 0),fs(c)&&(c=void 0),os({},r,{values:o,errors:n?xs(r.errors,a,l):r.errors,touched:t?xs(r.touched,a,c):r.touched})})},r.push=function(e){return r.updateArrayField(function(t){return[].concat(As(t),[qa(e)])},!1,!1)},r.handlePush=function(e){return function(){return r.push(e)}},r.swap=function(e,t){return r.updateArrayField(function(r){return function(e,t,r){var n=As(e),i=n[t];return n[t]=n[r],n[r]=i,n}(r,e,t)},!0,!0)},r.handleSwap=function(e,t){return function(){return r.swap(e,t)}},r.move=function(e,t){return r.updateArrayField(function(r){return function(e,t,r){var n=As(e),i=n[t];return n.splice(t,1),n.splice(r,0,i),n}(r,e,t)},!0,!0)},r.handleMove=function(e,t){return function(){return r.move(e,t)}},r.insert=function(e,t){return r.updateArrayField(function(r){return Ps(r,e,t)},function(t){return Ps(t,e,null)},function(t){return Ps(t,e,null)})},r.handleInsert=function(e,t){return function(){return r.insert(e,t)}},r.replace=function(e,t){return r.updateArrayField(function(r){return function(e,t,r){var n=As(e);return n[t]=r,n}(r,e,t)},!1,!1)},r.handleReplace=function(e,t){return function(){return r.replace(e,t)}},r.unshift=function(e){var t=-1;return r.updateArrayField(function(r){var n=r?[e].concat(r):[e];return t=n.length,n},function(e){return e?[null].concat(e):[null]},function(e){return e?[null].concat(e):[null]}),t},r.handleUnshift=function(e){return function(){return r.unshift(e)}},r.handleRemove=function(e){return function(){return r.remove(e)}},r.handlePop=function(){return function(){return r.pop()}},r.remove=r.remove.bind(cs(r)),r.pop=r.pop.bind(cs(r)),r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.componentDidUpdate=function(e){this.props.validateOnChange&&this.props.formik.validateOnChange&&!Va(bs(e.formik.values,e.name),bs(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},i.remove=function(e){var t;return this.updateArrayField(function(r){var n=r?As(r):[];return t||(t=n[e]),ps(n.splice)&&n.splice(e,1),ps(n.every)&&n.every(function(e){return void 0===e})?[]:n},!0,!0),t},i.pop=function(){var e;return this.updateArrayField(function(t){var r=t.slice();return e||(e=r&&r.pop&&r.pop()),r},!0,!0),e},i.render=function(){var e={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},t=this.props,r=t.component,n=t.render,i=t.children,a=t.name,s=os({},e,{form:ls(t.formik,["validate","validationSchema"]),name:a});return r?re.createElement(r,s):n?n(s):i?"function"==typeof i?i(s):function(e){return 0===re.Children.count(e)}(i)?null:re.Children.only(i):null},n}(re.Component);Fs.defaultProps={validateOnChange:!0};var Rs=ks(Fs);function Ms(e){this._maxSize=e,this.clear()}Ms.prototype.clear=function(){this._size=0,this._values=Object.create(null)},Ms.prototype.get=function(e){return this._values[e]},Ms.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var Us=/[^.^\]^[]+|(?=\[\]|\.\.)/g,Ns=/^\d+$/,qs=/^\d/,Is=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,Ls=/^\s*(['"]?)(.*?)(\1)\s*$/,$s=new Ms(512),Bs=new Ms(512),zs=new Ms(512),Vs={Cache:Ms,split:Hs,normalizePath:Ws,setter:function(e){var t=Ws(e);return Bs.get(e)||Bs.set(e,function(e,r){for(var n=0,i=t.length,a=e;n<i-1;){var s=t[n];if("__proto__"===s||"constructor"===s||"prototype"===s)return e;a=a[t[n++]]}a[t[n]]=r})},getter:function(e,t){var r=Ws(e);return zs.get(e)||zs.set(e,function(e){for(var n=0,i=r.length;n<i;){if(null==e&&t)return;e=e[r[n++]]}return e})},join:function(e){return e.reduce(function(e,t){return e+(Ks(t)||Ns.test(t)?"["+t+"]":(e?".":"")+t)},"")},forEach:function(e,t,r){!function(e,t,r){var n,i,a,s,o=e.length;for(i=0;i<o;i++)(n=e[i])&&(Qs(n)&&(n='"'+n+'"'),a=!(s=Ks(n))&&/^\d+$/.test(n),t.call(r,n,s,a,i,e))}(Array.isArray(e)?e:Hs(e),t,r)}};function Ws(e){return $s.get(e)||$s.set(e,Hs(e).map(function(e){return e.replace(Ls,"$2")}))}function Hs(e){return e.match(Us)||[""]}function Ks(e){return"string"==typeof e&&e&&-1!==["'",'"'].indexOf(e.charAt(0))}function Qs(e){return!Ks(e)&&(function(e){return e.match(qs)&&!e.match(Ns)}(e)||function(e){return Is.test(e)}(e))}const Ys=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Gs=e=>e.match(Ys)||[],Js=(e,t)=>Gs(e).join(t).toLowerCase(),Xs=e=>Gs(e).reduce((e,t)=>`${e}${e?t[0].toUpperCase()+t.slice(1).toLowerCase():t.toLowerCase()}`,"");var Zs=Xs,eo=e=>Js(e,"_"),to={exports:{}};function ro(e,t){var r=e.length,n=new Array(r),i={},a=r,s=function(e){for(var t=new Map,r=0,n=e.length;r<n;r++){var i=e[r];t.has(i[0])||t.set(i[0],new Set),t.has(i[1])||t.set(i[1],new Set),t.get(i[0]).add(i[1])}return t}(t),o=function(e){for(var t=new Map,r=0,n=e.length;r<n;r++)t.set(e[r],r);return t}(e);for(t.forEach(function(e){if(!o.has(e[0])||!o.has(e[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});a--;)i[a]||l(e[a],a,new Set);return n;function l(e,t,a){if(a.has(e)){var c;try{c=", node was:"+JSON.stringify(e)}catch(h){c=""}throw new Error("Cyclic dependency"+c)}if(!o.has(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(!i[t]){i[t]=!0;var u=s.get(e)||new Set;if(t=(u=Array.from(u)).length){a.add(e);do{var d=u[--t];l(d,o.get(d),a)}while(t);a.delete(e)}n[--r]=e}}}to.exports=function(e){return ro(function(e){for(var t=new Set,r=0,n=e.length;r<n;r++){var i=e[r];t.add(i[0]),t.add(i[1])}return Array.from(t)}(e),e)},to.exports.array=ro;var no=to.exports;const io=ae(no),ao=Object.prototype.toString,so=Error.prototype.toString,oo=RegExp.prototype.toString,lo="undefined"!=typeof Symbol?Symbol.prototype.toString:()=>"",co=/^Symbol\((.*)\)(.*)$/;function uo(e,t=!1){if(null==e||!0===e||!1===e)return""+e;const r=typeof e;if("number"===r)return function(e){return e!=+e?"NaN":0===e&&1/e<0?"-0":""+e}(e);if("string"===r)return t?`"${e}"`:e;if("function"===r)return"[Function "+(e.name||"anonymous")+"]";if("symbol"===r)return lo.call(e).replace(co,"Symbol($1)");const n=ao.call(e).slice(8,-1);return"Date"===n?isNaN(e.getTime())?""+e:e.toISOString(e):"Error"===n||e instanceof Error?"["+so.call(e)+"]":"RegExp"===n?oo.call(e):null}function ho(e,t){let r=uo(e,t);return null!==r?r:JSON.stringify(e,function(e,r){let n=uo(this[e],t);return null!==n?n:r},2)}function fo(e){return null==e?[]:[].concat(e)}let po,mo,yo,vo=/\$\{\s*(\w+)\s*\}/g;po=Symbol.toStringTag;class go{constructor(e,t,r,n){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[po]="Error",this.name="ValidationError",this.value=t,this.path=r,this.type=n,this.errors=[],this.inner=[],fo(e).forEach(e=>{if(bo.isError(e)){this.errors.push(...e.errors);const t=e.inner.length?e.inner:[e];this.inner.push(...t)}else this.errors.push(e)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}mo=Symbol.hasInstance,yo=Symbol.toStringTag;class bo extends Error{static formatError(e,t){const r=t.label||t.path||"this";return t=Object.assign({},t,{path:r,originalPath:t.path}),"string"==typeof e?e.replace(vo,(e,r)=>ho(t[r])):"function"==typeof e?e(t):e}static isError(e){return e&&"ValidationError"===e.name}constructor(e,t,r,n,i){const a=new go(e,t,r,n);if(i)return a;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[yo]="Error",this.name=a.name,this.message=a.message,this.type=a.type,this.value=a.value,this.path=a.path,this.errors=a.errors,this.inner=a.inner,Error.captureStackTrace&&Error.captureStackTrace(this,bo)}static[mo](e){return go[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let xo={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:r,originalValue:n})=>{const i=null!=n&&n!==r?` (cast from the value \`${ho(n,!0)}\`).`:".";return"mixed"!==t?`${e} must be a \`${t}\` type, but the final value was: \`${ho(r,!0)}\``+i:`${e} must match the configured type. The validated value was: \`${ho(r,!0)}\``+i}},jo={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},wo={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},So={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Co={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},Eo={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},To={notType:e=>{const{path:t,value:r,spec:n}=e,i=n.types.length;if(Array.isArray(r)){if(r.length<i)return`${t} tuple value has too few items, expected a length of ${i} but got ${r.length} for value: \`${ho(r,!0)}\``;if(r.length>i)return`${t} tuple value has too many items, expected a length of ${i} but got ${r.length} for value: \`${ho(r,!0)}\``}return bo.formatError(xo.notType,e)}};Object.assign(Object.create(null),{mixed:xo,string:jo,number:wo,date:So,object:Co,array:Eo,boolean:{isValue:"${path} field must be ${value}"},tuple:To});const Oo=e=>e&&e.__isYupSchema__;class _o{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:n,otherwise:i}=t,a="function"==typeof r?r:(...e)=>e.every(e=>e===r);return new _o(e,(e,t)=>{var r;let s=a(...e)?n:i;return null!=(r=null==s?void 0:s(t))?r:t})}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let r=this.refs.map(e=>e.getValue(null==t?void 0:t.value,null==t?void 0:t.parent,null==t?void 0:t.context)),n=this.fn(r,e,t);if(void 0===n||n===e)return e;if(!Oo(n))throw new TypeError("conditions must return a schema object");return n.resolve(t)}}const ko="$",Po=".";class Ao{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,"string"!=typeof e)throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),""===e)throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===ko,this.isValue=this.key[0]===Po,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?ko:this.isValue?Po:"";this.path=this.key.slice(r.length),this.getter=this.path&&Vs.getter(this.path,!0),this.map=t.map}getValue(e,t,r){let n=this.isContext?r:this.isValue?e:t;return this.getter&&(n=this.getter(n||{})),this.map&&(n=this.map(n)),n}cast(e,t){return this.getValue(e,null==t?void 0:t.parent,null==t?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Ao.prototype.__isYupRef=!0;const Do=e=>null==e;function Fo(e){function t({value:t,path:r="",options:n,originalValue:i,schema:a},s,o){const{name:l,test:c,params:u,message:d,skipAbsent:h}=e;let{parent:f,context:p,abortEarly:m=a.spec.abortEarly,disableStackTrace:y=a.spec.disableStackTrace}=n;function v(e){return Ao.isRef(e)?e.getValue(t,f,p):e}function g(e={}){const n=Object.assign({value:t,originalValue:i,label:a.spec.label,path:e.path||r,spec:a.spec,disableStackTrace:e.disableStackTrace||y},u,e.params);for(const t of Object.keys(n))n[t]=v(n[t]);const s=new bo(bo.formatError(e.message||d,n),t,n.path,e.type||l,n.disableStackTrace);return s.params=n,s}const b=m?s:o;let x={path:r,parent:f,type:l,from:n.from,createError:g,resolve:v,options:n,originalValue:i,schema:a};const j=e=>{bo.isError(e)?b(e):e?o(null):b(g())},w=e=>{bo.isError(e)?b(e):s(e)};if(h&&Do(t))return j(!0);let S;try{var C;if(S=c.call(x,t,x),"function"==typeof(null==(C=S)?void 0:C.then)){if(n.sync)throw new Error(`Validation test of type: "${x.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(S).then(j,w)}}catch(E){return void w(E)}j(S)}return t.OPTIONS=e,t}function Ro(e,t,r,n=r){let i,a,s;return t?(Vs.forEach(t,(o,l,c)=>{let u=l?o.slice(1,o.length-1):o,d="tuple"===(e=e.resolve({context:n,parent:i,value:r})).type,h=c?parseInt(u,10):0;if(e.innerType||d){if(d&&!c)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${s}" must contain an index to the tuple element, e.g. "${s}[0]"`);if(r&&h>=r.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${o}, in the path: ${t}. because there is no value at that index. `);i=r,r=r&&r[h],e=d?e.spec.types[h]:e.innerType}if(!c){if(!e.fields||!e.fields[u])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${s} which is a type: "${e.type}")`);i=r,r=r&&r[u],e=e.fields[u]}a=u,s=l?"["+o+"]":"."+o}),{schema:e,parent:i,parentPath:a}):{parent:i,parentPath:t,schema:e}}class Mo extends Set{describe(){const e=[];for(const t of this.values())e.push(Ao.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const r of this.values())t.push(e(r));return t}clone(){return new Mo(this.values())}merge(e,t){const r=this.clone();return e.forEach(e=>r.add(e)),t.forEach(e=>r.delete(e)),r}}function Uo(e,t=new Map){if(Oo(e)||!e||"object"!=typeof e)return e;if(t.has(e))return t.get(e);let r;if(e instanceof Date)r=new Date(e.getTime()),t.set(e,r);else if(e instanceof RegExp)r=new RegExp(e),t.set(e,r);else if(Array.isArray(e)){r=new Array(e.length),t.set(e,r);for(let n=0;n<e.length;n++)r[n]=Uo(e[n],t)}else if(e instanceof Map){r=new Map,t.set(e,r);for(const[n,i]of e.entries())r.set(n,Uo(i,t))}else if(e instanceof Set){r=new Set,t.set(e,r);for(const n of e)r.add(Uo(n,t))}else{if(!(e instanceof Object))throw Error(`Unable to clone ${e}`);r={},t.set(e,r);for(const[n,i]of Object.entries(e))r[n]=Uo(i,t)}return r}class No{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Mo,this._blacklist=new Mo,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(xo.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},null==e?void 0:e.spec),this.withMutation(e=>{e.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=Uo(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(0===e.length)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=t,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&"mixed"!==this.type)throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,r=e.clone();const n=Object.assign({},t.spec,r.spec);return r.spec=n,r.internalTests=Object.assign({},t.internalTests,r.internalTests),r._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),r.tests=t.tests,r.exclusiveTests=t.exclusiveTests,r.withMutation(t=>{e.tests.forEach(e=>{t.test(e.OPTIONS)})}),r.transforms=[...t.transforms,...r.transforms],r}isType(e){return null==e?!(!this.spec.nullable||null!==e)||!(!this.spec.optional||void 0!==e):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let r=t.conditions;t=t.clone(),t.conditions=[],t=r.reduce((t,r)=>r.resolve(t,e),t),t=t.resolve(e)}return t}resolveOptions(e){var t,r,n,i;return Object.assign({},e,{from:e.from||[],strict:null!=(t=e.strict)?t:this.spec.strict,abortEarly:null!=(r=e.abortEarly)?r:this.spec.abortEarly,recursive:null!=(n=e.recursive)?n:this.spec.recursive,disableStackTrace:null!=(i=e.disableStackTrace)?i:this.spec.disableStackTrace})}cast(e,t={}){let r=this.resolve(Object.assign({value:e},t)),n="ignore-optionality"===t.assert,i=r._cast(e,t);if(!1!==t.assert&&!r.isType(i)){if(n&&Do(i))return i;let a=ho(e),s=ho(i);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". \n\nattempted value: ${a} \n`+(s!==a?`result of cast: ${s}`:""))}return i}_cast(e,t){let r=void 0===e?e:this.transforms.reduce((t,r)=>r.call(this,t,e,this),e);return void 0===r&&(r=this.getDefault(t)),r}_validate(e,t={},r,n){let{path:i,originalValue:a=e,strict:s=this.spec.strict}=t,o=e;s||(o=this._cast(o,Object.assign({assert:!1},t)));let l=[];for(let c of Object.values(this.internalTests))c&&l.push(c);this.runTests({path:i,value:o,originalValue:a,options:t,tests:l},r,e=>{if(e.length)return n(e,o);this.runTests({path:i,value:o,originalValue:a,options:t,tests:this.tests},r,n)})}runTests(e,t,r){let n=!1,{tests:i,value:a,originalValue:s,path:o,options:l}=e,c=e=>{n||(n=!0,t(e,a))},u=e=>{n||(n=!0,r(e,a))},d=i.length,h=[];if(!d)return u([]);let f={value:a,originalValue:s,path:o,options:l,schema:this};for(let p=0;p<i.length;p++)(0,i[p])(f,c,function(e){e&&(Array.isArray(e)?h.push(...e):h.push(e)),--d<=0&&u(h)})}asNestedTest({key:e,index:t,parent:r,parentPath:n,originalParent:i,options:a}){const s=null!=e?e:t;if(null==s)throw TypeError("Must include `key` or `index` for nested validations");const o="number"==typeof s;let l=r[s];const c=Object.assign({},a,{strict:!0,parent:r,value:l,originalValue:i[s],key:void 0,[o?"index":"key"]:s,path:o||s.includes(".")?`${n||""}[${o?s:`"${s}"`}]`:(n?`${n}.`:"")+e});return(e,t,r)=>this.resolve(c)._validate(l,c,t,r)}validate(e,t){var r;let n=this.resolve(Object.assign({},t,{value:e})),i=null!=(r=null==t?void 0:t.disableStackTrace)?r:n.spec.disableStackTrace;return new Promise((r,a)=>n._validate(e,t,(e,t)=>{bo.isError(e)&&(e.value=t),a(e)},(e,t)=>{e.length?a(new bo(e,t,void 0,void 0,i)):r(t)}))}validateSync(e,t){var r;let n,i=this.resolve(Object.assign({},t,{value:e})),a=null!=(r=null==t?void 0:t.disableStackTrace)?r:i.spec.disableStackTrace;return i._validate(e,Object.assign({},t,{sync:!0}),(e,t)=>{throw bo.isError(e)&&(e.value=t),e},(t,r)=>{if(t.length)throw new bo(t,e,void 0,void 0,a);n=r}),n}isValid(e,t){return this.validate(e,t).then(()=>!0,e=>{if(bo.isError(e))return!1;throw e})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(r){if(bo.isError(r))return!1;throw r}}_getDefault(e){let t=this.spec.default;return null==t?t:"function"==typeof t?t.call(this,e):Uo(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return 0===arguments.length?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const r=this.clone({nullable:e});return r.internalTests.nullable=Fo({message:t,name:"nullable",test(e){return null!==e||this.schema.spec.nullable}}),r}optionality(e,t){const r=this.clone({optional:e});return r.internalTests.optionality=Fo({message:t,name:"optionality",test(e){return void 0!==e||this.schema.spec.optional}}),r}optional(){return this.optionality(!0)}defined(e=xo.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=xo.notNull){return this.nullability(!1,e)}required(e=xo.required){return this.clone().withMutation(t=>t.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(t=1===e.length?"function"==typeof e[0]?{test:e[0]}:e[0]:2===e.length?{name:e[0],test:e[1]}:{name:e[0],message:e[1],test:e[2]},void 0===t.message&&(t.message=xo.default),"function"!=typeof t.test)throw new TypeError("`test` is a required parameters");let r=this.clone(),n=Fo(t),i=t.exclusive||t.name&&!0===r.exclusiveTests[t.name];if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(r.exclusiveTests[t.name]=!!t.exclusive),r.tests=r.tests.filter(e=>{if(e.OPTIONS.name===t.name){if(i)return!1;if(e.OPTIONS.test===n.OPTIONS.test)return!1}return!0}),r.tests.push(n),r}when(e,t){Array.isArray(e)||"string"==typeof e||(t=e,e=".");let r=this.clone(),n=fo(e).map(e=>new Ao(e));return n.forEach(e=>{e.isSibling&&r.deps.push(e.key)}),r.conditions.push("function"==typeof t?new _o(n,t):_o.fromOptions(n,t)),r}typeError(e){let t=this.clone();return t.internalTests.typeError=Fo({message:e,name:"typeError",skipAbsent:!0,test(e){return!!this.schema._typeCheck(e)||this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=xo.oneOf){let r=this.clone();return e.forEach(e=>{r._whitelist.add(e),r._blacklist.delete(e)}),r.internalTests.whiteList=Fo({message:t,name:"oneOf",skipAbsent:!0,test(e){let t=this.schema._whitelist,r=t.resolveAll(this.resolve);return!!r.includes(e)||this.createError({params:{values:Array.from(t).join(", "),resolved:r}})}}),r}notOneOf(e,t=xo.notOneOf){let r=this.clone();return e.forEach(e=>{r._blacklist.add(e),r._whitelist.delete(e)}),r.internalTests.blacklist=Fo({message:t,name:"notOneOf",test(e){let t=this.schema._blacklist,r=t.resolveAll(this.resolve);return!r.includes(e)||this.createError({params:{values:Array.from(t).join(", "),resolved:r}})}}),r}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:r,meta:n,optional:i,nullable:a}=t.spec;return{meta:n,label:r,optional:i,nullable:a,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map(e=>({name:e.OPTIONS.name,params:e.OPTIONS.params})).filter((e,t,r)=>r.findIndex(t=>t.name===e.name)===t)}}}No.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])No.prototype[`${t}At`]=function(e,r,n={}){const{parent:i,parentPath:a,schema:s}=Ro(this,e,r,n.context);return s[t](i&&i[a],Object.assign({},n,{parent:i,path:e}))};for(const t of["equals","is"])No.prototype[t]=No.prototype.oneOf;for(const t of["not","nope"])No.prototype[t]=No.prototype.notOneOf;const qo=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function Io(e){var t,r;const n=qo.exec(e);return n?{year:Lo(n[1]),month:Lo(n[2],1)-1,day:Lo(n[3],1),hour:Lo(n[4]),minute:Lo(n[5]),second:Lo(n[6]),millisecond:n[7]?Lo(n[7].substring(0,3)):0,precision:null!=(t=null==(r=n[7])?void 0:r.length)?t:void 0,z:n[8]||void 0,plusMinus:n[9]||void 0,hourOffset:Lo(n[10]),minuteOffset:Lo(n[11])}:null}function Lo(e,t=0){return Number(e)||t}let $o=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Bo=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,zo=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Vo=new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"),Wo=e=>Do(e)||e===e.trim(),Ho={}.toString();function Ko(){return new Qo}class Qo extends No{constructor(){super({type:"string",check:e=>(e instanceof String&&(e=e.valueOf()),"string"==typeof e)}),this.withMutation(()=>{this.transform((e,t,r)=>{if(!r.spec.coerce||r.isType(e))return e;if(Array.isArray(e))return e;const n=null!=e&&e.toString?e.toString():e;return n===Ho?e:n})})}required(e){return super.required(e).withMutation(t=>t.test({message:e||xo.required,name:"required",skipAbsent:!0,test:e=>!!e.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(e=>"required"!==e.OPTIONS.name),e))}length(e,t=jo.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(t){return t.length===this.resolve(e)}})}min(e,t=jo.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t.length>=this.resolve(e)}})}max(e,t=jo.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(t){return t.length<=this.resolve(e)}})}matches(e,t){let r,n,i=!1;return t&&("object"==typeof t?({excludeEmptyString:i=!1,message:r,name:n}=t):r=t),this.test({name:n||"matches",message:r||jo.matches,params:{regex:e},skipAbsent:!0,test:t=>""===t&&i||-1!==t.search(e)})}email(e=jo.email){return this.matches($o,{name:"email",message:e,excludeEmptyString:!0})}url(e=jo.url){return this.matches(Bo,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=jo.uuid){return this.matches(zo,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t,r,n="";return e&&("object"==typeof e?({message:n="",allowOffset:t=!1,precision:r}=e):n=e),this.matches(Vo,{name:"datetime",message:n||jo.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||jo.datetime_offset,params:{allowOffset:t},skipAbsent:!0,test:e=>{if(!e||t)return!0;const r=Io(e);return!!r&&!!r.z}}).test({name:"datetime_precision",message:n||jo.datetime_precision,params:{precision:r},skipAbsent:!0,test:e=>{if(!e||null==r)return!0;const t=Io(e);return!!t&&t.precision===r}})}ensure(){return this.default("").transform(e=>null===e?"":e)}trim(e=jo.trim){return this.transform(e=>null!=e?e.trim():e).test({message:e,name:"trim",test:Wo})}lowercase(e=jo.lowercase){return this.transform(e=>Do(e)?e:e.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>Do(e)||e===e.toLowerCase()})}uppercase(e=jo.uppercase){return this.transform(e=>Do(e)?e:e.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>Do(e)||e===e.toUpperCase()})}}function Yo(){return new Go}Ko.prototype=Qo.prototype;class Go extends No{constructor(){super({type:"number",check:e=>(e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&!(e=>e!=+e)(e))}),this.withMutation(()=>{this.transform((e,t,r)=>{if(!r.spec.coerce)return e;let n=e;if("string"==typeof n){if(n=n.replace(/\s/g,""),""===n)return NaN;n=+n}return r.isType(n)||null===n?n:parseFloat(n)})})}min(e,t=wo.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t>=this.resolve(e)}})}max(e,t=wo.max){return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(t){return t<=this.resolve(e)}})}lessThan(e,t=wo.lessThan){return this.test({message:t,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(t){return t<this.resolve(e)}})}moreThan(e,t=wo.moreThan){return this.test({message:t,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(t){return t>this.resolve(e)}})}positive(e=wo.positive){return this.moreThan(0,e)}negative(e=wo.negative){return this.lessThan(0,e)}integer(e=wo.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:e=>Number.isInteger(e)})}truncate(){return this.transform(e=>Do(e)?e:0|e)}round(e){var t;let r=["ceil","floor","round","trunc"];if("trunc"===(e=(null==(t=e)?void 0:t.toLowerCase())||"round"))return this.truncate();if(-1===r.indexOf(e.toLowerCase()))throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(t=>Do(t)?t:Math[e](t))}}Yo.prototype=Go.prototype;let Jo=new Date("");class Xo extends No{constructor(){super({type:"date",check(e){return t=e,"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(e.getTime());var t}}),this.withMutation(()=>{this.transform((e,t,r)=>!r.spec.coerce||r.isType(e)||null===e?e:(e=function(e){const t=Io(e);if(!t)return Date.parse?Date.parse(e):Number.NaN;if(void 0===t.z&&void 0===t.plusMinus)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let r=0;return"Z"!==t.z&&void 0!==t.plusMinus&&(r=60*t.hourOffset+t.minuteOffset,"+"===t.plusMinus&&(r=0-r)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+r,t.second,t.millisecond)}(e),isNaN(e)?Xo.INVALID_DATE:new Date(e)))})}prepareParam(e,t){let r;if(Ao.isRef(e))r=e;else{let n=this.cast(e);if(!this._typeCheck(n))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);r=n}return r}min(e,t=So.min){let r=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(e){return e>=this.resolve(r)}})}max(e,t=So.max){let r=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(e){return e<=this.resolve(r)}})}}function Zo(e,t){let r=1/0;return e.some((e,n)=>{var i;if(null!=(i=t.path)&&i.includes(e))return r=n,!0}),r}function el(e){return(t,r)=>Zo(e,t)-Zo(e,r)}Xo.INVALID_DATE=Jo,Xo.prototype;const tl=(e,t,r)=>{if("string"!=typeof e)return e;let n=e;try{n=JSON.parse(e)}catch(i){}return r.isType(n)?n:e};function rl(e){if("fields"in e){const t={};for(const[r,n]of Object.entries(e.fields))t[r]=rl(n);return e.setFields(t)}if("array"===e.type){const t=e.optional();return t.innerType&&(t.innerType=rl(t.innerType)),t}return"tuple"===e.type?e.optional().clone({types:e.spec.types.map(rl)}):"optional"in e?e.optional():e}let nl=e=>"[object Object]"===Object.prototype.toString.call(e);function il(e,t){let r=Object.keys(e.fields);return Object.keys(t).filter(e=>-1===r.indexOf(e))}const al=el([]);function sl(e){return new ol(e)}class ol extends No{constructor(e){super({type:"object",check:e=>nl(e)||"function"==typeof e}),this.fields=Object.create(null),this._sortErrors=al,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,t={}){var r;let n=super._cast(e,t);if(void 0===n)return this.getDefault(t);if(!this._typeCheck(n))return n;let i=this.fields,a=null!=(r=t.stripUnknown)?r:this.spec.noUnknown,s=[].concat(this._nodes,Object.keys(n).filter(e=>!this._nodes.includes(e))),o={},l=Object.assign({},t,{parent:o,__validating:t.__validating||!1}),c=!1;for(const u of s){let e=i[u],r=u in n;if(e){let r,i=n[u];l.path=(t.path?`${t.path}.`:"")+u,e=e.resolve({value:i,context:t.context,parent:o});let a=e instanceof No?e.spec:void 0,s=null==a?void 0:a.strict;if(null!=a&&a.strip){c=c||u in n;continue}r=t.__validating&&s?n[u]:e.cast(n[u],l),void 0!==r&&(o[u]=r)}else r&&!a&&(o[u]=n[u]);r===u in o&&o[u]===n[u]||(c=!0)}return c?o:n}_validate(e,t={},r,n){let{from:i=[],originalValue:a=e,recursive:s=this.spec.recursive}=t;t.from=[{schema:this,value:a},...i],t.__validating=!0,t.originalValue=a,super._validate(e,t,r,(e,i)=>{if(!s||!nl(i))return void n(e,i);a=a||i;let o=[];for(let r of this._nodes){let e=this.fields[r];e&&!Ao.isRef(e)&&o.push(e.asNestedTest({options:t,key:r,parent:i,parentPath:t.path,originalParent:a}))}this.runTests({tests:o,value:i,originalValue:a,options:t},r,t=>{n(t.sort(this._sortErrors).concat(e),i)})})}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),r=t.fields;for(let[n,i]of Object.entries(this.fields)){const e=r[n];r[n]=void 0===e?i:e}return t.withMutation(t=>t.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach(r=>{var n;const i=this.fields[r];let a=e;null!=(n=a)&&n.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[r]})),t[r]=i&&"getDefault"in i?i.getDefault(a):void 0}),t}setFields(e,t){let r=this.clone();return r.fields=e,r._nodes=function(e,t=[]){let r=[],n=new Set,i=new Set(t.map(([e,t])=>`${e}-${t}`));function a(e,t){let a=Vs.split(e)[0];n.add(a),i.has(`${t}-${a}`)||r.push([t,a])}for(const s of Object.keys(e)){let t=e[s];n.add(s),Ao.isRef(t)&&t.isSibling?a(t.path,s):Oo(t)&&"deps"in t&&t.deps.forEach(e=>a(e,s))}return io.array(Array.from(n),r).reverse()}(e,t),r._sortErrors=el(Object.keys(e)),t&&(r._excludedEdges=t),r}shape(e,t=[]){return this.clone().withMutation(r=>{let n=r._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),n=[...r._excludedEdges,...t]),r.setFields(Object.assign(r.fields,e),n)})}partial(){const e={};for(const[t,r]of Object.entries(this.fields))e[t]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return rl(this)}pick(e){const t={};for(const r of e)this.fields[r]&&(t[r]=this.fields[r]);return this.setFields(t,this._excludedEdges.filter(([t,r])=>e.includes(t)&&e.includes(r)))}omit(e){const t=[];for(const r of Object.keys(this.fields))e.includes(r)||t.push(r);return this.pick(t)}from(e,t,r){let n=Vs.getter(e,!0);return this.transform(i=>{if(!i)return i;let a=i;return((e,t)=>{const r=[...Vs.normalizePath(t)];if(1===r.length)return r[0]in e;let n=r.pop(),i=Vs.getter(Vs.join(r),!0)(e);return!(!i||!(n in i))})(i,e)&&(a=Object.assign({},i),r||delete a[e],a[t]=n(i)),a})}json(){return this.transform(tl)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||Co.exact,test(e){if(null==e)return!0;const t=il(this.schema,e);return 0===t.length||this.createError({params:{properties:t.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,t=Co.noUnknown){"boolean"!=typeof e&&(t=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:t,test(t){if(null==t)return!0;const r=il(this.schema,t);return!e||0===r.length||this.createError({params:{unknown:r.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,t=Co.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform(t=>{if(!t)return t;const r={};for(const n of Object.keys(t))r[e(n)]=t[n];return r})}camelCase(){return this.transformKeys(Zs)}snakeCase(){return this.transformKeys(eo)}constantCase(){return this.transformKeys(e=>eo(e).toUpperCase())}describe(e){const t=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[i,a]of Object.entries(t.fields)){var n;let t=e;null!=(n=t)&&n.value&&(t=Object.assign({},t,{parent:t.value,value:t.value[i]})),r.fields[i]=a.describe(t)}return r}}function ll(e){return new cl(e)}sl.prototype=ol.prototype;class cl extends No{constructor(e){super({type:"array",spec:{types:e},check:e=>Array.isArray(e)}),this.innerType=void 0,this.innerType=e}_cast(e,t){const r=super._cast(e,t);if(!this._typeCheck(r)||!this.innerType)return r;let n=!1;const i=r.map((e,r)=>{const i=this.innerType.cast(e,Object.assign({},t,{path:`${t.path||""}[${r}]`}));return i!==e&&(n=!0),i});return n?i:r}_validate(e,t={},r,n){var i;let a=this.innerType,s=null!=(i=t.recursive)?i:this.spec.recursive;null!=t.originalValue&&t.originalValue,super._validate(e,t,r,(i,o)=>{var l;if(!s||!a||!this._typeCheck(o))return void n(i,o);let c=new Array(o.length);for(let r=0;r<o.length;r++){var u;c[r]=a.asNestedTest({options:t,index:r,parent:o,parentPath:t.path,originalParent:null!=(u=t.originalValue)?u:e})}this.runTests({value:o,tests:c,originalValue:null!=(l=t.originalValue)?l:e,options:t},r,e=>n(e.concat(i),o))})}clone(e){const t=super.clone(e);return t.innerType=this.innerType,t}json(){return this.transform(tl)}concat(e){let t=super.concat(e);return t.innerType=this.innerType,e.innerType&&(t.innerType=t.innerType?t.innerType.concat(e.innerType):e.innerType),t}of(e){let t=this.clone();if(!Oo(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+ho(e));return t.innerType=e,t.spec=Object.assign({},t.spec,{types:e}),t}length(e,t=Eo.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(t){return t.length===this.resolve(e)}})}min(e,t){return t=t||Eo.min,this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t.length>=this.resolve(e)}})}max(e,t){return t=t||Eo.max,this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(t){return t.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,t)=>this._typeCheck(e)?e:null==t?[]:[].concat(t))}compact(e){let t=e?(t,r,n)=>!e(t,r,n):e=>!!e;return this.transform(e=>null!=e?e.filter(t):e)}describe(e){const t=(e?this.resolve(e):this).clone(),r=super.describe(e);if(t.innerType){var n;let i=e;null!=(n=i)&&n.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[0]})),r.innerType=t.innerType.describe(i)}return r}}ll.prototype=cl.prototype;const ul=sl({email:Ko().email("Invalid email address").required("Email is required"),password:Ko().required("Password is required")}),dl=({onSubmit:e})=>{const{login:t}=Fr(),[n,i]=re.useState(null),[s,o]=re.useState(!1),l=Cs({initialValues:{email:"",password:""},validationSchema:ul,validateOnBlur:!0,validateOnChange:!0,onSubmit:async r=>{try{i(null),o(!0);const n=await t(r.email);e(n)}catch(n){i("Invalid credentials")}finally{o(!1)}}});return r.jsxs(a,{component:"form",onSubmit:l.handleSubmit,sx:{maxWidth:400,mx:"auto"},children:[r.jsx(c,{variant:"h4",gutterBottom:!0,align:"center",children:"Login"}),r.jsx(a,{sx:{mb:2},children:r.jsx(v,{fullWidth:!0,id:"email",name:"email",label:"Email",autoComplete:"email",value:l.values.email,onChange:l.handleChange,error:Boolean(l.touched.email&&l.errors.email),helperText:l.touched.email&&l.errors.email})}),r.jsx(a,{sx:{mb:3},children:r.jsx(v,{fullWidth:!0,id:"password",name:"password",label:"Password",type:"password",autoComplete:"current-password",value:l.values.password,onChange:l.handleChange,error:Boolean(l.touched.password&&l.errors.password),helperText:l.touched.password&&l.errors.password})}),n&&r.jsx(a,{sx:{mb:2},children:r.jsx(g,{severity:"error",children:n})}),r.jsx(b,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,size:"large",disabled:s,children:s?r.jsx(x,{size:24,color:"inherit"}):"Login"})]})},hl=({onLogin:e,redirectTo:t="/"})=>{const n=ie();return r.jsx(a,{sx:{maxWidth:600,mx:"auto",p:3},children:r.jsx(j,{sx:{p:4},children:r.jsx(dl,{onSubmit:async r=>{try{e&&await e(r),n(t)}catch(i){}}})})})};var fl=(e=>(e.NEW_NOT_SENT="new_not_sent",e.NEW_SENT="new_sent",e.PENDING_CLICKUP="pending_clickup",e.ACTIVE="active",e.COMPLETED="completed",e.ARCHIVED="archived",e))(fl||{});function pl(e){return void 0!==e.clickUp}const ml={agreements:[".pdf",".doc",".docx"],invoices:[".pdf",".doc",".docx",".xls",".xlsx"],receipts:[".pdf",".jpg",".jpeg",".png"]},yl="invoice_number",vl="invoice_status",gl="task_type";function bl(e,t){return function(){return e.apply(t,arguments)}}const{toString:xl}=Object.prototype,{getPrototypeOf:jl}=Object,{iterator:wl,toStringTag:Sl}=Symbol,Cl=(e=>t=>{const r=xl.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),El=e=>(e=e.toLowerCase(),t=>Cl(t)===e),Tl=e=>t=>typeof t===e,{isArray:Ol}=Array,_l=Tl("undefined"),kl=El("ArrayBuffer"),Pl=Tl("string"),Al=Tl("function"),Dl=Tl("number"),Fl=e=>null!==e&&"object"==typeof e,Rl=e=>{if("object"!==Cl(e))return!1;const t=jl(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Sl in e||wl in e)},Ml=El("Date"),Ul=El("File"),Nl=El("Blob"),ql=El("FileList"),Il=El("URLSearchParams"),[Ll,$l,Bl,zl]=["ReadableStream","Request","Response","Headers"].map(El);function Vl(e,t,{allOwnKeys:r=!1}={}){if(null==e)return;let n,i;if("object"!=typeof e&&(e=[e]),Ol(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let s;for(n=0;n<a;n++)s=i[n],t.call(null,e[s],s,e)}}function Wl(e,t){t=t.toLowerCase();const r=Object.keys(e);let n,i=r.length;for(;i-- >0;)if(n=r[i],t===n.toLowerCase())return n;return null}const Hl="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,Kl=e=>!_l(e)&&e!==Hl,Ql=(Yl="undefined"!=typeof Uint8Array&&jl(Uint8Array),e=>Yl&&e instanceof Yl);var Yl;const Gl=El("HTMLFormElement"),Jl=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Xl=El("RegExp"),Zl=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Vl(r,(r,i)=>{let a;!1!==(a=t(r,i,e))&&(n[i]=a||r)}),Object.defineProperties(e,n)},ec=El("AsyncFunction"),tc=(rc="function"==typeof setImmediate,nc=Al(Hl.postMessage),rc?setImmediate:nc?(ic=`axios@${Math.random()}`,ac=[],Hl.addEventListener("message",({source:e,data:t})=>{e===Hl&&t===ic&&ac.length&&ac.shift()()},!1),e=>{ac.push(e),Hl.postMessage(ic,"*")}):e=>setTimeout(e));var rc,nc,ic,ac;const sc="undefined"!=typeof queueMicrotask?queueMicrotask.bind(Hl):"undefined"!=typeof process&&process.nextTick||tc,oc={isArray:Ol,isArrayBuffer:kl,isBuffer:function(e){return null!==e&&!_l(e)&&null!==e.constructor&&!_l(e.constructor)&&Al(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||Al(e.append)&&("formdata"===(t=Cl(e))||"object"===t&&Al(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&kl(e.buffer),t},isString:Pl,isNumber:Dl,isBoolean:e=>!0===e||!1===e,isObject:Fl,isPlainObject:Rl,isReadableStream:Ll,isRequest:$l,isResponse:Bl,isHeaders:zl,isUndefined:_l,isDate:Ml,isFile:Ul,isBlob:Nl,isRegExp:Xl,isFunction:Al,isStream:e=>Fl(e)&&Al(e.pipe),isURLSearchParams:Il,isTypedArray:Ql,isFileList:ql,forEach:Vl,merge:function e(){const{caseless:t}=Kl(this)&&this||{},r={},n=(n,i)=>{const a=t&&Wl(r,i)||i;Rl(r[a])&&Rl(n)?r[a]=e(r[a],n):Rl(n)?r[a]=e({},n):Ol(n)?r[a]=n.slice():r[a]=n};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&Vl(arguments[i],n);return r},extend:(e,t,r,{allOwnKeys:n}={})=>(Vl(t,(t,n)=>{r&&Al(t)?e[n]=bl(t,r):e[n]=t},{allOwnKeys:n}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let i,a,s;const o={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)s=i[a],n&&!n(s,e,t)||o[s]||(t[s]=e[s],o[s]=!0);e=!1!==r&&jl(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:Cl,kindOfTest:El,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},toArray:e=>{if(!e)return null;if(Ol(e))return e;let t=e.length;if(!Dl(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[wl]).call(e);let n;for(;(n=r.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:Gl,hasOwnProperty:Jl,hasOwnProp:Jl,reduceDescriptors:Zl,freezeMethods:e=>{Zl(e,(t,r)=>{if(Al(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];Al(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))})},toObjectSet:(e,t)=>{const r={},n=e=>{e.forEach(e=>{r[e]=!0})};return Ol(e)?n(e):n(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,r){return t.toUpperCase()+r}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Wl,global:Hl,isContextDefined:Kl,isSpecCompliantForm:function(e){return!!(e&&Al(e.append)&&"FormData"===e[Sl]&&e[wl])},toJSONObject:e=>{const t=new Array(10),r=(e,n)=>{if(Fl(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const i=Ol(e)?[]:{};return Vl(e,(e,t)=>{const a=r(e,n+1);!_l(a)&&(i[t]=a)}),t[n]=void 0,i}}return e};return r(e,0)},isAsyncFn:ec,isThenable:e=>e&&(Fl(e)||Al(e))&&Al(e.then)&&Al(e.catch),setImmediate:tc,asap:sc,isIterable:e=>null!=e&&Al(e[wl])};function lc(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}oc.inherits(lc,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oc.toJSONObject(this.config),code:this.code,status:this.status}}});const cc=lc.prototype,uc={};function dc(e){return oc.isPlainObject(e)||oc.isArray(e)}function hc(e){return oc.endsWith(e,"[]")?e.slice(0,-2):e}function fc(e,t,r){return e?e.concat(t).map(function(e,t){return e=hc(e),!r&&t?"["+e+"]":e}).join(r?".":""):t}["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{uc[e]={value:e}}),Object.defineProperties(lc,uc),Object.defineProperty(cc,"isAxiosError",{value:!0}),lc.from=(e,t,r,n,i,a)=>{const s=Object.create(cc);return oc.toFlatObject(e,s,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),lc.call(s,e.message,t,r,n,i),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};const pc=oc.toFlatObject(oc,{},null,function(e){return/^is[A-Z]/.test(e)});function mc(e,t,r){if(!oc.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(r=oc.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!oc.isUndefined(t[e])})).metaTokens,i=r.visitor||c,a=r.dots,s=r.indexes,o=(r.Blob||"undefined"!=typeof Blob&&Blob)&&oc.isSpecCompliantForm(t);if(!oc.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(oc.isDate(e))return e.toISOString();if(oc.isBoolean(e))return e.toString();if(!o&&oc.isBlob(e))throw new lc("Blob is not supported. Use a Buffer instead.");return oc.isArrayBuffer(e)||oc.isTypedArray(e)?o&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,r,i){let o=e;if(e&&!i&&"object"==typeof e)if(oc.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(oc.isArray(e)&&function(e){return oc.isArray(e)&&!e.some(dc)}(e)||(oc.isFileList(e)||oc.endsWith(r,"[]"))&&(o=oc.toArray(e)))return r=hc(r),o.forEach(function(e,n){!oc.isUndefined(e)&&null!==e&&t.append(!0===s?fc([r],n,a):null===s?r:r+"[]",l(e))}),!1;return!!dc(e)||(t.append(fc(i,r,a),l(e)),!1)}const u=[],d=Object.assign(pc,{defaultVisitor:c,convertValue:l,isVisitable:dc});if(!oc.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!oc.isUndefined(r)){if(-1!==u.indexOf(r))throw Error("Circular reference detected in "+n.join("."));u.push(r),oc.forEach(r,function(r,a){!0===(!(oc.isUndefined(r)||null===r)&&i.call(t,r,oc.isString(a)?a.trim():a,n,d))&&e(r,n?n.concat(a):[a])}),u.pop()}}(e),t}function yc(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function vc(e,t){this._pairs=[],e&&mc(e,this,t)}const gc=vc.prototype;function bc(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function xc(e,t,r){if(!t)return e;const n=r&&r.encode||bc;oc.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let a;if(a=i?i(t,r):oc.isURLSearchParams(t)?t.toString():new vc(t,r).toString(n),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}gc.append=function(e,t){this._pairs.push([e,t])},gc.toString=function(e){const t=e?function(t){return e.call(this,t,yc)}:yc;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const jc=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oc.forEach(this.handlers,function(t){null!==t&&e(t)})}},wc={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Sc={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:vc,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Cc="undefined"!=typeof window&&"undefined"!=typeof document,Ec="object"==typeof navigator&&navigator||void 0,Tc=Cc&&(!Ec||["ReactNative","NativeScript","NS"].indexOf(Ec.product)<0),Oc="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,_c=Cc&&window.location.href||"http://localhost",kc={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Cc,hasStandardBrowserEnv:Tc,hasStandardBrowserWebWorkerEnv:Oc,navigator:Ec,origin:_c},Symbol.toStringTag,{value:"Module"})),...Sc};function Pc(e){function t(e,r,n,i){let a=e[i++];if("__proto__"===a)return!0;const s=Number.isFinite(+a),o=i>=e.length;return a=!a&&oc.isArray(n)?n.length:a,o?(oc.hasOwnProp(n,a)?n[a]=[n[a],r]:n[a]=r,!s):(n[a]&&oc.isObject(n[a])||(n[a]=[]),t(e,r,n[a],i)&&oc.isArray(n[a])&&(n[a]=function(e){const t={},r=Object.keys(e);let n;const i=r.length;let a;for(n=0;n<i;n++)a=r[n],t[a]=e[a];return t}(n[a])),!s)}if(oc.isFormData(e)&&oc.isFunction(e.entries)){const r={};return oc.forEachEntry(e,(e,n)=>{t(function(e){return oc.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),n,r,0)}),r}return null}const Ac={transitional:wc,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,i=oc.isObject(e);if(i&&oc.isHTMLForm(e)&&(e=new FormData(e)),oc.isFormData(e))return n?JSON.stringify(Pc(e)):e;if(oc.isArrayBuffer(e)||oc.isBuffer(e)||oc.isStream(e)||oc.isFile(e)||oc.isBlob(e)||oc.isReadableStream(e))return e;if(oc.isArrayBufferView(e))return e.buffer;if(oc.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return mc(e,new kc.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return kc.isNode&&oc.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=oc.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return mc(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||n?(t.setContentType("application/json",!1),function(e,t,r){if(oc.isString(e))try{return(t||JSON.parse)(e),oc.trim(e)}catch(n){if("SyntaxError"!==n.name)throw n}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Ac.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(oc.isResponse(e)||oc.isReadableStream(e))return e;if(e&&oc.isString(e)&&(r&&!this.responseType||n)){const r=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(i){if(r){if("SyntaxError"===i.name)throw lc.from(i,lc.ERR_BAD_RESPONSE,this,null,this.response);throw i}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:kc.classes.FormData,Blob:kc.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oc.forEach(["delete","get","head","post","put","patch"],e=>{Ac.headers[e]={}});const Dc=Ac,Fc=oc.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Rc=Symbol("internals");function Mc(e){return e&&String(e).trim().toLowerCase()}function Uc(e){return!1===e||null==e?e:oc.isArray(e)?e.map(Uc):String(e)}function Nc(e,t,r,n,i){return oc.isFunction(n)?n.call(this,t,r):(i&&(t=r),oc.isString(t)?oc.isString(n)?-1!==t.indexOf(n):oc.isRegExp(n)?n.test(t):void 0:void 0)}class qc{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function i(e,t,r){const i=Mc(t);if(!i)throw new Error("header name must be a non-empty string");const a=oc.findKey(n,i);(!a||void 0===n[a]||!0===r||void 0===r&&!1!==n[a])&&(n[a||t]=Uc(e))}const a=(e,t)=>oc.forEach(e,(e,r)=>i(e,r,t));if(oc.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(oc.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let r,n,i;return e&&e.split("\n").forEach(function(e){i=e.indexOf(":"),r=e.substring(0,i).trim().toLowerCase(),n=e.substring(i+1).trim(),!r||t[r]&&Fc[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t})(e),t);else if(oc.isObject(e)&&oc.isIterable(e)){let r,n,i={};for(const t of e){if(!oc.isArray(t))throw TypeError("Object iterator must return a key-value pair");i[n=t[0]]=(r=i[n])?oc.isArray(r)?[...r,t[1]]:[r,t[1]]:t[1]}a(i,t)}else null!=e&&i(t,e,r);return this}get(e,t){if(e=Mc(e)){const r=oc.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}(e);if(oc.isFunction(t))return t.call(this,e,r);if(oc.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Mc(e)){const r=oc.findKey(this,e);return!(!r||void 0===this[r]||t&&!Nc(0,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function i(e){if(e=Mc(e)){const i=oc.findKey(r,e);!i||t&&!Nc(0,r[i],i,t)||(delete r[i],n=!0)}}return oc.isArray(e)?e.forEach(i):i(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;for(;r--;){const i=t[r];e&&!Nc(0,this[i],i,e,!0)||(delete this[i],n=!0)}return n}normalize(e){const t=this,r={};return oc.forEach(this,(n,i)=>{const a=oc.findKey(r,i);if(a)return t[a]=Uc(n),void delete t[i];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}(i):String(i).trim();s!==i&&delete t[i],t[s]=Uc(n),r[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return oc.forEach(this,(r,n)=>{null!=r&&!1!==r&&(t[n]=e&&oc.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(e=>r.set(e)),r}static accessor(e){const t=(this[Rc]=this[Rc]={accessors:{}}).accessors,r=this.prototype;function n(e){const n=Mc(e);t[n]||(function(e,t){const r=oc.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(e,r,i){return this[n].call(this,t,e,r,i)},configurable:!0})})}(r,e),t[n]=!0)}return oc.isArray(e)?e.forEach(n):n(e),this}}qc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),oc.reduceDescriptors(qc.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[r]=e}}}),oc.freezeMethods(qc);const Ic=qc;function Lc(e,t){const r=this||Dc,n=t||r,i=Ic.from(n.headers);let a=n.data;return oc.forEach(e,function(e){a=e.call(r,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function $c(e){return!(!e||!e.__CANCEL__)}function Bc(e,t,r){lc.call(this,null==e?"canceled":e,lc.ERR_CANCELED,t,r),this.name="CanceledError"}function zc(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new lc("Request failed with status code "+r.status,[lc.ERR_BAD_REQUEST,lc.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}oc.inherits(Bc,lc,{__CANCEL__:!0});const Vc=(e,t,r=3)=>{let n=0;const i=function(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i,a=0,s=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=n[s];i||(i=l),r[a]=o,n[a]=l;let u=s,d=0;for(;u!==a;)d+=r[u++],u%=e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),l-i<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}}(50,250);return function(e,t){let r,n,i=0,a=1e3/t;const s=(t,a=Date.now())=>{i=a,r=null,n&&(clearTimeout(n),n=null),e.apply(null,t)};return[(...e)=>{const t=Date.now(),o=t-i;o>=a?s(e,t):(r=e,n||(n=setTimeout(()=>{n=null,s(r)},a-o)))},()=>r&&s(r)]}(r=>{const a=r.loaded,s=r.lengthComputable?r.total:void 0,o=a-n,l=i(o);n=a,e({loaded:a,total:s,progress:s?a/s:void 0,bytes:o,rate:l||void 0,estimated:l&&s&&a<=s?(s-a)/l:void 0,event:r,lengthComputable:null!=s,[t?"download":"upload"]:!0})},r)},Wc=(e,t)=>{const r=null!=e;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Hc=e=>(...t)=>oc.asap(()=>e(...t)),Kc=kc.hasStandardBrowserEnv?(Qc=new URL(kc.origin),Yc=kc.navigator&&/(msie|trident)/i.test(kc.navigator.userAgent),e=>(e=new URL(e,kc.origin),Qc.protocol===e.protocol&&Qc.host===e.host&&(Yc||Qc.port===e.port))):()=>!0;var Qc,Yc;const Gc=kc.hasStandardBrowserEnv?{write(e,t,r,n,i,a){const s=[e+"="+encodeURIComponent(t)];oc.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),oc.isString(n)&&s.push("path="+n),oc.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Jc(e,t,r){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(n||0==r)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Xc=e=>e instanceof Ic?{...e}:e;function Zc(e,t){t=t||{};const r={};function n(e,t,r,n){return oc.isPlainObject(e)&&oc.isPlainObject(t)?oc.merge.call({caseless:n},e,t):oc.isPlainObject(t)?oc.merge({},t):oc.isArray(t)?t.slice():t}function i(e,t,r,i){return oc.isUndefined(t)?oc.isUndefined(e)?void 0:n(void 0,e,0,i):n(e,t,0,i)}function a(e,t){if(!oc.isUndefined(t))return n(void 0,t)}function s(e,t){return oc.isUndefined(t)?oc.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function o(r,i,a){return a in t?n(r,i):a in e?n(void 0,r):void 0}const l={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(e,t,r)=>i(Xc(e),Xc(t),0,!0)};return oc.forEach(Object.keys(Object.assign({},e,t)),function(n){const a=l[n]||i,s=a(e[n],t[n],n);oc.isUndefined(s)&&a!==o||(r[n]=s)}),r}const eu=e=>{const t=Zc({},e);let r,{data:n,withXSRFToken:i,xsrfHeaderName:a,xsrfCookieName:s,headers:o,auth:l}=t;if(t.headers=o=Ic.from(o),t.url=xc(Jc(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),oc.isFormData(n))if(kc.hasStandardBrowserEnv||kc.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(r=o.getContentType())){const[e,...t]=r?r.split(";").map(e=>e.trim()).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(kc.hasStandardBrowserEnv&&(i&&oc.isFunction(i)&&(i=i(t)),i||!1!==i&&Kc(t.url))){const e=a&&s&&Gc.read(s);e&&o.set(a,e)}return t},tu="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,r){const n=eu(e);let i=n.data;const a=Ic.from(n.headers).normalize();let s,o,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:f}=n;function p(){c&&c(),u&&u(),n.cancelToken&&n.cancelToken.unsubscribe(s),n.signal&&n.signal.removeEventListener("abort",s)}let m=new XMLHttpRequest;function y(){if(!m)return;const n=Ic.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());zc(function(e){t(e),p()},function(e){r(e),p()},{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:n,config:e,request:m}),m=null}m.open(n.method.toUpperCase(),n.url,!0),m.timeout=n.timeout,"onloadend"in m?m.onloadend=y:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(y)},m.onabort=function(){m&&(r(new lc("Request aborted",lc.ECONNABORTED,e,m)),m=null)},m.onerror=function(){r(new lc("Network Error",lc.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const i=n.transitional||wc;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),r(new lc(t,i.clarifyTimeoutError?lc.ETIMEDOUT:lc.ECONNABORTED,e,m)),m=null},void 0===i&&a.setContentType(null),"setRequestHeader"in m&&oc.forEach(a.toJSON(),function(e,t){m.setRequestHeader(t,e)}),oc.isUndefined(n.withCredentials)||(m.withCredentials=!!n.withCredentials),d&&"json"!==d&&(m.responseType=n.responseType),f&&([l,u]=Vc(f,!0),m.addEventListener("progress",l)),h&&m.upload&&([o,c]=Vc(h),m.upload.addEventListener("progress",o),m.upload.addEventListener("loadend",c)),(n.cancelToken||n.signal)&&(s=t=>{m&&(r(!t||t.type?new Bc(null,e,m):t),m.abort(),m=null)},n.cancelToken&&n.cancelToken.subscribe(s),n.signal&&(n.signal.aborted?s():n.signal.addEventListener("abort",s)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);v&&-1===kc.protocols.indexOf(v)?r(new lc("Unsupported protocol "+v+":",lc.ERR_BAD_REQUEST,e)):m.send(i||null)})},ru=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,n=new AbortController;const i=function(e){if(!r){r=!0,s();const t=e instanceof Error?e:this.reason;n.abort(t instanceof lc?t:new Bc(t instanceof Error?t.message:t))}};let a=t&&setTimeout(()=>{a=null,i(new lc(`timeout ${t} of ms exceeded`,lc.ETIMEDOUT))},t);const s=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)}),e=null)};e.forEach(e=>e.addEventListener("abort",i));const{signal:o}=n;return o.unsubscribe=()=>oc.asap(s),o}},nu=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let n,i=0;for(;i<r;)n=i+t,yield e.slice(i,n),i=n},iu=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:r}=await t.read();if(e)break;yield r}}finally{await t.cancel()}},au=(e,t,r,n)=>{const i=async function*(e,t){for await(const r of iu(e))yield*nu(r,t)}(e,t);let a,s=0,o=e=>{a||(a=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await i.next();if(t)return o(),void e.close();let a=n.byteLength;if(r){let e=s+=a;r(e)}e.enqueue(new Uint8Array(n))}catch(t){throw o(t),t}},cancel:e=>(o(e),i.return())},{highWaterMark:2})},su="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,ou=su&&"function"==typeof ReadableStream,lu=su&&("function"==typeof TextEncoder?(cu=new TextEncoder,e=>cu.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var cu;const uu=(e,...t)=>{try{return!!e(...t)}catch(r){return!1}},du=ou&&uu(()=>{let e=!1;const t=new Request(kc.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),hu=ou&&uu(()=>oc.isReadableStream(new Response("").body)),fu={stream:hu&&(e=>e.body)};var pu;su&&(pu=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!fu[e]&&(fu[e]=oc.isFunction(pu[e])?t=>t[e]():(t,r)=>{throw new lc(`Response type '${e}' is not supported`,lc.ERR_NOT_SUPPORT,r)})}));const mu=async(e,t)=>{const r=oc.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(oc.isBlob(e))return e.size;if(oc.isSpecCompliantForm(e)){const t=new Request(kc.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return oc.isArrayBufferView(e)||oc.isArrayBuffer(e)?e.byteLength:(oc.isURLSearchParams(e)&&(e+=""),oc.isString(e)?(await lu(e)).byteLength:void 0)})(t):r},yu={http:null,xhr:tu,fetch:su&&(async e=>{let{url:t,method:r,data:n,signal:i,cancelToken:a,timeout:s,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:h}=eu(e);c=c?(c+"").toLowerCase():"text";let f,p=ru([i,a&&a.toAbortSignal()],s);const m=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let y;try{if(l&&du&&"get"!==r&&"head"!==r&&0!==(y=await mu(u,n))){let e,r=new Request(t,{method:"POST",body:n,duplex:"half"});if(oc.isFormData(n)&&(e=r.headers.get("content-type"))&&u.setContentType(e),r.body){const[e,t]=Wc(y,Vc(Hc(l)));n=au(r.body,65536,e,t)}}oc.isString(d)||(d=d?"include":"omit");const i="credentials"in Request.prototype;f=new Request(t,{...h,signal:p,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:i?d:void 0});let a=await fetch(f,h);const s=hu&&("stream"===c||"response"===c);if(hu&&(o||s&&m)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=a[t]});const t=oc.toFiniteNumber(a.headers.get("content-length")),[r,n]=o&&Wc(t,Vc(Hc(o),!0))||[];a=new Response(au(a.body,65536,r,()=>{n&&n(),m&&m()}),e)}c=c||"text";let v=await fu[oc.findKey(fu,c)||"text"](a,e);return!s&&m&&m(),await new Promise((t,r)=>{zc(t,r,{data:v,headers:Ic.from(a.headers),status:a.status,statusText:a.statusText,config:e,request:f})})}catch(v){if(m&&m(),v&&"TypeError"===v.name&&/Load failed|fetch/i.test(v.message))throw Object.assign(new lc("Network Error",lc.ERR_NETWORK,e,f),{cause:v.cause||v});throw lc.from(v,v&&v.code,e,f)}})};oc.forEach(yu,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(r){}Object.defineProperty(e,"adapterName",{value:t})}});const vu=e=>`- ${e}`,gu=e=>oc.isFunction(e)||null===e||!1===e,bu=e=>{e=oc.isArray(e)?e:[e];const{length:t}=e;let r,n;const i={};for(let a=0;a<t;a++){let t;if(r=e[a],n=r,!gu(r)&&(n=yu[(t=String(r)).toLowerCase()],void 0===n))throw new lc(`Unknown adapter '${t}'`);if(n)break;i[t||"#"+a]=n}if(!n){const e=Object.entries(i).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));throw new lc("There is no suitable adapter to dispatch the request "+(t?e.length>1?"since :\n"+e.map(vu).join("\n"):" "+vu(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return n};function xu(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Bc(null,e)}function ju(e){return xu(e),e.headers=Ic.from(e.headers),e.data=Lc.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),bu(e.adapter||Dc.adapter)(e).then(function(t){return xu(e),t.data=Lc.call(e,e.transformResponse,t),t.headers=Ic.from(t.headers),t},function(t){return $c(t)||(xu(e),t&&t.response&&(t.response.data=Lc.call(e,e.transformResponse,t.response),t.response.headers=Ic.from(t.response.headers))),Promise.reject(t)})}const wu="1.10.0",Su={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Su[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Cu={};Su.transitional=function(e,t,r){return(n,i,a)=>{if(!1===e)throw new lc(function(e,t){return"[Axios v"+wu+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}(i," has been removed"+(t?" in "+t:"")),lc.ERR_DEPRECATED);return t&&!Cu[i]&&(Cu[i]=!0),!e||e(n,i,a)}},Su.spelling=function(e){return(e,t)=>!0};const Eu={assertOptions:function(e,t,r){if("object"!=typeof e)throw new lc("options must be an object",lc.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const a=n[i],s=t[a];if(s){const t=e[a],r=void 0===t||s(t,a,e);if(!0!==r)throw new lc("option "+a+" must be "+r,lc.ERR_BAD_OPTION_VALUE);continue}if(!0!==r)throw new lc("Unknown option "+a,lc.ERR_BAD_OPTION)}},validators:Su},Tu=Eu.validators;class Ou{constructor(e){this.defaults=e||{},this.interceptors={request:new jc,response:new jc}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{r.stack?t&&!String(r.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+t):r.stack=t}catch(n){}}throw r}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Zc(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:i}=t;void 0!==r&&Eu.assertOptions(r,{silentJSONParsing:Tu.transitional(Tu.boolean),forcedJSONParsing:Tu.transitional(Tu.boolean),clarifyTimeoutError:Tu.transitional(Tu.boolean)},!1),null!=n&&(oc.isFunction(n)?t.paramsSerializer={serialize:n}:Eu.assertOptions(n,{encode:Tu.function,serialize:Tu.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Eu.assertOptions(t,{baseUrl:Tu.spelling("baseURL"),withXsrfToken:Tu.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=i&&oc.merge(i.common,i[t.method]);i&&oc.forEach(["delete","get","head","post","put","patch","common"],e=>{delete i[e]}),t.headers=Ic.concat(a,i);const s=[];let o=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,s.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let u,d=0;if(!o){const e=[ju.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=s.length;let h=t;for(d=0;d<u;){const e=s[d++],t=s[d++];try{h=e(h)}catch(f){t.call(this,f);break}}try{c=ju.call(this,h)}catch(f){return Promise.reject(f)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return xc(Jc((e=Zc(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}oc.forEach(["delete","get","head","options"],function(e){Ou.prototype[e]=function(t,r){return this.request(Zc(r||{},{method:e,url:t,data:(r||{}).data}))}}),oc.forEach(["post","put","patch"],function(e){function t(t){return function(r,n,i){return this.request(Zc(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}Ou.prototype[e]=t(),Ou.prototype[e+"Form"]=t(!0)});const _u=Ou;class ku{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const r=this;this.promise.then(e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null}),this.promise.then=e=>{let t;const n=new Promise(e=>{r.subscribe(e),t=e}).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e(function(e,n,i){r.reason||(r.reason=new Bc(e,n,i),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new ku(function(t){e=t}),cancel:e}}}const Pu=ku,Au={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Au).forEach(([e,t])=>{Au[t]=e});const Du=Au,Fu=function e(t){const r=new _u(t),n=bl(_u.prototype.request,r);return oc.extend(n,_u.prototype,r,{allOwnKeys:!0}),oc.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(Zc(t,r))},n}(Dc);Fu.Axios=_u,Fu.CanceledError=Bc,Fu.CancelToken=Pu,Fu.isCancel=$c,Fu.VERSION=wu,Fu.toFormData=mc,Fu.AxiosError=lc,Fu.Cancel=Fu.CanceledError,Fu.all=function(e){return Promise.all(e)},Fu.spread=function(e){return function(t){return e.apply(null,t)}},Fu.isAxiosError=function(e){return oc.isObject(e)&&!0===e.isAxiosError},Fu.mergeConfig=Zc,Fu.AxiosHeaders=Ic,Fu.formToJSON=e=>Pc(oc.isHTMLForm(e)?new FormData(e):e),Fu.getAdapter=bu,Fu.HttpStatusCode=Du,Fu.default=Fu;const Ru=Fu.create({baseURL:"/PMS/api/",headers:{"Content-Type":"application/json"},timeout:1e4});Ru.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e}),Ru.interceptors.response.use(e=>e,e=>e.response?(401===e.response.status&&(localStorage.removeItem("token"),window.location.href="/PMS/login"),Promise.reject(e)):Promise.reject(new Error("Network error. Please check your connection.")));const Mu=new class{async getProjects(){try{return(await Ru.get("/projects")).data}catch(e){throw new Error("Failed to fetch projects")}}async getProject(e){var t;try{return(await Ru.get(`/projects/${e}`)).data}catch(r){if(404===(null==(t=r.response)?void 0:t.status))return null;throw new Error("Failed to fetch project")}}async createProject(e){var t,r;try{if(!e||0===Object.keys(e).length)throw new Error("Project data is required");return(await Ru.post("/projects",e)).data}catch(n){throw new Error((null==(r=null==(t=n.response)?void 0:t.data)?void 0:r.message)||"Failed to create project")}}async updateProject(e,t){var r,n,i;try{if(!t||0===Object.keys(t).length)throw new Error("Update data is required");return(await Ru.patch(`/projects/${e}`,t)).data}catch(a){if(404===(null==(r=a.response)?void 0:r.status))return null;throw new Error((null==(i=null==(n=a.response)?void 0:n.data)?void 0:i.message)||"Failed to update project")}}async deleteProject(e){var t,r,n;try{return await Ru.delete(`/projects/${e}`),!0}catch(i){if(404===(null==(t=i.response)?void 0:t.status))return!1;throw new Error((null==(n=null==(r=i.response)?void 0:r.data)?void 0:n.message)||"Failed to delete project")}}async checkProjectExists(e,t=0){var r,n,i,a,s,o,l,c,u;try{if(!e)throw new Error("ClickUp ID is required");return(await Ru.get(`/projects/check/${e}`)).data.exists}catch(d){if(400===(null==(r=d.response)?void 0:r.status))throw new Error("Invalid ClickUp ID provided");if(401===(null==(n=d.response)?void 0:n.status))throw new Error("Authentication failed. Please log in again.");if(404===(null==(i=d.response)?void 0:i.status))return!1;if(503===(null==(a=d.response)?void 0:a.status)){const r=(null==(s=d.response.data)?void 0:s.retryAfter)||5;if(t<3)return await new Promise(e=>setTimeout(e,1e3*r)),this.checkProjectExists(e,t+1);throw new Error("Service is temporarily unavailable. Please try again later.")}if("DATA_INTEGRITY_ERROR"===(null==(l=null==(o=d.response)?void 0:o.data)?void 0:l.code))throw new Error("Unable to verify project due to data integrity issues. Please contact support.");const h=null==(u=null==(c=d.response)?void 0:c.data)?void 0:u.requestId;throw new Error("Failed to check project existence. "+(h?`Reference ID: ${h}`:""))}}async saveProgress(e,t){var r,n,i;try{if(!t||0===Object.keys(t).length)throw new Error("Progress data is required");return(await Ru.patch(`/projects/${e}/progress`,t)).data}catch(a){if(404===(null==(r=a.response)?void 0:r.status))return null;throw new Error((null==(i=null==(n=a.response)?void 0:n.data)?void 0:i.message)||"Failed to save progress")}}},Uu=({project:e})=>r.jsx(j,{sx:{p:3,mb:3},children:r.jsx(a,{children:(()=>{var t,n;if(!e.local)return null;switch(e.local.status){case fl.NEW_NOT_SENT:return r.jsxs(r.Fragment,{children:[r.jsx(c,{variant:"subtitle1",color:"primary",children:"New Project - Not Sent"}),r.jsxs(w,{container:!0,spacing:2,children:[r.jsxs(w,{item:!0,xs:12,md:6,children:[r.jsxs(c,{variant:"body1",children:[r.jsx("strong",{children:"Client:"})," ",e.local.client]}),r.jsxs(c,{variant:"body1",children:[r.jsx("strong",{children:"Title:"})," ",e.local.title]})]}),r.jsxs(w,{item:!0,xs:12,md:6,children:[r.jsxs(c,{variant:"body1",children:[r.jsx("strong",{children:"Start Date:"})," ",new Date(e.local.timeframe.startDate).toLocaleDateString()]}),r.jsxs(c,{variant:"body1",children:[r.jsx("strong",{children:"Estimated Budget:"})," $",e.local.budget.estimated]})]})]}),r.jsx(a,{mt:2,children:r.jsx(c,{variant:"body2",color:"text.secondary",children:"Project details ready to be sent to the team"})})]});case fl.NEW_SENT:return r.jsxs(r.Fragment,{children:[r.jsx(c,{variant:"subtitle1",color:"primary",children:"New Project - Sent to Team"}),r.jsxs(w,{container:!0,spacing:2,children:[r.jsxs(w,{item:!0,xs:12,md:6,children:[r.jsxs(c,{variant:"body1",children:[r.jsx("strong",{children:"Client:"})," ",e.local.client]}),r.jsxs(c,{variant:"body1",children:[r.jsx("strong",{children:"Title:"})," ",e.local.title]})]}),r.jsxs(w,{item:!0,xs:12,md:6,children:[r.jsxs(c,{variant:"body1",children:[r.jsx("strong",{children:"Start Date:"})," ",new Date(e.local.timeframe.startDate).toLocaleDateString()]}),r.jsxs(c,{variant:"body1",children:[r.jsx("strong",{children:"Estimated Budget:"})," $",e.local.budget.estimated]})]})]}),r.jsx(a,{mt:2,children:r.jsx(c,{variant:"body2",color:"text.secondary",children:"Awaiting team confirmation before ClickUp setup"})})]});case fl.ACTIVE:return r.jsxs(r.Fragment,{children:[r.jsx(c,{variant:"subtitle1",color:"primary",children:"Current Progress"}),r.jsxs(w,{container:!0,spacing:2,children:[r.jsxs(w,{item:!0,xs:12,md:6,children:[r.jsxs(c,{variant:"body1",children:[r.jsx("strong",{children:"Start Date:"})," ",new Date(e.local.timeframe.startDate).toLocaleDateString()]}),r.jsxs(c,{variant:"body1",children:[r.jsx("strong",{children:"End Date:"})," ",new Date(e.local.timeframe.endDate).toLocaleDateString()]}),pl(e)&&r.jsx(r.Fragment,{children:r.jsxs(c,{variant:"body1",children:[r.jsx("strong",{children:"ClickUp Status:"})," ",null==(t=e.clickUp)?void 0:t.status]})})]}),r.jsxs(w,{item:!0,xs:12,md:6,children:[r.jsx(c,{variant:"body1",children:r.jsx("strong",{children:"Budget Status:"})}),r.jsxs(c,{variant:"body2",children:["Estimated: $",e.local.budget.estimated]}),r.jsxs(c,{variant:"body2",children:["Actual: $",e.local.budget.actual]}),pl(e)&&r.jsx(a,{mt:1,children:r.jsxs(c,{variant:"body2",children:[r.jsx("strong",{children:"ClickUp Link:"})," ",r.jsx("a",{href:null==(n=e.clickUp)?void 0:n.url,target:"_blank",rel:"noopener noreferrer",children:"View in ClickUp"})]})})]})]})]});case fl.COMPLETED:return r.jsxs(r.Fragment,{children:[r.jsx(c,{variant:"subtitle1",color:"primary",children:"Invoice Status"}),r.jsx(w,{container:!0,spacing:2,children:r.jsxs(w,{item:!0,xs:12,children:[r.jsxs(c,{variant:"body1",children:[r.jsx("strong",{children:"Final Budget:"})," $",e.local.budget.actual]}),r.jsxs(c,{variant:"body1",children:[r.jsx("strong",{children:"Completion Date:"})," ",new Date(e.local.timeframe.endDate).toLocaleDateString()]})]})})]});case fl.ARCHIVED:return r.jsxs(r.Fragment,{children:[r.jsx(c,{variant:"subtitle1",color:"primary",children:"Project Summary"}),r.jsxs(w,{container:!0,spacing:2,children:[r.jsxs(w,{item:!0,xs:12,md:6,children:[r.jsxs(c,{variant:"body1",children:[r.jsx("strong",{children:"Final Budget:"})," $",e.local.budget.actual]}),r.jsxs(c,{variant:"body1",children:[r.jsx("strong",{children:"Completion Date:"})," ",new Date(e.local.timeframe.endDate).toLocaleDateString()]})]}),r.jsxs(w,{item:!0,xs:12,md:6,children:[r.jsxs(c,{variant:"body1",children:[r.jsx("strong",{children:"Budget Variance:"})," $",e.local.budget.actual-e.local.budget.estimated]}),r.jsxs(c,{variant:"body1",children:[r.jsx("strong",{children:"Duration:"})," ",Math.ceil((new Date(e.local.timeframe.endDate).getTime()-new Date(e.local.timeframe.startDate).getTime())/864e5)," days"]})]})]})]});default:return null}})()})}),Nu=({project:e,onUpdateStatus:t})=>r.jsx(j,{sx:{p:3,mb:3},children:r.jsxs(a,{children:[r.jsx(c,{variant:"subtitle1",color:"primary",gutterBottom:!0,children:"Available Actions"}),r.jsx(c,{variant:"body2",sx:{mb:2},children:(()=>{if(!e.local)return"";switch(e.local.status){case fl.NEW_NOT_SENT:return"Review project details and send to team for initial review";case fl.NEW_SENT:return"Waiting for team confirmation and ClickUp setup";case fl.ACTIVE:return"Track progress and update project status";case fl.COMPLETED:return"Process final invoices and prepare for archival";case fl.ARCHIVED:return"Generate project reports and analytics";default:return""}})()}),(()=>{if(!e.local)return null;switch(e.local.status){case fl.NEW_NOT_SENT:return r.jsxs(S,{spacing:2,direction:"row",children:[r.jsx(b,{variant:"contained",color:"primary",onClick:()=>t(fl.NEW_SENT),children:"Send to Team"}),r.jsx(b,{variant:"outlined",onClick:()=>{},children:"Sort & Categorize"})]});case fl.NEW_SENT:return r.jsxs(S,{spacing:2,direction:"row",children:[r.jsx(b,{variant:"contained",color:"primary",onClick:()=>t(fl.ACTIVE),children:"Mark as Active"}),r.jsx(b,{variant:"outlined",onClick:()=>{},children:"Check Team Status"})]});case fl.ACTIVE:return r.jsxs(S,{spacing:2,direction:"row",children:[r.jsx(b,{variant:"contained",color:"primary",onClick:()=>t(fl.COMPLETED),children:"Mark as Completed"}),r.jsx(b,{variant:"outlined",onClick:()=>{},children:"Update Progress"})]});case fl.COMPLETED:return r.jsxs(S,{spacing:2,direction:"row",children:[r.jsx(b,{variant:"contained",color:"primary",onClick:()=>t(fl.ARCHIVED),children:"Archive Project"}),r.jsx(b,{variant:"outlined",onClick:()=>{},children:"Process Invoices"})]});case fl.ARCHIVED:return r.jsx(S,{spacing:2,direction:"row",children:r.jsx(b,{variant:"outlined",onClick:()=>{},children:"Generate Report"})});default:return null}})()]})}),qu=({project:e})=>{var t,n,i,s,o;const l=[{date:(null==(t=e.local)?void 0:t.timeframe.startDate)||(new Date).toISOString(),title:"Project Created",description:"Initial project details submitted",type:"status"},{date:(null==(n=e.local)?void 0:n.timeframe.startDate)||(new Date).toISOString(),title:"Pre-Production Start",description:"Begin pre-production phase",type:"milestone"},{date:(null==(i=e.local)?void 0:i.timeframe.endDate)||(new Date).toISOString(),title:"Delivery Deadline",description:"Final deliverables due",type:"deadline"}],u=e=>{switch(e){case"status":return"primary.main";case"milestone":return"success.main";case"deadline":return"error.main";default:return"text.primary"}};return r.jsxs(j,{sx:{p:3},children:[r.jsx(c,{variant:"subtitle1",color:"primary",gutterBottom:!0,children:"Project Timeline"}),r.jsxs(a,{sx:{mb:3},children:[r.jsxs(c,{variant:"body2",gutterBottom:!0,children:[r.jsx("strong",{children:"Current Stage:"})," ",(null==(s=e.local)?void 0:s.status)||"Unknown",pl(e)&&r.jsxs(c,{variant:"body2",gutterBottom:!0,children:[r.jsx("strong",{children:"ClickUp Status:"})," ",(null==(o=e.clickUp)?void 0:o.status)||"Unknown"]})]}),r.jsxs(c,{variant:"body2",children:[r.jsx("strong",{children:"Time in Stage:"})," ",(()=>{const t=new Date;if(!e.local)return"0 days";const r=new Date(e.local.timeframe.startDate);return`${Math.ceil((t.getTime()-r.getTime())/864e5)} days`})()]})]}),r.jsx(C,{sx:{my:2}}),r.jsx(S,{spacing:2,children:l.map((e,t)=>{return r.jsxs(a,{children:[r.jsx(c,{variant:"body2",color:u(e.type),sx:{fontWeight:"bold"},children:(n=e.date,new Date(n).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}))}),r.jsx(c,{variant:"body1",sx:{fontWeight:"medium"},children:e.title}),r.jsx(c,{variant:"body2",color:"text.secondary",children:e.description}),t<l.length-1&&r.jsx(C,{sx:{mt:2}})]},t);var n})}),r.jsx(a,{sx:{mt:3},children:r.jsxs(c,{variant:"body2",color:"text.secondary",children:["Project Duration: ",e.local?Math.ceil((new Date(e.local.timeframe.endDate).getTime()-new Date(e.local.timeframe.startDate).getTime())/864e5):0," days"]})})]})},Iu=({projectId:e})=>{const[t,n]=re.useState(null),[i,s]=re.useState(!0),[o,l]=re.useState(null),u=[{label:"New - Not Sent",value:fl.NEW_NOT_SENT},{label:"New - Sent",value:fl.NEW_SENT},{label:"Active",value:fl.ACTIVE},{label:"Completed",value:fl.COMPLETED},{label:"Archived",value:fl.ARCHIVED}];if(re.useEffect(()=>{(async()=>{try{s(!0);const t=await Mu.getProjects(),r=e?await Mu.getProject(e):t[0];n(r)}catch(t){l(t instanceof Error?t.message:"Failed to load project")}finally{s(!1)}})()},[e]),i)return r.jsx(a,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:r.jsx(x,{})});if(o)return r.jsx(a,{children:r.jsx(c,{color:"error",children:o})});if(!t)return r.jsx(a,{children:r.jsx(c,{children:"No project found"})});const d=u.findIndex(e=>t.local?e.value===t.local.status:0);return r.jsxs(a,{children:[r.jsx(c,{variant:"h5",gutterBottom:!0,children:"Project Status Tracking"}),r.jsx(E,{activeStep:d,alternativeLabel:!0,children:u.map(e=>r.jsx(T,{children:r.jsx(O,{children:e.label})},e.value))}),r.jsxs(w,{container:!0,spacing:3,sx:{mt:4},children:[r.jsxs(w,{item:!0,xs:12,md:8,children:[r.jsx(Uu,{project:t}),r.jsx(Nu,{project:t,onUpdateStatus:async e=>{if(t)try{if(!t.local)return;pl(t);const r=await Mu.updateProject(t.local.id,{local:{...t.local,status:e}});n(r)}catch(r){l(r instanceof Error?r.message:"Failed to update status")}}})]}),r.jsx(w,{item:!0,xs:12,md:4,children:r.jsx(qu,{project:t})})]})]})},Lu={title:"",client:"",timeframe:{startDate:"",endDate:""},budget:{estimated:0,actual:0,profitTarget:20,contingencyPercentage:10},contractors:[],selectedScenario:void 0},$u="project_creation_state",Bu=()=>{const e=ie(),[t,n]=re.useState(0),[i,s]=re.useState(()=>{const e=localStorage.getItem($u);return e?JSON.parse(e):Lu}),[o,l]=re.useState({}),[u,d]=re.useState(!1),[h,f]=re.useState(null),[p,m]=re.useState(null),y=async()=>{if(w()){const r=kd[t].id;if("initial-info"===r||"scope-definition"===r){d(!0);try{const e="temp_"+Date.now();await Mu.saveProgress(e,i),m("Progress saved successfully"),f(null)}catch(e){return void f(e instanceof Error?e.message:"Failed to save progress")}finally{d(!1)}}n(e=>e+1)}},v=()=>{n(e=>e-1)},w=()=>{var e,r,n,a,s,o,c,u;const d={};switch(kd[t].id){case"initial-info":i.title||(d.title="Title is required"),i.client||(d.client="Client is required"),i.timeframe.startDate||(d.startDate="Start date is required"),i.timeframe.endDate||(d.endDate="End date is required");break;case"scope-definition":(null==(r=null==(e=i.scope)?void 0:e.requirements)?void 0:r.length)||(d.requirements="At least one requirement is needed"),(null==(a=null==(n=i.scope)?void 0:n.deliverables)?void 0:a.length)||(d.deliverables="At least one deliverable is needed");break;case"budget-system":i.budget.estimated<=0&&(d.estimated="Estimated budget must be greater than 0"),i.selectedScenario||(d.scenario="A budget scenario must be selected");break;case"contractor-management":0===i.contractors.length&&(d.contractors="At least one contractor is required");break;case"production-overview":i.title||(d.title="Title is required"),i.client||(d.client="Client is required"),i.timeframe.startDate||(d.startDate="Start date is required"),i.timeframe.endDate||(d.endDate="End date is required"),(null==(o=null==(s=i.scope)?void 0:s.requirements)?void 0:o.length)||(d.requirements="At least one requirement is needed"),(null==(u=null==(c=i.scope)?void 0:c.deliverables)?void 0:u.length)||(d.deliverables="At least one deliverable is needed"),i.budget.estimated<=0&&(d.estimated="Estimated budget must be greater than 0"),i.selectedScenario||(d.scenario="A budget scenario must be selected"),0===i.contractors.length&&(d.contractors="At least one contractor is required")}return l(d),0===Object.keys(d).length};re.useEffect(()=>{localStorage.setItem($u,JSON.stringify(i))},[i]);const S=async()=>{if(w()){d(!0),f(null);try{const t={title:i.title,client:i.client,timeframe:i.timeframe,budget:{estimated:i.budget.estimated,actual:i.budget.actual,profitTarget:i.budget.profitTarget,contingencyPercentage:i.budget.contingencyPercentage},contractors:i.contractors,scope:i.scope,status:fl.NEW_NOT_SENT,metadata:{selectedScenario:i.selectedScenario}},r=await Mu.createProject(t);localStorage.removeItem($u),e(`/projects/${r.id}`,{state:{message:"Project created successfully",severity:"success"}})}catch(t){f(t instanceof Error?t.message:"Failed to create project")}finally{d(!1)}}};return r.jsx(a,{sx:{width:"100%",p:3},children:r.jsxs(j,{sx:{p:3,mb:3},children:[r.jsx(c,{variant:"h4",gutterBottom:!0,children:"Create New Project"}),r.jsx(E,{activeStep:t,sx:{mb:4},children:kd.map((e,n)=>r.jsx(T,{completed:n<t,children:r.jsx(O,{error:Object.keys(o).length>0&&n===t,children:r.jsx(c,{variant:"body2",children:e.label})})},e.id))}),r.jsx(a,{sx:{mt:4,mb:4},children:(e=>{const t={errors:o,loading:u,onNext:y,onBack:v},n=(e,t=!0)=>{(e=>{s(t=>({...t,...e}))})(e),t&&w()&&y()};switch(e){case"initial-info":return r.jsx(Vu,{...t,onSave:n,initialData:i});case"scope-definition":return r.jsx(od,{...t,onSave:e=>n((e=>({scope:{requirements:e.requirements,deliverables:e.deliverables,technicalRequirements:e.technicalRequirements,additionalNotes:e.additionalNotes}}))(e)),initialData:i.scope});case"budget-system":return r.jsx(cd,{...t,onComplete:e=>n((e=>({selectedScenario:e.selectedScenario,budget:{estimated:e.selectedScenario.totalCost,actual:i.budget.actual,profitTarget:e.profitTarget,contingencyPercentage:e.contingencyPercentage}}))(e)),initialData:{estimatedBudget:i.budget.estimated,timeframe:i.timeframe,selectedScenario:i.selectedScenario}});case"contractor-management":return r.jsx(Td,{...t,onComplete:e=>n((e=>({contractors:e.filter(e=>"confirmed"===e.status).map(e=>({...e.contractor,role:e.role,baseRate:e.baseRate,chargeOutRate:e.chargeOutRate,isFixed:e.isFixed}))}))(e)),initialData:{contractors:i.contractors,budget:i.budget}});case"production-overview":return r.jsx(_d,{...t,onComplete:()=>{w()&&S()},projectData:i,errors:o});default:return null}})(kd[t].id)}),p&&r.jsx(g,{severity:"success",sx:{mb:3},onClose:()=>m(null),children:p}),h&&r.jsx(g,{severity:"error",sx:{mb:3},children:h}),Object.keys(o).length>0&&r.jsxs(g,{severity:"error",sx:{mb:3},children:[r.jsx(c,{variant:"subtitle2",gutterBottom:!0,children:"Please fix the following errors:"}),r.jsx("ul",{style:{margin:0,paddingLeft:"1.5rem"},children:Object.entries(o).map(([e,t])=>r.jsx("li",{children:t},e))})]}),r.jsxs(a,{sx:{display:"flex",justifyContent:"space-between",mt:3},children:[r.jsx(b,{variant:"outlined",onClick:v,disabled:0===t||u,children:"Back"}),r.jsxs(a,{children:[r.jsx(b,{variant:"outlined",onClick:()=>{window.confirm("Are you sure you want to save your progress and exit? You can continue later.")&&e("/projects")},sx:{mr:2},disabled:u,children:"Save & Exit"}),r.jsx(b,{variant:"contained",onClick:t===kd.length-1?S:y,disabled:u||Object.keys(o).length>0,startIcon:u?r.jsx(x,{size:20}):void 0,children:t===kd.length-1?"Create Project":"initial-info"===kd[t].id||"scope-definition"===kd[t].id?"Save & Continue":"Next"})]})]})]})})},zu=sl({title:Ko().required("Project title is required").min(3,"Title must be at least 3 characters"),client:Ko().required("Client name is required"),timeframe:sl({startDate:Ko().required("Start date is required"),endDate:Ko().required("End date is required")}),budget:sl({estimated:Yo().required("Estimated budget is required").min(0,"Budget cannot be negative"),actual:Yo().min(0,"Budget cannot be negative"),profitTarget:Yo().required("Profit target is required").min(0,"Profit target cannot be negative"),contingencyPercentage:Yo().required("Contingency percentage is required").min(0,"Contingency percentage cannot be negative")})}),Vu=({onSave:e,initialData:t})=>{var n,i,s,o,l,u,d,h,f,p,m,y,g,x,S,C,E,T,O,_,k,P,A,D,F,R,M,U,N,q;const I=Cs({initialValues:{title:(null==t?void 0:t.title)||"",client:(null==t?void 0:t.client)||"",timeframe:{startDate:(null==(n=null==t?void 0:t.timeframe)?void 0:n.startDate)||"",endDate:(null==(i=null==t?void 0:t.timeframe)?void 0:i.endDate)||""},budget:{estimated:(null==(s=null==t?void 0:t.budget)?void 0:s.estimated)||0,actual:(null==(o=null==t?void 0:t.budget)?void 0:o.actual)||0,profitTarget:(null==(l=null==t?void 0:t.budget)?void 0:l.profitTarget)||20,contingencyPercentage:(null==(u=null==t?void 0:t.budget)?void 0:u.contingencyPercentage)||10},contractors:(null==t?void 0:t.contractors)||[]},validationSchema:zu,onSubmit:t=>{e(t)}});return r.jsx(j,{sx:{p:3},children:r.jsxs(a,{component:"form",onSubmit:I.handleSubmit,children:[r.jsx(c,{variant:"h5",gutterBottom:!0,children:"Initial Project Information"}),r.jsxs(w,{container:!0,spacing:3,children:[r.jsx(w,{item:!0,xs:12,children:r.jsx(v,{fullWidth:!0,id:"title",name:"title",label:"Project Title",value:I.values.title,onChange:I.handleChange,error:I.touched.title&&Boolean(I.errors.title),helperText:I.touched.title&&I.errors.title})}),r.jsx(w,{item:!0,xs:12,children:r.jsx(v,{fullWidth:!0,id:"client",name:"client",label:"Client Name",value:I.values.client,onChange:I.handleChange,error:I.touched.client&&Boolean(I.errors.client),helperText:I.touched.client&&I.errors.client})}),r.jsx(w,{item:!0,xs:12,sm:6,children:r.jsx(v,{fullWidth:!0,id:"timeframe.startDate",name:"timeframe.startDate",label:"Start Date",type:"date",value:I.values.timeframe.startDate,onChange:I.handleChange,error:(null==(d=I.touched.timeframe)?void 0:d.startDate)&&Boolean(null==(h=I.errors.timeframe)?void 0:h.startDate),helperText:(null==(f=I.touched.timeframe)?void 0:f.startDate)&&(null==(p=I.errors.timeframe)?void 0:p.startDate),InputLabelProps:{shrink:!0}})}),r.jsx(w,{item:!0,xs:12,sm:6,children:r.jsx(v,{fullWidth:!0,id:"timeframe.endDate",name:"timeframe.endDate",label:"End Date",type:"date",value:I.values.timeframe.endDate,onChange:I.handleChange,error:(null==(m=I.touched.timeframe)?void 0:m.endDate)&&Boolean(null==(y=I.errors.timeframe)?void 0:y.endDate),helperText:(null==(g=I.touched.timeframe)?void 0:g.endDate)&&(null==(x=I.errors.timeframe)?void 0:x.endDate),InputLabelProps:{shrink:!0}})}),r.jsx(w,{item:!0,xs:12,sm:6,children:r.jsx(v,{fullWidth:!0,id:"budget.estimated",name:"budget.estimated",label:"Estimated Budget",type:"number",value:I.values.budget.estimated,onChange:I.handleChange,error:(null==(S=I.touched.budget)?void 0:S.estimated)&&Boolean(null==(C=I.errors.budget)?void 0:C.estimated),helperText:(null==(E=I.touched.budget)?void 0:E.estimated)&&(null==(T=I.errors.budget)?void 0:T.estimated),InputProps:{startAdornment:"$"}})}),r.jsx(w,{item:!0,xs:12,sm:6,children:r.jsx(v,{fullWidth:!0,id:"budget.actual",name:"budget.actual",label:"Actual Budget (if known)",type:"number",value:I.values.budget.actual,onChange:I.handleChange,error:(null==(O=I.touched.budget)?void 0:O.actual)&&Boolean(null==(_=I.errors.budget)?void 0:_.actual),helperText:(null==(k=I.touched.budget)?void 0:k.actual)&&(null==(P=I.errors.budget)?void 0:P.actual),InputProps:{startAdornment:"$"}})}),r.jsx(w,{item:!0,xs:12,sm:6,children:r.jsx(v,{fullWidth:!0,id:"budget.profitTarget",name:"budget.profitTarget",label:"Profit Target (%)",type:"number",value:I.values.budget.profitTarget,onChange:I.handleChange,error:(null==(A=I.touched.budget)?void 0:A.profitTarget)&&Boolean(null==(D=I.errors.budget)?void 0:D.profitTarget),helperText:(null==(F=I.touched.budget)?void 0:F.profitTarget)&&(null==(R=I.errors.budget)?void 0:R.profitTarget),InputProps:{endAdornment:"%"}})}),r.jsx(w,{item:!0,xs:12,sm:6,children:r.jsx(v,{fullWidth:!0,id:"budget.contingencyPercentage",name:"budget.contingencyPercentage",label:"Contingency Percentage",type:"number",value:I.values.budget.contingencyPercentage,onChange:I.handleChange,error:(null==(M=I.touched.budget)?void 0:M.contingencyPercentage)&&Boolean(null==(U=I.errors.budget)?void 0:U.contingencyPercentage),helperText:(null==(N=I.touched.budget)?void 0:N.contingencyPercentage)&&(null==(q=I.errors.budget)?void 0:q.contingencyPercentage),InputProps:{endAdornment:"%"}})}),r.jsx(w,{item:!0,xs:12,children:r.jsx(a,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:r.jsx(b,{type:"submit",variant:"contained",color:"primary",size:"large",disabled:!I.isValid||!I.dirty,children:"Save & Continue"})})})]})]})})};var Wu={},Hu={};const Ku=se(_);var Qu;function Yu(){return Qu||(Qu=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=Ku}(Hu)),Hu}var Gu=k;Object.defineProperty(Wu,"__esModule",{value:!0});var Ju=Wu.default=void 0,Xu=Gu(Yu()),Zu=r;Ju=Wu.default=(0,Xu.default)((0,Zu.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");var ed={},td=k;Object.defineProperty(ed,"__esModule",{value:!0});var rd=ed.default=void 0,nd=td(Yu()),id=r;rd=ed.default=(0,nd.default)((0,id.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");const ad=sl({requirements:ll().of(Ko().required("Requirement is required")).min(1,"At least one requirement is needed"),deliverables:ll().of(sl({title:Ko().required("Title is required"),description:Ko().required("Description is required"),dueDate:Ko().required("Due date is required"),status:Ko().oneOf(["pending","in_progress","completed"]).required()})),technicalRequirements:ll().of(sl({category:Ko().required("Category is required"),description:Ko().required("Description is required"),priority:Ko().oneOf(["low","medium","high"]).required()})),additionalNotes:Ko()}),sd=()=>Math.random().toString(36).substr(2,9),od=({onSave:e,initialData:t})=>{const n=Cs({initialValues:{requirements:(null==t?void 0:t.requirements)||[""],deliverables:(null==t?void 0:t.deliverables)||[],technicalRequirements:(null==t?void 0:t.technicalRequirements)||[],additionalNotes:(null==t?void 0:t.additionalNotes)||""},validationSchema:ad,onSubmit:t=>{e(t)}});return r.jsx(j,{sx:{p:3},children:r.jsx(ds,{value:n,children:r.jsxs(a,{component:"form",onSubmit:n.handleSubmit,children:[r.jsx(c,{variant:"h5",gutterBottom:!0,children:"Project Scope Definition"}),r.jsxs(a,{sx:{mb:4},children:[r.jsx(c,{variant:"h6",gutterBottom:!0,children:"Project Requirements"}),r.jsx(Rs,{name:"requirements",render:e=>r.jsxs("div",{children:[n.values.requirements.map((t,i)=>r.jsxs(a,{sx:{mb:2,display:"flex",gap:1},children:[r.jsx(v,{fullWidth:!0,name:`requirements.${i}`,label:`Requirement ${i+1}`,value:t,onChange:n.handleChange,error:Boolean(n.touched.requirements&&Array.isArray(n.errors.requirements)&&n.errors.requirements[i]),helperText:n.touched.requirements&&Array.isArray(n.errors.requirements)&&n.errors.requirements[i]}),r.jsx(l,{onClick:()=>e.remove(i),disabled:1===n.values.requirements.length,children:r.jsx(Ju,{})})]},i)),r.jsx(b,{startIcon:r.jsx(rd,{}),onClick:()=>e.push(""),children:"Add Requirement"})]})})]}),r.jsxs(a,{sx:{mb:4},children:[r.jsx(c,{variant:"h6",gutterBottom:!0,children:"Deliverables"}),r.jsx(Rs,{name:"deliverables",render:e=>r.jsxs("div",{children:[n.values.deliverables.map((t,i)=>r.jsxs(j,{sx:{p:2,mb:2},children:[r.jsxs(w,{container:!0,spacing:2,children:[r.jsx(w,{item:!0,xs:12,children:r.jsx(v,{fullWidth:!0,name:`deliverables.${i}.title`,label:"Deliverable Title",value:t.title,onChange:n.handleChange})}),r.jsx(w,{item:!0,xs:12,children:r.jsx(v,{fullWidth:!0,multiline:!0,rows:2,name:`deliverables.${i}.description`,label:"Description",value:t.description,onChange:n.handleChange})}),r.jsx(w,{item:!0,xs:6,children:r.jsx(v,{fullWidth:!0,type:"date",name:`deliverables.${i}.dueDate`,label:"Due Date",value:t.dueDate,onChange:n.handleChange,InputLabelProps:{shrink:!0}})}),r.jsx(w,{item:!0,xs:6,children:r.jsxs(v,{fullWidth:!0,select:!0,name:`deliverables.${i}.status`,label:"Status",value:t.status,onChange:n.handleChange,children:[r.jsx(P,{value:"pending",children:"Pending"}),r.jsx(P,{value:"in_progress",children:"In Progress"}),r.jsx(P,{value:"completed",children:"Completed"})]})})]}),r.jsx(a,{sx:{mt:2,display:"flex",justifyContent:"flex-end"},children:r.jsx(l,{onClick:()=>e.remove(i),children:r.jsx(Ju,{})})})]},i)),r.jsx(b,{startIcon:r.jsx(rd,{}),onClick:()=>e.push({id:sd(),title:"",description:"",dueDate:"",status:"pending"}),children:"Add Deliverable"})]})})]}),r.jsxs(a,{sx:{mb:4},children:[r.jsx(c,{variant:"h6",gutterBottom:!0,children:"Technical Requirements"}),r.jsx(Rs,{name:"technicalRequirements",render:e=>r.jsxs("div",{children:[n.values.technicalRequirements.map((t,i)=>r.jsxs(j,{sx:{p:2,mb:2},children:[r.jsxs(w,{container:!0,spacing:2,children:[r.jsx(w,{item:!0,xs:6,children:r.jsx(v,{fullWidth:!0,name:`technicalRequirements.${i}.category`,label:"Category",value:t.category,onChange:n.handleChange})}),r.jsx(w,{item:!0,xs:6,children:r.jsxs(v,{fullWidth:!0,select:!0,name:`technicalRequirements.${i}.priority`,label:"Priority",value:t.priority,onChange:n.handleChange,children:[r.jsx(P,{value:"low",children:"Low"}),r.jsx(P,{value:"medium",children:"Medium"}),r.jsx(P,{value:"high",children:"High"})]})}),r.jsx(w,{item:!0,xs:12,children:r.jsx(v,{fullWidth:!0,multiline:!0,rows:2,name:`technicalRequirements.${i}.description`,label:"Description",value:t.description,onChange:n.handleChange})})]}),r.jsx(a,{sx:{mt:2,display:"flex",justifyContent:"flex-end"},children:r.jsx(l,{onClick:()=>e.remove(i),children:r.jsx(Ju,{})})})]},i)),r.jsx(b,{startIcon:r.jsx(rd,{}),onClick:()=>e.push({id:sd(),category:"",description:"",priority:"medium"}),children:"Add Technical Requirement"})]})})]}),r.jsxs(a,{sx:{mb:4},children:[r.jsx(c,{variant:"h6",gutterBottom:!0,children:"Additional Notes"}),r.jsx(v,{fullWidth:!0,multiline:!0,rows:4,name:"additionalNotes",value:n.values.additionalNotes,onChange:n.handleChange,placeholder:"Add any additional notes or comments about the project scope..."})]}),r.jsx(a,{sx:{display:"flex",justifyContent:"flex-end"},children:r.jsx(b,{type:"submit",variant:"contained",color:"primary",size:"large",disabled:!n.isValid||!n.dirty,children:"Save & Continue"})})]})})})},ld=sl({profitTarget:Yo().min(0,"Profit target cannot be negative").required("Profit target is required"),contingencyPercentage:Yo().min(0,"Contingency percentage cannot be negative").max(100,"Contingency percentage cannot exceed 100").required("Contingency percentage is required")}),cd=({onComplete:e,initialData:t,errors:n,loading:i,onBack:s})=>{const[o,l]=re.useState(0),[u,d]=re.useState(null),[h,f]=re.useState(null),[p,m]=re.useState([]),[y]=re.useState([{name:"Basic Package",totalCost:(null==t?void 0:t.estimatedBudget)?.8*t.estimatedBudget:1e4,profitMargin:15,riskLevel:"low",breakdown:[{category:"Labor",amount:6e3,percentage:60},{category:"Equipment",amount:2e3,percentage:20},{category:"Software",amount:1e3,percentage:10},{category:"Miscellaneous",amount:1e3,percentage:10}]},{name:"Standard Package",totalCost:(null==t?void 0:t.estimatedBudget)||15e3,profitMargin:20,riskLevel:"medium",breakdown:[{category:"Labor",amount:9e3,percentage:60},{category:"Equipment",amount:3e3,percentage:20},{category:"Software",amount:1500,percentage:10},{category:"Miscellaneous",amount:1500,percentage:10}]},{name:"Premium Package",totalCost:(null==t?void 0:t.estimatedBudget)?1.2*t.estimatedBudget:2e4,profitMargin:25,riskLevel:"high",breakdown:[{category:"Labor",amount:12e3,percentage:60},{category:"Equipment",amount:4e3,percentage:20},{category:"Software",amount:2e3,percentage:10},{category:"Miscellaneous",amount:2e3,percentage:10}]}]),v=[{label:"Analyze Scope",description:"Analyzing project requirements and deliverables"},{label:"AI Team Suggestions",description:"Getting AI-powered team composition recommendations"},{label:"Multiple Scenarios",description:"Exploring different budget scenarios"},{label:"Profit Margin Calculator",description:"Calculating optimal profit margins"},{label:"Confirm Team",description:"Finalizing team composition"}],x=Cs({initialValues:{profitTarget:20,contingencyPercentage:10},validationSchema:ld,onSubmit:t=>{u&&e({selectedScenario:u,profitTarget:t.profitTarget,contingencyPercentage:t.contingencyPercentage})}});re.useEffect(()=>{if(0===o&&!h&&(null==t?void 0:t.timeframe)){const e=Math.ceil((new Date(t.timeframe.endDate).getTime()-new Date(t.timeframe.startDate).getTime())/864e5);f(`Based on the project timeframe of ${e} days and the provided requirements, this appears to be a ${e<=30?"small":e<=90?"medium":"large"}-scale project that will require careful resource allocation and timeline management.`)}},[o,h,t]),re.useEffect(()=>{1===o&&0===p.length&&m([{role:"Senior Producer",reason:"Project complexity requires experienced leadership"},{role:"Lead Cinematographer",reason:"High-quality visual content requirements"},{role:"Sound Engineer",reason:"Professional audio capture and processing needed"},{role:"Editor",reason:"Post-production expertise required"}])},[o,p]);const S=e=>{switch(e){case"low":return"success";case"medium":return"warning";case"high":return"error";default:return"default"}};return r.jsxs(a,{component:"form",onSubmit:x.handleSubmit,children:[r.jsx(c,{variant:"h5",gutterBottom:!0,children:"Smart Budget System"}),r.jsx(E,{activeStep:o,sx:{mb:4},children:v.map(e=>r.jsx(T,{children:r.jsx(O,{children:e.label})},e.label))}),(()=>{switch(o){case 0:return r.jsxs(j,{sx:{p:3,mb:3},children:[r.jsx(c,{variant:"h6",gutterBottom:!0,children:"Scope Analysis"}),h?r.jsx(c,{children:h}):r.jsx(c,{color:"text.secondary",children:"Analyzing project scope..."})]});case 1:return r.jsxs(j,{sx:{p:3,mb:3},children:[r.jsx(c,{variant:"h6",gutterBottom:!0,children:"AI Team Suggestions"}),r.jsx(w,{container:!0,spacing:2,children:p.map(e=>r.jsx(w,{item:!0,xs:12,children:r.jsxs(j,{sx:{p:2},children:[r.jsx(c,{variant:"subtitle1",color:"primary",children:e.role}),r.jsx(c,{variant:"body2",children:e.reason})]})},e.role))})]});case 2:return r.jsxs(r.Fragment,{children:[r.jsxs(j,{sx:{p:3,mb:3},children:[r.jsx(c,{variant:"h6",gutterBottom:!0,children:"Budget Scenarios"}),r.jsx(F,{children:r.jsxs(R,{children:[r.jsx(M,{children:r.jsxs(U,{children:[r.jsx(N,{children:"Package"}),r.jsx(N,{align:"right",children:"Total Cost"}),r.jsx(N,{align:"right",children:"Profit Margin"}),r.jsx(N,{align:"right",children:"Risk Level"}),r.jsx(N,{align:"right",children:"Action"})]})}),r.jsx(q,{children:y.map(e=>r.jsxs(U,{selected:(null==u?void 0:u.name)===e.name,hover:!0,children:[r.jsx(N,{children:e.name}),r.jsxs(N,{align:"right",children:["$",e.totalCost.toLocaleString()]}),r.jsxs(N,{align:"right",children:[e.profitMargin,"%"]}),r.jsx(N,{align:"right",children:r.jsx(A,{label:e.riskLevel.toUpperCase(),color:S(e.riskLevel),size:"small"})}),r.jsx(N,{align:"right",children:r.jsx(b,{variant:(null==u?void 0:u.name)===e.name?"contained":"outlined",size:"small",onClick:()=>d(e),children:"Select"})})]},e.name))})]})})]}),u&&r.jsxs(j,{sx:{p:3,mb:3},children:[r.jsx(c,{variant:"h6",gutterBottom:!0,children:"Cost Breakdown"}),r.jsx(F,{children:r.jsxs(R,{children:[r.jsx(M,{children:r.jsxs(U,{children:[r.jsx(N,{children:"Category"}),r.jsx(N,{align:"right",children:"Amount"}),r.jsx(N,{align:"right",children:"Percentage"})]})}),r.jsx(q,{children:u.breakdown.map(e=>r.jsxs(U,{children:[r.jsx(N,{children:e.category}),r.jsxs(N,{align:"right",children:["$",e.amount.toLocaleString()]}),r.jsxs(N,{align:"right",children:[e.percentage,"%"]})]},e.category))})]})})]})]});case 3:return r.jsxs(w,{container:!0,spacing:3,children:[r.jsx(w,{item:!0,xs:12,md:6,children:r.jsxs(j,{sx:{p:3},children:[r.jsx(c,{variant:"h6",gutterBottom:!0,children:"Profit Settings"}),r.jsxs(a,{sx:{mb:3},children:[r.jsx(c,{gutterBottom:!0,children:"Target Profit Margin (%)"}),r.jsx(D,{name:"profitTarget",value:x.values.profitTarget,onChange:(e,t)=>x.setFieldValue("profitTarget",t),min:0,max:50,valueLabelDisplay:"auto",marks:[{value:0,label:"0%"},{value:25,label:"25%"},{value:50,label:"50%"}]})]}),r.jsxs(a,{children:[r.jsx(c,{gutterBottom:!0,children:"Contingency Percentage (%)"}),r.jsx(D,{name:"contingencyPercentage",value:x.values.contingencyPercentage,onChange:(e,t)=>x.setFieldValue("contingencyPercentage",t),min:0,max:100,valueLabelDisplay:"auto",marks:[{value:0,label:"0%"},{value:50,label:"50%"},{value:100,label:"100%"}]})]})]})}),r.jsx(w,{item:!0,xs:12,md:6,children:r.jsxs(j,{sx:{p:3},children:[r.jsx(c,{variant:"h6",gutterBottom:!0,children:"Summary"}),u?r.jsxs(r.Fragment,{children:[r.jsxs(c,{variant:"body1",children:["Total Cost: $",u.totalCost.toLocaleString()]}),r.jsxs(c,{variant:"body1",children:["Target Profit: $",(u.totalCost*(x.values.profitTarget/100)).toLocaleString()]}),r.jsxs(c,{variant:"body1",children:["Contingency: $",(u.totalCost*(x.values.contingencyPercentage/100)).toLocaleString()]}),r.jsxs(c,{variant:"h6",sx:{mt:2},children:["Final Price: $",(u.totalCost+u.totalCost*(x.values.profitTarget/100)+u.totalCost*(x.values.contingencyPercentage/100)).toLocaleString()]})]}):r.jsx(c,{color:"text.secondary",children:"Select a budget scenario to see the summary"})]})})]});case 4:return r.jsxs(j,{sx:{p:3,mb:3},children:[r.jsx(c,{variant:"h6",gutterBottom:!0,children:"Team Confirmation"}),r.jsx(w,{container:!0,spacing:2,children:p.map(e=>r.jsx(w,{item:!0,xs:12,sm:6,children:r.jsxs(j,{sx:{p:2},children:[r.jsx(c,{variant:"subtitle1",color:"primary",children:e.role}),r.jsx(c,{variant:"body2",gutterBottom:!0,children:e.reason}),r.jsx(a,{sx:{mt:1},children:r.jsx(A,{label:"Confirmed",color:"success"})})]})},e.role))})]});default:return null}})(),n&&Object.keys(n).length>0&&r.jsxs(g,{severity:"error",sx:{mb:3},children:[r.jsx(c,{variant:"subtitle2",gutterBottom:!0,children:"Please fix the following errors:"}),r.jsx("ul",{style:{margin:0,paddingLeft:"1.5rem"},children:Object.entries(n).map(([e,t])=>r.jsx("li",{children:t},e))})]}),r.jsxs(a,{sx:{display:"flex",justifyContent:"space-between",mt:3},children:[r.jsx(b,{variant:"outlined",onClick:0===o?s:()=>{l(e=>Math.max(e-1,0))},disabled:i,children:"Back"}),o===v.length-1?r.jsx(b,{type:"submit",variant:"contained",color:"primary",disabled:!u||!x.isValid||i,children:"Complete"}):r.jsx(b,{variant:"contained",onClick:()=>{l(e=>Math.min(e+1,v.length-1))},disabled:2===o&&!u||3===o&&!x.isValid||i,children:"Next"})]})]})};var ud={},dd=k;Object.defineProperty(ud,"__esModule",{value:!0});var hd=ud.default=void 0,fd=dd(Yu()),pd=r;hd=ud.default=(0,fd.default)((0,pd.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email");var md={},yd=k;Object.defineProperty(md,"__esModule",{value:!0});var vd=md.default=void 0,gd=yd(Yu()),bd=r;vd=md.default=(0,gd.default)((0,bd.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle");var xd={},jd=k;Object.defineProperty(xd,"__esModule",{value:!0});var wd=xd.default=void 0,Sd=jd(Yu()),Cd=r;wd=xd.default=(0,Sd.default)((0,Cd.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel");const Ed=[{id:"initial_request",name:"Initial Request",subject:"Project Assignment Request",template:"Hi {name},\n\nWe have a new project that matches your expertise. Here are the details:\n\nProject: {projectTitle}\nRole: {role}\nRate: {rate}/hour\nStart Date: {startDate}\nDuration: {duration}\n\nPlease confirm your availability and interest.\n\nBest regards,\n{senderName}"},{id:"follow_up",name:"Follow-up",subject:"Following up: Project Assignment",template:"Hi {name},\n\nJust following up on the project assignment request sent earlier.\nPlease let us know if you're available.\n\nBest regards,\n{senderName}"}],Td=({onComplete:e,initialData:t})=>{var n;const[i,s]=re.useState((null==(n=null==t?void 0:t.contractors)?void 0:n.map(e=>({contractor:e,status:"pending",emailSent:!1,role:e.role,baseRate:e.baseRate,chargeOutRate:e.chargeOutRate,isFixed:e.isFixed})))||[]),[o,u]=re.useState(null),[d,h]=re.useState(!1),f=Cs({initialValues:{templateId:"initial_request",subject:"",message:"",rate:""},validationSchema:sl({templateId:Ko().required("Template is required"),subject:Ko().required("Subject is required"),message:Ko().required("Message is required"),rate:Yo().min(0,"Rate cannot be negative").required("Rate is required")}),onSubmit:()=>{if(o){const e=i.map(e=>e.contractor.email===o.contractor.email?{contractor:e.contractor,status:e.status,emailSent:!0,responseDate:e.responseDate,role:e.role,baseRate:e.baseRate,chargeOutRate:e.chargeOutRate,isFixed:e.isFixed}:e);s(e),h(!1),f.resetForm()}}}),p=e=>{const t=Ed.find(t=>t.id===e);t&&o&&f.setValues({templateId:e,subject:t.subject,message:t.template.replace("{name}",o.contractor.name).replace("{rate}",o.contractor.baseRate.toString()),rate:o.contractor.baseRate.toString()})},m=(e,t)=>{const r=i.map(r=>r.contractor.email===e.email?{contractor:r.contractor,status:t,emailSent:r.emailSent,responseDate:(new Date).toISOString(),role:r.role,baseRate:r.baseRate,chargeOutRate:r.chargeOutRate,isFixed:r.isFixed}:r);s(r)},y=e=>{switch(e){case"confirmed":return"success";case"declined":return"error";default:return"warning"}};return r.jsxs(a,{children:[r.jsx(c,{variant:"h5",gutterBottom:!0,children:"Contractor Management"}),r.jsxs(w,{container:!0,spacing:3,children:[r.jsx(w,{item:!0,xs:12,children:r.jsxs(j,{sx:{p:3,mb:3},children:[r.jsx(c,{variant:"h6",gutterBottom:!0,children:"Team Overview"}),r.jsx(F,{children:r.jsxs(R,{children:[r.jsx(M,{children:r.jsxs(U,{children:[r.jsx(N,{children:"Name"}),r.jsx(N,{children:"Role"}),r.jsx(N,{align:"right",children:"Base Rate"}),r.jsx(N,{align:"center",children:"Email Status"}),r.jsx(N,{align:"center",children:"Assignment Status"}),r.jsx(N,{align:"right",children:"Actions"})]})}),r.jsx(q,{children:i.map(e=>r.jsxs(U,{children:[r.jsx(N,{children:e.contractor.name}),r.jsx(N,{children:e.contractor.role}),r.jsxs(N,{align:"right",children:["$",e.contractor.baseRate,"/hr"]}),r.jsx(N,{align:"center",children:r.jsx(A,{size:"small",label:e.emailSent?"Sent":"Not Sent",color:e.emailSent?"success":"default"})}),r.jsx(N,{align:"center",children:r.jsx(A,{size:"small",label:e.status.toUpperCase(),color:y(e.status)})}),r.jsxs(N,{align:"right",children:[r.jsx(l,{onClick:()=>{u(e),h(!0),p("initial_request")},disabled:"pending"!==e.status,children:r.jsx(hd,{})}),r.jsx(l,{color:"success",onClick:()=>m(e.contractor,"confirmed"),disabled:"pending"!==e.status,children:r.jsx(vd,{})}),r.jsx(l,{color:"error",onClick:()=>m(e.contractor,"declined"),disabled:"pending"!==e.status,children:r.jsx(wd,{})})]})]},e.contractor.email))})]})})]})}),r.jsx(w,{item:!0,xs:12,children:r.jsxs(j,{sx:{p:3},children:[r.jsx(c,{variant:"h6",gutterBottom:!0,children:"Assignment Summary"}),r.jsxs(w,{container:!0,spacing:2,children:[r.jsxs(w,{item:!0,xs:12,sm:4,children:[r.jsx(c,{variant:"body2",color:"text.secondary",children:"Total Team Members"}),r.jsx(c,{variant:"h6",children:i.length})]}),r.jsxs(w,{item:!0,xs:12,sm:4,children:[r.jsx(c,{variant:"body2",color:"text.secondary",children:"Confirmed"}),r.jsx(c,{variant:"h6",children:i.filter(e=>"confirmed"===e.status).length})]}),r.jsxs(w,{item:!0,xs:12,sm:4,children:[r.jsx(c,{variant:"body2",color:"text.secondary",children:"Pending Response"}),r.jsx(c,{variant:"h6",children:i.filter(e=>"pending"===e.status).length})]})]})]})}),r.jsx(w,{item:!0,xs:12,children:r.jsx(a,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:r.jsx(b,{variant:"contained",color:"primary",onClick:()=>e(i),disabled:i.some(e=>"pending"===e.status),children:"Complete Team Assignment"})})})]}),r.jsxs(I,{open:d,onClose:()=>h(!1),maxWidth:"md",fullWidth:!0,children:[r.jsx(L,{children:"Send Assignment Email"}),r.jsxs("form",{onSubmit:f.handleSubmit,children:[r.jsx($,{children:r.jsxs(w,{container:!0,spacing:2,children:[r.jsx(w,{item:!0,xs:12,children:r.jsx(v,{fullWidth:!0,select:!0,name:"templateId",label:"Email Template",value:f.values.templateId,onChange:e=>{p(e.target.value)},children:Ed.map(e=>r.jsx(P,{value:e.id,children:e.name},e.id))})}),r.jsx(w,{item:!0,xs:12,children:r.jsx(v,{fullWidth:!0,name:"subject",label:"Subject",value:f.values.subject,onChange:f.handleChange,error:f.touched.subject&&Boolean(f.errors.subject),helperText:f.touched.subject&&f.errors.subject})}),r.jsx(w,{item:!0,xs:12,children:r.jsx(v,{fullWidth:!0,multiline:!0,rows:8,name:"message",label:"Message",value:f.values.message,onChange:f.handleChange,error:f.touched.message&&Boolean(f.errors.message),helperText:f.touched.message&&f.errors.message})}),r.jsx(w,{item:!0,xs:12,children:r.jsx(v,{fullWidth:!0,name:"rate",label:"Hourly Rate",type:"number",value:f.values.rate,onChange:f.handleChange,error:f.touched.rate&&Boolean(f.errors.rate),helperText:f.touched.rate&&f.errors.rate,InputProps:{startAdornment:"$",endAdornment:"/hr"}})})]})}),r.jsxs(B,{children:[r.jsx(b,{onClick:()=>h(!1),children:"Cancel"}),r.jsx(b,{type:"submit",variant:"contained",color:"primary",children:"Send Email"})]})]})]})]})},Od=new class{async sendContractorAssignment(e){try{await Ru.post("/api/email/contractor-assignment",e)}catch(t){throw t}}async sendProjectToJake(e){try{await Ru.post("/api/email/send-to-jake",{projectData:e,to:"jake@currentmedia.ca"})}catch(t){throw t}}},_d=({onComplete:e,projectData:t,errors:n,loading:i,onBack:s})=>{var o,l;const[u,m]=re.useState("timeline"),[y,v]=re.useState(!1),[E,T]=re.useState({open:!1,message:"",severity:"success"}),O=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return r.jsxs(a,{children:[r.jsx(c,{variant:"h5",gutterBottom:!0,children:"Production Overview"}),r.jsxs(z,{value:u,onChange:(e,t)=>{m(t)},sx:{mb:3},children:[r.jsx(V,{label:"Timeline",value:"timeline"}),r.jsx(V,{label:"Team",value:"team"}),r.jsx(V,{label:"Requirements",value:"requirements"})]}),r.jsxs(w,{container:!0,spacing:3,children:[r.jsx(w,{item:!0,xs:12,children:r.jsx(W,{sx:{mb:3},children:r.jsxs(H,{children:[r.jsx(c,{variant:"h6",gutterBottom:!0,children:"Project Overview"}),r.jsx(C,{sx:{mb:2}}),r.jsxs(w,{container:!0,spacing:3,children:[r.jsxs(w,{item:!0,xs:12,md:6,children:[r.jsxs(a,{sx:{mb:2},children:[r.jsx(c,{variant:"h6",color:"primary",gutterBottom:!0,children:t.title}),r.jsxs(c,{variant:"subtitle1",color:"text.secondary",gutterBottom:!0,children:["Client: ",t.client]})]}),r.jsxs(S,{direction:"row",spacing:2,sx:{mb:2},children:[r.jsx(A,{icon:r.jsx(Gr,{}),label:`Duration: ${(()=>{const e=new Date(t.timeframe.startDate),r=new Date(t.timeframe.endDate);return`${Math.ceil((r.getTime()-e.getTime())/864e5)} days`})()}`,variant:"outlined"}),r.jsx(A,{icon:r.jsx(qr,{}),label:`Budget: $${t.budget.estimated.toLocaleString()}`,variant:"outlined",color:"primary"})]})]}),r.jsx(w,{item:!0,xs:12,md:6,children:r.jsxs(a,{children:[r.jsx(c,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Project Timeline"}),r.jsx(C,{sx:{my:1}}),r.jsxs(c,{variant:"body1",children:["Start: ",O(t.timeframe.startDate)]}),r.jsxs(c,{variant:"body1",children:["End: ",O(t.timeframe.endDate)]})]})})]})]})})}),"timeline"===u&&r.jsx(w,{item:!0,xs:12,children:r.jsx(W,{children:r.jsxs(H,{children:[r.jsx(c,{variant:"h6",gutterBottom:!0,children:"Production Timeline"}),r.jsx(C,{sx:{mb:2}}),(null==(o=t.scope)?void 0:o.deliverables)?r.jsx(S,{spacing:2,children:t.scope.deliverables.map(e=>{const t=(e=>{switch(e){case"completed":return{color:"success",icon:r.jsx(Ir,{})};case"in_progress":return{color:"warning",icon:r.jsx(en,{})};default:return{color:"default",icon:r.jsx(Gr,{})}}})(e.status);return r.jsx(j,{sx:{p:2},children:r.jsxs(w,{container:!0,spacing:2,alignItems:"center",children:[r.jsx(w,{item:!0,children:r.jsx(A,{icon:t.icon,label:O(e.dueDate),color:t.color,variant:"outlined"})}),r.jsxs(w,{item:!0,xs:!0,children:[r.jsx(c,{variant:"subtitle2",children:e.title}),r.jsx(c,{variant:"body2",color:"text.secondary",children:e.description})]})]})},e.id)})}):r.jsx(c,{color:"text.secondary",children:"No deliverables defined"})]})})}),"team"===u&&r.jsx(w,{item:!0,xs:12,children:r.jsx(W,{children:r.jsxs(H,{children:[r.jsx(c,{variant:"h6",gutterBottom:!0,children:"Team Composition"}),r.jsx(C,{sx:{mb:2}}),r.jsx(d,{children:t.contractors.map(e=>r.jsxs(h,{children:[r.jsx(f,{children:r.jsx(Yr,{})}),r.jsx(p,{primary:e.name,secondary:`${e.role} - $${e.baseRate}/hr`})]},e.email))})]})})}),"requirements"===u&&r.jsx(w,{item:!0,xs:12,children:r.jsx(W,{children:r.jsxs(H,{children:[r.jsx(c,{variant:"h6",gutterBottom:!0,children:"Technical Requirements"}),r.jsx(C,{sx:{mb:2}}),(null==(l=t.scope)?void 0:l.technicalRequirements)?r.jsx(d,{children:t.scope.technicalRequirements.map(e=>r.jsxs(h,{children:[r.jsx(f,{children:r.jsx(Nr,{})}),r.jsx(p,{primary:e.category,secondary:r.jsxs(a,{children:[r.jsx(c,{variant:"body2",children:e.description}),r.jsx(A,{size:"small",label:e.priority.toUpperCase(),color:"high"===e.priority?"error":"medium"===e.priority?"warning":"success",sx:{mt:1}})]})})]},e.id))}):r.jsx(c,{color:"text.secondary",children:"No technical requirements defined"})]})})}),n&&Object.keys(n).length>0&&r.jsx(w,{item:!0,xs:12,children:r.jsxs(g,{severity:"error",children:[r.jsx(c,{variant:"subtitle2",gutterBottom:!0,children:"Please fix the following errors:"}),r.jsx("ul",{style:{margin:0,paddingLeft:"1.5rem"},children:Object.entries(n).map(([e,t])=>r.jsx("li",{children:t},e))})]})}),r.jsx(w,{item:!0,xs:12,children:r.jsxs(a,{sx:{display:"flex",justifyContent:"space-between",mt:2},children:[r.jsx(b,{variant:"outlined",onClick:s,disabled:i,children:"Back"}),r.jsx(b,{variant:"contained",color:"primary",onClick:async()=>{try{v(!0),await Od.sendProjectToJake(t),T({open:!0,message:"Project successfully sent to Jake!",severity:"success"}),e()}catch(r){T({open:!0,message:"Failed to send project to Jake. Please try again.",severity:"error"})}finally{v(!1)}},disabled:i||y||n&&Object.keys(n).length>0,startIcon:y?r.jsx(x,{size:20,color:"inherit"}):r.jsx(Jr,{}),children:y?"Sending to Jake...":"Send to Jake"})]})})]}),r.jsx(K,{open:E.open,autoHideDuration:6e3,onClose:()=>{T(e=>({...e,open:!1}))},message:E.message,anchorOrigin:{vertical:"bottom",horizontal:"center"}})]})},kd=[{id:"initial-info",label:"Initial Project Info"},{id:"scope-definition",label:"Scope Definition"},{id:"budget-system",label:"Smart Budget System"},{id:"contractor-management",label:"Contractor Management"},{id:"production-overview",label:"Production Overview"}],Pd=async()=>{const[e,t]=await Promise.all([Ru.get("/dashboard/overview"),Ru.get("/dashboard/notifications")]);return{...e.data,notifications:t.data.map(e=>({...e,createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt),expiresAt:e.expiresAt?new Date(e.expiresAt):void 0,metadata:"string"==typeof e.metadata?JSON.parse(e.metadata):e.metadata}))}},Ad=async e=>{await Ru.delete(`/dashboard/notifications/${e}`)};function Dd(e){var t,r;if(null==(t=e.local)?void 0:t.client)return e.local.client;if(null==(r=e.clickUp)?void 0:r.customFields){const t=e.clickUp.customFields.client;if("string"==typeof t)return t}return"Unknown Client"}function Fd(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Rd(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Md(e){Rd(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===Q(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):new Date(NaN)}var Ud={};function Nd(){return Ud}function qd(e){if(Rd(1,arguments),!function(e){return Rd(1,arguments),e instanceof Date||"object"===Q(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!=typeof e)return!1;var t=Md(e);return!isNaN(Number(t))}function Id(e,t){return Rd(2,arguments),function(e,t){Rd(2,arguments);var r=Md(e).getTime(),n=Fd(t);return new Date(r+n)}(e,-Fd(t))}function Ld(e){Rd(1,arguments);var t=Md(e),r=t.getUTCDay(),n=(r<1?7:0)+r-1;return t.setUTCDate(t.getUTCDate()-n),t.setUTCHours(0,0,0,0),t}function $d(e){Rd(1,arguments);var t=Md(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var i=Ld(n),a=new Date(0);a.setUTCFullYear(r,0,4),a.setUTCHours(0,0,0,0);var s=Ld(a);return t.getTime()>=i.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function Bd(e){Rd(1,arguments);var t=Md(e),r=Ld(t).getTime()-function(e){Rd(1,arguments);var t=$d(e),r=new Date(0);return r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0),Ld(r)}(t).getTime();return Math.round(r/6048e5)+1}function zd(e,t){var r,n,i,a,s,o,l,c;Rd(1,arguments);var u=Nd(),d=Fd(null!==(r=null!==(n=null!==(i=null!==(a=null==t?void 0:t.weekStartsOn)&&void 0!==a?a:null==t||null===(s=t.locale)||void 0===s||null===(o=s.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==i?i:u.weekStartsOn)&&void 0!==n?n:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==r?r:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Md(e),f=h.getUTCDay(),p=(f<d?7:0)+f-d;return h.setUTCDate(h.getUTCDate()-p),h.setUTCHours(0,0,0,0),h}function Vd(e,t){var r,n,i,a,s,o,l,c;Rd(1,arguments);var u=Md(e),d=u.getUTCFullYear(),h=Nd(),f=Fd(null!==(r=null!==(n=null!==(i=null!==(a=null==t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null==t||null===(s=t.locale)||void 0===s||null===(o=s.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==i?i:h.firstWeekContainsDate)&&void 0!==n?n:null===(l=h.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==r?r:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(d+1,0,f),p.setUTCHours(0,0,0,0);var m=zd(p,t),y=new Date(0);y.setUTCFullYear(d,0,f),y.setUTCHours(0,0,0,0);var v=zd(y,t);return u.getTime()>=m.getTime()?d+1:u.getTime()>=v.getTime()?d:d-1}function Wd(e,t){Rd(1,arguments);var r=Md(e),n=zd(r,t).getTime()-function(e,t){var r,n,i,a,s,o,l,c;Rd(1,arguments);var u=Nd(),d=Fd(null!==(r=null!==(n=null!==(i=null!==(a=null==t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null==t||null===(s=t.locale)||void 0===s||null===(o=s.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==i?i:u.firstWeekContainsDate)&&void 0!==n?n:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==r?r:1),h=Vd(e,t),f=new Date(0);return f.setUTCFullYear(h,0,d),f.setUTCHours(0,0,0,0),zd(f,t)}(r,t).getTime();return Math.round(n/6048e5)+1}function Hd(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var Kd={y:function(e,t){var r=e.getUTCFullYear(),n=r>0?r:1-r;return Hd("yy"===t?n%100:n,t.length)},M:function(e,t){var r=e.getUTCMonth();return"M"===t?String(r+1):Hd(r+1,2)},d:function(e,t){return Hd(e.getUTCDate(),t.length)},a:function(e,t){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return"am"===r?"a.m.":"p.m."}},h:function(e,t){return Hd(e.getUTCHours()%12||12,t.length)},H:function(e,t){return Hd(e.getUTCHours(),t.length)},m:function(e,t){return Hd(e.getUTCMinutes(),t.length)},s:function(e,t){return Hd(e.getUTCSeconds(),t.length)},S:function(e,t){var r=t.length,n=e.getUTCMilliseconds();return Hd(Math.floor(n*Math.pow(10,r-3)),t.length)}};const Qd=Kd;var Yd="midnight",Gd="noon",Jd="morning",Xd="afternoon",Zd="evening",eh="night",th={G:function(e,t,r){var n=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if("yo"===t){var n=e.getUTCFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Qd.y(e,t)},Y:function(e,t,r,n){var i=Vd(e,n),a=i>0?i:1-i;return"YY"===t?Hd(a%100,2):"Yo"===t?r.ordinalNumber(a,{unit:"year"}):Hd(a,t.length)},R:function(e,t){return Hd($d(e),t.length)},u:function(e,t){return Hd(e.getUTCFullYear(),t.length)},Q:function(e,t,r){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Hd(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Hd(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){var n=e.getUTCMonth();switch(t){case"M":case"MM":return Qd.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){var n=e.getUTCMonth();switch(t){case"L":return String(n+1);case"LL":return Hd(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){var i=Wd(e,n);return"wo"===t?r.ordinalNumber(i,{unit:"week"}):Hd(i,t.length)},I:function(e,t,r){var n=Bd(e);return"Io"===t?r.ordinalNumber(n,{unit:"week"}):Hd(n,t.length)},d:function(e,t,r){return"do"===t?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Qd.d(e,t)},D:function(e,t,r){var n=function(e){Rd(1,arguments);var t=Md(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=r-t.getTime();return Math.floor(n/864e5)+1}(e);return"Do"===t?r.ordinalNumber(n,{unit:"dayOfYear"}):Hd(n,t.length)},E:function(e,t,r){var n=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){var i=e.getUTCDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Hd(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){var i=e.getUTCDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Hd(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){var n=e.getUTCDay(),i=0===n?7:n;switch(t){case"i":return String(i);case"ii":return Hd(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,r){var n,i=e.getUTCHours();switch(n=12===i?Gd:0===i?Yd:i/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,t,r){var n,i=e.getUTCHours();switch(n=i>=17?Zd:i>=12?Xd:i>=4?Jd:eh,t){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,t,r){if("ho"===t){var n=e.getUTCHours()%12;return 0===n&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Qd.h(e,t)},H:function(e,t,r){return"Ho"===t?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Qd.H(e,t)},K:function(e,t,r){var n=e.getUTCHours()%12;return"Ko"===t?r.ordinalNumber(n,{unit:"hour"}):Hd(n,t.length)},k:function(e,t,r){var n=e.getUTCHours();return 0===n&&(n=24),"ko"===t?r.ordinalNumber(n,{unit:"hour"}):Hd(n,t.length)},m:function(e,t,r){return"mo"===t?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Qd.m(e,t)},s:function(e,t,r){return"so"===t?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Qd.s(e,t)},S:function(e,t){return Qd.S(e,t)},X:function(e,t,r,n){var i=(n._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return nh(i);case"XXXX":case"XX":return ih(i);default:return ih(i,":")}},x:function(e,t,r,n){var i=(n._originalDate||e).getTimezoneOffset();switch(t){case"x":return nh(i);case"xxxx":case"xx":return ih(i);default:return ih(i,":")}},O:function(e,t,r,n){var i=(n._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+rh(i,":");default:return"GMT"+ih(i,":")}},z:function(e,t,r,n){var i=(n._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+rh(i,":");default:return"GMT"+ih(i,":")}},t:function(e,t,r,n){var i=n._originalDate||e;return Hd(Math.floor(i.getTime()/1e3),t.length)},T:function(e,t,r,n){return Hd((n._originalDate||e).getTime(),t.length)}};function rh(e,t){var r=e>0?"-":"+",n=Math.abs(e),i=Math.floor(n/60),a=n%60;if(0===a)return r+String(i);var s=t||"";return r+String(i)+s+Hd(a,2)}function nh(e,t){return e%60==0?(e>0?"-":"+")+Hd(Math.abs(e)/60,2):ih(e,t)}function ih(e,t){var r=t||"",n=e>0?"-":"+",i=Math.abs(e);return n+Hd(Math.floor(i/60),2)+r+Hd(i%60,2)}const ah=th;var sh=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},oh=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}};const lh={p:oh,P:function(e,t){var r,n=e.match(/(P+)(p+)?/)||[],i=n[1],a=n[2];if(!a)return sh(e,t);switch(i){case"P":r=t.dateTime({width:"short"});break;case"PP":r=t.dateTime({width:"medium"});break;case"PPP":r=t.dateTime({width:"long"});break;default:r=t.dateTime({width:"full"})}return r.replace("{{date}}",sh(i,t)).replace("{{time}}",oh(a,t))}};var ch=["D","DD"],uh=["YY","YYYY"];function dh(e,t,r){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var hh={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const fh=function(e,t,r){var n,i=hh[e];return n="string"==typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!=r&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function ph(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const mh={date:ph({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:ph({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:ph({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var yh={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};const vh=function(e,t,r,n){return yh[e]};function gh(e){return function(t,r){var n;if("formatting"===(null!=r&&r.context?String(r.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,a=null!=r&&r.width?String(r.width):i;n=e.formattingValues[a]||e.formattingValues[i]}else{var s=e.defaultWidth,o=null!=r&&r.width?String(r.width):e.defaultWidth;n=e.values[o]||e.values[s]}return n[e.argumentCallback?e.argumentCallback(t):t]}}const bh={ordinalNumber:function(e,t){var r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:gh({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:gh({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:gh({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:gh({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:gh({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function xh(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;var s,o=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?function(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}(l,function(e){return e.test(o)}):function(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}(l,function(e){return e.test(o)});return s=e.valueCallback?e.valueCallback(c):c,{value:s=r.valueCallback?r.valueCallback(s):s,rest:t.slice(o.length)}}}var jh,wh={ordinalNumber:(jh={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.match(jh.matchPattern);if(!r)return null;var n=r[0],i=e.match(jh.parsePattern);if(!i)return null;var a=jh.valueCallback?jh.valueCallback(i[0]):i[0];return{value:a=t.valueCallback?t.valueCallback(a):a,rest:e.slice(n.length)}}),era:xh({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:xh({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:xh({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:xh({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:xh({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};const Sh={code:"en-US",formatDistance:fh,formatLong:mh,formatRelative:vh,localize:bh,match:wh,options:{weekStartsOn:0,firstWeekContainsDate:1}};var Ch=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Eh=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Th=/^'([^]*?)'?$/,Oh=/''/g,_h=/[a-zA-Z]/;function kh(e,t,r){var n,i,a,s,o,l,c,u,d,h,f,p,m,y,v,g,b,x;Rd(2,arguments);var j=String(t),w=Nd(),S=null!==(n=null!==(i=null==r?void 0:r.locale)&&void 0!==i?i:w.locale)&&void 0!==n?n:Sh,C=Fd(null!==(a=null!==(s=null!==(o=null!==(l=null==r?void 0:r.firstWeekContainsDate)&&void 0!==l?l:null==r||null===(c=r.locale)||void 0===c||null===(u=c.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==o?o:w.firstWeekContainsDate)&&void 0!==s?s:null===(d=w.locale)||void 0===d||null===(h=d.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==a?a:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var E=Fd(null!==(f=null!==(p=null!==(m=null!==(y=null==r?void 0:r.weekStartsOn)&&void 0!==y?y:null==r||null===(v=r.locale)||void 0===v||null===(g=v.options)||void 0===g?void 0:g.weekStartsOn)&&void 0!==m?m:w.weekStartsOn)&&void 0!==p?p:null===(b=w.locale)||void 0===b||null===(x=b.options)||void 0===x?void 0:x.weekStartsOn)&&void 0!==f?f:0);if(!(E>=0&&E<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!S.localize)throw new RangeError("locale must contain localize property");if(!S.formatLong)throw new RangeError("locale must contain formatLong property");var T=Md(e);if(!qd(T))throw new RangeError("Invalid time value");var O=function(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}(T),_=Id(T,O),k={firstWeekContainsDate:C,weekStartsOn:E,locale:S,_originalDate:T},P=j.match(Eh).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,lh[t])(e,S.formatLong):e}).join("").match(Ch).map(function(n){if("''"===n)return"'";var i,a,s=n[0];if("'"===s)return(a=(i=n).match(Th))?a[1].replace(Oh,"'"):i;var o=ah[s];if(o)return null!=r&&r.useAdditionalWeekYearTokens||!function(e){return-1!==uh.indexOf(e)}(n)||dh(n,t,String(e)),null!=r&&r.useAdditionalDayOfYearTokens||!function(e){return-1!==ch.indexOf(e)}(n)||dh(n,t,String(e)),o(_,n,S.localize,k);if(s.match(_h))throw new RangeError("Format string contains an unescaped latin alphabet character `"+s+"`");return n}).join("");return P}const Ph=async(e,t,r)=>{const n=new FormData;return n.append("file",r),(await Ru.post(`/documents/${e}/${t}`,n,{headers:{"Content-Type":"multipart/form-data"}})).data},Ah=async(e,t,r)=>(await Ru.get(`/documents/${e}/${t}/${r}`,{responseType:"blob"})).data,Dh=async(e,t,r)=>{await Ru.delete(`/documents/${e}/${t}/${r}`)},Fh=async(e,t)=>(await Ru.get(`/documents/${e}/${t}`)).data,Rh=(e,t)=>{const r=window.URL.createObjectURL(e),n=document.createElement("a");n.href=r,n.setAttribute("download",t),document.body.appendChild(n),n.click(),n.remove(),window.URL.revokeObjectURL(r)},Mh=[{type:"agreements",label:"Agreements"},{type:"invoices",label:"Invoices"},{type:"receipts",label:"Receipts"}],Uh=({projectId:e})=>{const[t,n]=re.useState({}),[i,s]=re.useState(!0),[o,u]=re.useState(null),[f,m]=re.useState(!1),y=async()=>{try{s(!0),u(null);const t={};for(const r of Mh){const n=await Fh(e,r.type);t[r.type]=n.files}n(t)}catch(t){u("Failed to load documents")}finally{s(!1)}};return re.useEffect(()=>{y()},[e]),i?r.jsx(a,{display:"flex",justifyContent:"center",p:3,children:r.jsx(x,{})}):r.jsxs(j,{sx:{p:3,mb:3},children:[r.jsx(c,{variant:"h6",gutterBottom:!0,children:"Project Documents"}),o&&r.jsx(g,{severity:"error",sx:{mb:2},children:o}),Mh.map((n,i)=>{var s;return r.jsxs(a,{sx:{mb:3},children:[r.jsx(c,{variant:"subtitle1",color:"primary",gutterBottom:!0,children:n.label}),r.jsxs(a,{sx:{mb:2},children:[r.jsx("input",{type:"file",id:`upload-${n.type}`,style:{display:"none"},onChange:t=>(async(t,r)=>{var n;const i=null==(n=r.target.files)?void 0:n[0];if(i)try{m(!0),u(null),await Ph(e,t,i),await y()}catch(a){u("Failed to upload document")}finally{m(!1),r.target.value=""}})(n.type,t),accept:ml[n.type].join(",")}),r.jsx("label",{htmlFor:`upload-${n.type}`,children:r.jsxs(b,{component:"span",variant:"outlined",startIcon:r.jsx(Zr,{}),disabled:f,children:["Upload ",n.label]})})]}),(null==(s=t[n.type])?void 0:s.length)>0?r.jsx(d,{children:t[n.type].map(t=>r.jsxs(h,{children:[r.jsx(p,{primary:t}),r.jsxs(Y,{children:[r.jsx(l,{edge:"end","aria-label":"download",onClick:()=>(async(t,r)=>{try{u(null);const n=await Ah(e,t,r);Rh(n,r)}catch(n){u("Failed to download document")}})(n.type,t),sx:{mr:1},children:r.jsx(zr,{})}),r.jsx(l,{edge:"end","aria-label":"delete",onClick:()=>(async(t,r)=>{if(window.confirm(`Are you sure you want to delete ${r}?`))try{u(null),await Dh(e,t,r),await y()}catch(n){u("Failed to delete document")}})(n.type,t),children:r.jsx(Br,{})})]})]},t))}):r.jsxs(c,{variant:"body2",color:"text.secondary",children:["No ",n.label.toLowerCase()," uploaded"]}),i<Mh.length-1&&r.jsx(C,{sx:{my:2}})]},n.type)})]})},Nh=new class{async getTask(e){var t;try{return(await Ru.get(`/clickup/tasks/${e}`)).data}catch(r){if(404===(null==(t=r.response)?void 0:t.status))return null;throw r}}async getSubTasks(e){var t;try{return(await Ru.get(`/clickup/tasks/${e}/subtasks`)).data}catch(r){if(404===(null==(t=r.response)?void 0:t.status))return null;throw r}}async updateTask(e,t){var r,n,i;try{if(!t||0===Object.keys(t).length)throw new Error("Update data is required");return(await Ru.patch(`/clickup/tasks/${e}`,t)).data}catch(a){if(404===(null==(r=a.response)?void 0:r.status))return null;if(400===(null==(n=a.response)?void 0:n.status))throw new Error(`Invalid update data: ${(null==(i=a.response.data)?void 0:i.message)||"Unknown error"}`);throw a}}};var qh={},Ih=k;Object.defineProperty(qh,"__esModule",{value:!0});var Lh=qh.default=void 0,$h=Ih(Yu()),Bh=r;Lh=qh.default=(0,$h.default)((0,Bh.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"OpenInNew");var zh={},Vh=k;Object.defineProperty(zh,"__esModule",{value:!0});var Wh=zh.default=void 0,Hh=Vh(Yu()),Kh=r;Wh=zh.default=(0,Hh.default)((0,Kh.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit");const Qh=({open:e,onClose:t,project:n,isInSystem:i=!1})=>{var s,o,l,u,f,m,y,v,j,w,S,E,T;const O=ie(),[_,k]=re.useState(!0),[P,D]=re.useState(null),[F,R]=re.useState(null),[M,U]=re.useState([]);re.useEffect(()=>{(async()=>{var t;if(e)try{if(k(!0),D(null),!(null==(t=n.clickUp)?void 0:t.id))throw new Error("No ClickUp ID found");const[e,r]=await Promise.all([Nh.getTask(n.clickUp.id),Nh.getSubTasks(n.clickUp.id)]);R(e),U(r||[])}catch(r){D("Failed to load project details")}finally{k(!1)}})()},[e,null==(s=n.clickUp)?void 0:s.id,null==(o=n.local)?void 0:o.id]);const N=e=>{var r;(null==(r=n.clickUp)?void 0:r.id)&&(O(`/projects/${n.clickUp.id}/documents/create/${e}`),t())};return _?r.jsx(I,{open:e,onClose:t,maxWidth:"md",fullWidth:!0,children:r.jsx($,{children:r.jsx(a,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400,children:r.jsx(x,{})})})}):P||!F?r.jsxs(I,{open:e,onClose:t,maxWidth:"md",fullWidth:!0,children:[r.jsx($,{children:r.jsx(g,{severity:"error",children:P||"Failed to load project details"})}),r.jsx(B,{children:r.jsx(b,{onClick:t,children:"Close"})})]}):r.jsxs(I,{open:e,onClose:t,maxWidth:"md",fullWidth:!0,children:[r.jsx(L,{children:r.jsxs(a,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[r.jsx(c,{variant:"h6",children:(null==(l=n.local)?void 0:l.title)||F.name}),n.clickUp&&r.jsx(A,{label:n.clickUp.status||(null==(u=F.status)?void 0:u.status)||"No Status",size:"small",sx:{backgroundColor:n.clickUp.statusColor||(null==(f=F.status)?void 0:f.color)||"grey",color:"white"}})]})}),r.jsxs($,{children:[r.jsxs(a,{sx:{mb:3},children:[r.jsx(c,{variant:"subtitle2",color:"text.secondary",children:"Client"}),r.jsx(c,{children:(null==(m=n.local)?void 0:m.client)||"Unknown"}),r.jsx(c,{variant:"subtitle2",color:"text.secondary",sx:{mt:2},children:"Task Type"}),r.jsx(c,{children:(null==(y=n.clickUp)?void 0:y.customFields[gl])||"Not Specified"}),r.jsx(c,{variant:"subtitle2",color:"text.secondary",sx:{mt:2},children:"Created"}),r.jsx(c,{children:F.date_created?kh(new Date(F.date_created),"PPP"):"Unknown"}),r.jsx(c,{variant:"subtitle2",color:"text.secondary",sx:{mt:2},children:"Last Updated"}),r.jsx(c,{children:F.date_updated?kh(new Date(F.date_updated),"PPP"):"Unknown"}),r.jsx(c,{variant:"subtitle2",color:"text.secondary",sx:{mt:2},children:"Invoice Status"}),r.jsx(c,{children:(null==(v=n.clickUp)?void 0:v.customFields[vl])||"Not Set"}),(null==(j=n.clickUp)?void 0:j.customFields[yl])&&r.jsxs(r.Fragment,{children:[r.jsx(c,{variant:"subtitle2",color:"text.secondary",sx:{mt:2},children:"Invoice #"}),r.jsx(c,{children:null==(w=n.clickUp)?void 0:w.customFields[yl]})]})]}),r.jsx(C,{sx:{my:2}}),r.jsx(c,{variant:"h6",gutterBottom:!0,children:"Sub-Tasks"}),r.jsx(d,{children:0===M.length?r.jsx(h,{children:r.jsx(p,{primary:"No sub-tasks found"})}):M.map(e=>{var t,n;return r.jsx(h,{children:r.jsx(p,{primary:e.name,secondary:r.jsx(A,{label:(null==(t=e.status)?void 0:t.status)||"No Status",size:"small",sx:{backgroundColor:(null==(n=e.status)?void 0:n.color)||"grey",color:"white",mt:.5}})})},e.id)})}),i&&r.jsxs(r.Fragment,{children:[r.jsx(C,{sx:{my:2}}),r.jsx(Uh,{projectId:(null==(S=n.local)?void 0:S.id)||(null==(E=n.clickUp)?void 0:E.id)||""})]})]}),r.jsxs(B,{sx:{justifyContent:"space-between",px:3,pb:2},children:[r.jsx(b,{startIcon:r.jsx(Lh,{}),onClick:()=>{var e;return(null==(e=n.clickUp)?void 0:e.url)&&window.open(n.clickUp.url,"_blank")},disabled:!(null==(T=n.clickUp)?void 0:T.url),children:"View in ClickUp"}),i?r.jsx(b,{variant:"contained",startIcon:r.jsx(Wh,{}),onClick:()=>{var e;(null==(e=n.local)?void 0:e.id)&&(O(`/projects/${n.local.id}/edit`),t())},children:"Edit Project"}):r.jsxs(a,{children:[r.jsx(b,{startIcon:r.jsx(rd,{}),onClick:()=>N("overview"),sx:{mr:1},children:"Create Overview"}),r.jsx(b,{startIcon:r.jsx(rd,{}),onClick:()=>N("budget"),sx:{mr:1},children:"Create Budget"}),r.jsx(b,{variant:"contained",onClick:()=>{var e;(null==(e=n.clickUp)?void 0:e.id)&&(O(`/projects/${n.clickUp.id}/import`),t())},children:"Import Project"})]})]})]})},Yh=()=>{const e=ie(),[t,n]=re.useState(!0),[i,s]=re.useState(null),[o,u]=re.useState(null),[m,y]=re.useState(null),[v,S]=re.useState(null),[E,T]=re.useState(!1),[O,_]=re.useState(!1);re.useEffect(()=>{k()},[]);const k=async()=>{try{n(!0);const e=await Pd();u(e),s(null)}catch(e){s("Failed to load dashboard data")}finally{n(!1)}},D=t=>{var r;if(null==v?void 0:v.clickUp)switch(t){case"view":window.open(v.clickUp.url,"_blank");break;case"edit":(null==(r=v.local)?void 0:r.id)&&e(`/projects/edit/${v.local.id}`);break;case"details":T(!0),y(null)}},F=e=>{switch(e){case"CONTRACTOR_CONFIRMATION":case"CONTRACTOR_DECLINE":return r.jsx(Yr,{});case"PROJECT_NEW":case"PROJECT_UPDATE":return r.jsx(Nr,{});default:return r.jsx(Xr,{})}};if(t)return r.jsx(a,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:r.jsx(x,{})});if(i)return r.jsx(a,{m:2,children:r.jsx(g,{severity:"error",children:i})});if(!o)return null;const R=t=>{var n,i,s,o,u,d;const h=(null==(n=t.local)?void 0:n.id)||(null==(i=t.clickUp)?void 0:i.id);return h?r.jsxs(W,{onClick:()=>(async e=>{var t;if(S(e),T(!0),null==(t=e.clickUp)?void 0:t.id){const t=await Mu.checkProjectExists(e.clickUp.id);_(t)}})(t),sx:{mb:2,cursor:"pointer","&:hover":{boxShadow:6,transform:"translateY(-2px)",transition:"all 0.2s ease-in-out"}},children:[r.jsxs(H,{children:[r.jsxs(a,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[r.jsx(c,{variant:"h6",component:"div",children:Dd(t)}),r.jsx(l,{size:"small",onClick:e=>((e,t)=>{e.stopPropagation(),S(t),y(e.currentTarget)})(e,t),children:r.jsx(Kr,{})})]}),r.jsx(c,{color:"textSecondary",gutterBottom:!0,children:(null==(s=t.local)?void 0:s.title)||(null==(o=t.clickUp)?void 0:o.name)||"Untitled Project"}),t.clickUp&&r.jsx(A,{label:t.clickUp.status,size:"small",sx:{backgroundColor:t.clickUp.statusColor||"#666",color:"white",mt:1}})]}),r.jsxs(X,{children:[(null==(u=t.clickUp)?void 0:u.url)&&r.jsx(b,{size:"small",startIcon:r.jsx(Qr,{}),onClick:e=>{e.stopPropagation(),window.open(t.clickUp.url,"_blank")},children:"View in ClickUp"}),(null==(d=t.local)?void 0:d.id)&&r.jsx(b,{size:"small",startIcon:r.jsx(Vr,{}),onClick:r=>{r.stopPropagation(),e(`/projects/edit/${t.local.id}`)},children:"Edit"})]})]},h):null},M=(e,t)=>r.jsx(w,{item:!0,xs:12,md:6,children:r.jsxs(j,{sx:{p:2,height:"100%"},children:[r.jsxs(a,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[r.jsx(c,{variant:"h6",children:e}),r.jsxs(c,{color:"textSecondary",children:[t.length," project",1!==t.length?"s":""]})]}),r.jsx(a,{sx:{maxHeight:400,overflowY:"auto"},children:t.map(R)})]})});return r.jsxs(r.Fragment,{children:[r.jsx(a,{p:3,children:r.jsxs(w,{container:!0,spacing:3,children:[r.jsx(w,{item:!0,xs:12,children:r.jsxs(j,{sx:{p:2,mb:3},children:[r.jsxs(a,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[r.jsx(c,{variant:"h5",children:"Project Overview"}),r.jsx(b,{variant:"contained",startIcon:r.jsx(Ur,{}),onClick:()=>e("/projects/new"),children:"New Project"})]}),r.jsxs(w,{container:!0,spacing:2,children:[r.jsx(w,{item:!0,xs:6,sm:4,md:2,children:r.jsxs(a,{textAlign:"center",p:1,children:[r.jsx(c,{variant:"h4",color:"primary",children:o.projectStatusCounts.newNotSent}),r.jsx(c,{variant:"body2",color:"textSecondary",children:"New - Not Sent"})]})}),r.jsx(w,{item:!0,xs:6,sm:4,md:2,children:r.jsxs(a,{textAlign:"center",p:1,children:[r.jsx(c,{variant:"h4",color:"primary",children:o.projectStatusCounts.newSent}),r.jsx(c,{variant:"body2",color:"textSecondary",children:"New - Sent"})]})}),r.jsx(w,{item:!0,xs:6,sm:4,md:2,children:r.jsxs(a,{textAlign:"center",p:1,children:[r.jsx(c,{variant:"h4",color:"primary",children:o.projectStatusCounts.activeInClickUp}),r.jsx(c,{variant:"body2",color:"textSecondary",children:"Active"})]})}),r.jsx(w,{item:!0,xs:6,sm:4,md:2,children:r.jsxs(a,{textAlign:"center",p:1,children:[r.jsx(c,{variant:"h4",color:"primary",children:o.projectStatusCounts.completed}),r.jsx(c,{variant:"body2",color:"textSecondary",children:"Post Production"})]})}),r.jsx(w,{item:!0,xs:6,sm:4,md:2,children:r.jsxs(a,{textAlign:"center",p:1,children:[r.jsx(c,{variant:"h4",color:"primary",children:o.projectStatusCounts.archived}),r.jsx(c,{variant:"body2",color:"textSecondary",children:"Archived"})]})})]})]})}),r.jsx(w,{item:!0,xs:12,children:r.jsxs(w,{container:!0,spacing:2,children:[r.jsx(w,{item:!0,xs:12,sm:6,children:r.jsx(j,{sx:{p:2,cursor:"pointer","&:hover":{backgroundColor:"action.hover"}},onClick:()=>e("/projects"),children:r.jsxs(a,{display:"flex",alignItems:"center",children:[r.jsx(Nr,{sx:{fontSize:40,color:"primary.main",mr:2}}),r.jsxs(a,{children:[r.jsx(c,{variant:"h6",children:"Projects"}),r.jsx(c,{variant:"body2",color:"textSecondary",children:"View and manage all projects"})]})]})})}),r.jsx(w,{item:!0,xs:12,sm:6,children:r.jsx(j,{sx:{p:2,cursor:"pointer","&:hover":{backgroundColor:"action.hover"}},onClick:()=>e("/settings"),children:r.jsxs(a,{display:"flex",alignItems:"center",children:[r.jsx(Yr,{sx:{fontSize:40,color:"primary.main",mr:2}}),r.jsxs(a,{children:[r.jsx(c,{variant:"h6",children:"Settings"}),r.jsx(c,{variant:"body2",color:"textSecondary",children:"Manage system settings"})]})]})})})]})}),o&&r.jsxs(r.Fragment,{children:[M("New Projects",o.projects.newProjects),M("Active Projects",o.projects.activeProjects),M("Post Production",o.projects.postProduction),M("Archived",o.projects.archived)]}),r.jsxs(G,{anchorEl:m,open:Boolean(m),onClose:()=>{y(null),S(null),T(!1)},children:[r.jsxs(P,{onClick:()=>D("view"),children:[r.jsx(f,{children:r.jsx(Qr,{fontSize:"small"})}),r.jsx(p,{children:"View in ClickUp"})]}),r.jsxs(P,{onClick:()=>D("edit"),children:[r.jsx(f,{children:r.jsx(Vr,{fontSize:"small"})}),r.jsx(p,{children:"Edit Project"})]})]}),r.jsx(w,{item:!0,xs:12,children:r.jsxs(j,{sx:{p:2},children:[r.jsx(c,{variant:"h6",gutterBottom:!0,children:"Notifications"}),r.jsx(d,{children:0===o.notifications.length?r.jsx(h,{children:r.jsx(p,{primary:"No new notifications"})}):o.notifications.map(e=>r.jsxs(ne.Fragment,{children:[r.jsxs(h,{secondaryAction:r.jsx(l,{edge:"end",onClick:()=>(async e=>{try{await Ad(e),o&&u({...o,notifications:o.notifications.filter(t=>t.id!==e)})}catch(t){}})(e.id),children:r.jsx(Lr,{})}),children:[r.jsx(f,{children:r.jsx(J,{color:"error",variant:"dot",invisible:"UNREAD"!==e.status,children:F(e.type)})}),r.jsx(p,{primary:e.message,secondary:r.jsxs(r.Fragment,{children:[new Date(e.createdAt).toLocaleString(),e.metadata&&r.jsx(c,{component:"span",sx:{display:"block",color:"text.secondary",fontSize:"0.875rem"},children:Object.entries(e.metadata).map(([e,t])=>`${e}: ${t}`).join(" • ")})]})})]}),r.jsx(C,{})]},e.id))})]})})]})}),v&&r.jsx(Qh,{open:E,onClose:()=>T(!1),project:v,isInSystem:O})]})},Gh=({children:e})=>{const{user:t}=Fr();return t?r.jsx(r.Fragment,{children:e}):r.jsx(ue,{to:"/PMS/login"})},Jh=()=>r.jsxs(le,{children:[r.jsx(ce,{path:"/PMS/login",element:r.jsx(hl,{})}),r.jsx(ce,{path:"/PMS/*",element:r.jsx(Gh,{children:r.jsx(tn,{children:r.jsxs(le,{children:[r.jsx(ce,{path:"/",element:r.jsx(Yh,{})}),r.jsx(ce,{path:"/projects",element:r.jsx(Iu,{})}),r.jsx(ce,{path:"/projects/new",element:r.jsx(Bu,{})})]})})})})]}),Xh=()=>r.jsx(Se,{store:Pr,children:r.jsx(oe,{children:r.jsxs(Z,{theme:Ar,children:[r.jsx(ee,{}),r.jsx(Rr,{children:r.jsx(Jh,{})})]})})}),Zh=new class{constructor(e={}){this.queryCache=e.queryCache||new tt,this.mutationCache=e.mutationCache||new nt,this.logger=e.logger||Je,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,1===this.mountCount&&(this.unsubscribeFocus=ze.subscribe(()=>{ze.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=We.subscribe(()=>{We.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,t;this.mountCount--,0===this.mountCount&&(null==(e=this.unsubscribeFocus)||e.call(this),this.unsubscribeFocus=void 0,null==(t=this.unsubscribeOnline)||t.call(this),this.unsubscribeOnline=void 0)}isFetching(e,t){const[r]=_e(e,t);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,t){var r;return null==(r=this.queryCache.find(e,t))?void 0:r.state.data}ensureQueryData(e,t,r){const n=Oe(e,t,r),i=this.getQueryData(n.queryKey);return i?Promise.resolve(i):this.fetchQuery(n)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,r){const n=this.queryCache.find(e),i=function(e,t){return"function"==typeof e?e(t):e}(t,null==n?void 0:n.state.data);if(void 0===i)return;const a=Oe(e),s=this.defaultQueryOptions(a);return this.queryCache.build(this,s).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return Xe.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,r)]))}getQueryState(e,t){var r;return null==(r=this.queryCache.find(e,t))?void 0:r.state}removeQueries(e,t){const[r]=_e(e,t),n=this.queryCache;Xe.batch(()=>{n.findAll(r).forEach(e=>{n.remove(e)})})}resetQueries(e,t,r){const[n,i]=_e(e,t,r),a=this.queryCache,s={type:"active",...n};return Xe.batch(()=>(a.findAll(n).forEach(e=>{e.reset()}),this.refetchQueries(s,i)))}cancelQueries(e,t,r){const[n,i={}]=_e(e,t,r);void 0===i.revert&&(i.revert=!0);const a=Xe.batch(()=>this.queryCache.findAll(n).map(e=>e.cancel(i)));return Promise.all(a).then(Te).catch(Te)}invalidateQueries(e,t,r){const[n,i]=_e(e,t,r);return Xe.batch(()=>{var e,t;if(this.queryCache.findAll(n).forEach(e=>{e.invalidate()}),"none"===n.refetchType)return Promise.resolve();const r={...n,type:null!=(e=null!=(t=n.refetchType)?t:n.type)?e:"active"};return this.refetchQueries(r,i)})}refetchQueries(e,t,r){const[n,i]=_e(e,t,r),a=Xe.batch(()=>this.queryCache.findAll(n).filter(e=>!e.isDisabled()).map(e=>{var t;return e.fetch(void 0,{...i,cancelRefetch:null==(t=null==i?void 0:i.cancelRefetch)||t,meta:{refetchPage:n.refetchPage}})}));let s=Promise.all(a).then(Te);return null!=i&&i.throwOnError||(s=s.catch(Te)),s}fetchQuery(e,t,r){const n=Oe(e,t,r),i=this.defaultQueryOptions(n);void 0===i.retry&&(i.retry=!1);const a=this.queryCache.build(this,i);return a.isStaleByTime(i.staleTime)?a.fetch(i):Promise.resolve(a.state.data)}prefetchQuery(e,t,r){return this.fetchQuery(e,t,r).then(Te).catch(Te)}fetchInfiniteQuery(e,t,r){const n=Oe(e,t,r);return n.behavior=it(),this.fetchQuery(n)}prefetchInfiniteQuery(e,t,r){return this.fetchInfiniteQuery(e,t,r).then(Te).catch(Te)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,t){const r=this.queryDefaults.find(t=>De(e)===De(t.queryKey));r?r.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})}getQueryDefaults(e){if(!e)return;const t=this.queryDefaults.find(t=>Fe(e,t.queryKey));return null==t?void 0:t.defaultOptions}setMutationDefaults(e,t){const r=this.mutationDefaults.find(t=>De(e)===De(t.mutationKey));r?r.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})}getMutationDefaults(e){if(!e)return;const t=this.mutationDefaults.find(t=>Fe(e,t.mutationKey));return null==t?void 0:t.defaultOptions}defaultQueryOptions(e){if(null!=e&&e._defaulted)return e;const t={...this.defaultOptions.queries,...this.getQueryDefaults(null==e?void 0:e.queryKey),...e,_defaulted:!0};return!t.queryHash&&t.queryKey&&(t.queryHash=Ae(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.useErrorBoundary&&(t.useErrorBoundary=!!t.suspense),t}defaultMutationOptions(e){return null!=e&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(null==e?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:3e5}}});he.createRoot(document.getElementById("root")).render(r.jsx(ne.StrictMode,{children:r.jsx(Se,{store:Pr,children:r.jsx(lt,{client:Zh,children:r.jsx(Xh,{})})})}))}},function(){return he||(0,de[e(de)[0]])((he={exports:{}}).exports,he),he.exports});export default fe();
